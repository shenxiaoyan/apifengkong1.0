/*!
 * ui-grid - v3.0.0-rc.22 - 2015-06-15
 * Copyright (c) 2015 ; License: MIT 
 */
(function(){angular.module("ui.grid.i18n",[]);angular.module("ui.grid",["ui.grid.i18n"])})();(function(){angular.module("ui.grid").constant("uiGridConstants",{LOG_DEBUG_MESSAGES:true,LOG_WARN_MESSAGES:true,LOG_ERROR_MESSAGES:true,CUSTOM_FILTERS:/CUSTOM_FILTERS/g,COL_FIELD:/COL_FIELD/g,MODEL_COL_FIELD:/MODEL_COL_FIELD/g,TOOLTIP:/title=\"TOOLTIP\"/g,DISPLAY_CELL_TEMPLATE:/DISPLAY_CELL_TEMPLATE/g,TEMPLATE_REGEXP:/<.+>/,FUNC_REGEXP:/(\([^)]*\))?$/,DOT_REGEXP:/\./g,APOS_REGEXP:/'/g,BRACKET_REGEXP:/^(.*)((?:\s*\[\s*\d+\s*\]\s*)|(?:\s*\[\s*"(?:[^"\\]|\\.)*"\s*\]\s*)|(?:\s*\[\s*'(?:[^'\\]|\\.)*'\s*\]\s*))(.*)$/,COL_CLASS_PREFIX:"ui-grid-col",events:{GRID_SCROLL:"uiGridScroll",COLUMN_MENU_SHOWN:"uiGridColMenuShown",ITEM_DRAGGING:"uiGridItemDragStart",COLUMN_HEADER_CLICK:"uiGridColumnHeaderClick"},keymap:{TAB:9,STRG:17,CAPSLOCK:20,CTRL:17,CTRLRIGHT:18,CTRLR:18,SHIFT:16,RETURN:13,ENTER:13,BACKSPACE:8,BCKSP:8,ALT:18,ALTR:17,ALTRIGHT:17,SPACE:32,WIN:91,MAC:91,FN:null,PG_UP:33,PG_DOWN:34,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESC:27,DEL:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},ASC:"asc",DESC:"desc",filter:{STARTS_WITH:2,ENDS_WITH:4,EXACT:8,CONTAINS:16,GREATER_THAN:32,GREATER_THAN_OR_EQUAL:64,LESS_THAN:128,LESS_THAN_OR_EQUAL:256,NOT_EQUAL:512,SELECT:"select",INPUT:"input"},aggregationTypes:{sum:2,count:4,avg:8,min:16,max:32},CURRENCY_SYMBOLS:["ƒ","$","£","$","¤","¥","៛","₩","₱","฿","₫"],scrollDirection:{UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",NONE:"none"},dataChange:{ALL:"all",EDIT:"edit",ROW:"row",COLUMN:"column",OPTIONS:"options"},scrollbars:{NEVER:0,ALWAYS:1}})})();angular.module("ui.grid").directive("uiGridCell",["$compile","$parse","gridUtil","uiGridConstants",function(c,d,e,b){var a={priority:0,scope:false,require:"?^uiGrid",compile:function(){return{pre:function(i,h,f,l){function k(){var m=i.col.compiledElementFn;m(i,function(n,o){h.append(n)})}if(l&&i.col.compiledElementFn){k()}else{if(l&&!i.col.compiledElementFn){i.col.getCompiledElementFn().then(function(m){m(i,function(n,o){h.append(n)})})}else{var j=i.col.cellTemplate.replace(b.MODEL_COL_FIELD,"row.entity."+e.preEval(i.col.field)).replace(b.COL_FIELD,"grid.getCellValue(row, col)");var g=c(j)(i);h.append(g)}}},post:function(o,j,n,k){var m=o.col.getColClass(false);j.addClass(m);var g;var i=function(q){var r=j;if(g){r.removeClass(g);g=null}if(angular.isFunction(o.col.cellClass)){g=o.col.cellClass(o.grid,o.row,o.col,o.rowRenderIndex,o.colRenderIndex)}else{g=o.col.cellClass}r.addClass(g)};if(o.col.cellClass){i()}var h=o.grid.registerDataChangeCallback(i,[b.dataChange.COLUMN,b.dataChange.EDIT]);var l=function(s,r){if(s!==r){if(g||o.col.cellClass){i()}var q=o.col.getColClass(false);if(q!==m){j.removeClass(m);j.addClass(q);m=q}}};var p=o.$watch("row",l);var f=function(){h();p()};o.$on("$destroy",f);j.on("$destroy",f)}}}};return a}]);(function(){angular.module("ui.grid").service("uiGridColumnMenuService",["i18nService","uiGridConstants","gridUtil",function(c,b,d){var a={initialize:function(e,f){e.grid=f.grid;f.columnMenuScope=e;e.menuShown=false},setColMenuItemWatch:function(e){var f=e.$watch("col.menuItems",function(h,g){if(typeof(h)!=="undefined"&&h&&angular.isArray(h)){h.forEach(function(i){if(typeof(i.context)==="undefined"||!i.context){i.context={}}i.context.col=e.col});e.menuItems=e.defaultMenuItems.concat(h)}else{e.menuItems=e.defaultMenuItems}});e.$on("$destroy",f)},sortable:function(e){if(e.grid.options.enableSorting&&typeof(e.col)!=="undefined"&&e.col&&e.col.enableSorting){return true}else{return false}},isActiveSort:function(e,f){return(typeof(e.col)!=="undefined"&&typeof(e.col.sort)!=="undefined"&&typeof(e.col.sort.direction)!=="undefined"&&e.col.sort.direction===f)},suppressRemoveSort:function(e){if(e.col&&e.col.suppressRemoveSort){return true}else{return false}},hideable:function(e){if(typeof(e.col)!=="undefined"&&e.col&&e.col.colDef&&e.col.colDef.enableHiding===false){return false}else{return true}},getDefaultMenuItems:function(e){return[{title:c.getSafeText("sort.ascending"),icon:"ui-grid-icon-sort-alt-up",action:function(f){f.stopPropagation();e.sortColumn(f,b.ASC)},shown:function(){return a.sortable(e)},active:function(){return a.isActiveSort(e,b.ASC)}},{title:c.getSafeText("sort.descending"),icon:"ui-grid-icon-sort-alt-down",action:function(f){f.stopPropagation();e.sortColumn(f,b.DESC)},shown:function(){return a.sortable(e)},active:function(){return a.isActiveSort(e,b.DESC)}},{title:c.getSafeText("sort.remove"),icon:"ui-grid-icon-cancel",action:function(f){f.stopPropagation();e.unsortColumn()},shown:function(){return a.sortable(e)&&typeof(e.col)!=="undefined"&&(typeof(e.col.sort)!=="undefined"&&typeof(e.col.sort.direction)!=="undefined")&&e.col.sort.direction!==null&&!a.suppressRemoveSort(e)}},{title:c.getSafeText("column.hide"),icon:"ui-grid-icon-cancel",shown:function(){return a.hideable(e)},action:function(f){f.stopPropagation();e.hideColumn()}}]},getColumnElementPosition:function(f,g,h){var e={};e.left=h[0].offsetLeft;e.top=h[0].offsetTop;e.parentLeft=h[0].offsetParent.offsetLeft;e.offset=0;if(g.grid.options.offsetLeft){e.offset=g.grid.options.offsetLeft}e.height=d.elementHeight(h,true);e.width=d.elementWidth(h,true);return e},repositionMenu:function(r,k,l,j,m){var g=j[0].querySelectorAll(".ui-grid-menu");var n=k.renderContainer?k.renderContainer:"body";var o=k.grid.renderContainers[n];var f=d.closestElm(m,".ui-grid-render-container");var p=f.getBoundingClientRect().left-r.grid.element[0].getBoundingClientRect().left;var s=f.querySelectorAll(".ui-grid-viewport")[0].scrollLeft;var e=k.lastMenuWidth?k.lastMenuWidth:(r.lastMenuWidth?r.lastMenuWidth:170);var h=k.lastMenuPaddingRight?k.lastMenuPaddingRight:(r.lastMenuPaddingRight?r.lastMenuPaddingRight:10);if(g.length!==0){var q=g[0].querySelectorAll(".ui-grid-menu-mid");if(q.length!==0&&!angular.element(q).hasClass("ng-hide")){e=d.elementWidth(g,true);r.lastMenuWidth=e;k.lastMenuWidth=e;h=parseInt(d.getStyles(angular.element(g)[0])["paddingRight"],10);r.lastMenuPaddingRight=h;k.lastMenuPaddingRight=h}}var i=l.left+p-s+l.parentLeft+l.width-e+h;if(i<l.offset){i=l.offset}j.css("left",i+"px");j.css("top",(l.top+l.height)+"px")}};return a}]).directive("uiGridColumnMenu",["$timeout","gridUtil","uiGridConstants","uiGridColumnMenuService",function(c,e,b,a){var d={priority:0,scope:true,require:"?^uiGrid",templateUrl:"ui-grid/uiGridColumnMenu",replace:true,link:function(i,g,f,j){var h=this;a.initialize(i,j);i.defaultMenuItems=a.getDefaultMenuItems(i);i.menuItems=i.defaultMenuItems;a.setColMenuItemWatch(i);i.showMenu=function(k,m,l){i.col=k;var n=a.getColumnElementPosition(i,k,m);if(i.menuShown){i.colElement=m;i.colElementPosition=n;i.hideThenShow=true;i.$broadcast("hide-menu",{originalEvent:l})}else{h.shown=i.menuShown=true;a.repositionMenu(i,k,n,g,m);i.colElement=m;i.colElementPosition=n;i.$broadcast("show-menu",{originalEvent:l})}};i.hideMenu=function(k){i.menuShown=false;if(!k){i.$broadcast("hide-menu")}};i.$on("menu-hidden",function(){if(i.hideThenShow){delete i.hideThenShow;a.repositionMenu(i,i.col,i.colElementPosition,g,i.colElement);i.$broadcast("show-menu");i.menuShown=true}else{i.hideMenu(true)}});i.$on("menu-shown",function(){c(function(){a.repositionMenu(i,i.col,i.colElementPosition,g,i.colElement);delete i.colElementPosition;delete i.columnElement},200)});i.sortColumn=function(l,k){l.stopPropagation();i.grid.sortColumn(i.col,k,true).then(function(){i.grid.refresh();i.hideMenu()})};i.unsortColumn=function(){i.col.unsort();i.grid.refresh();i.hideMenu()};i.hideColumn=function(){i.col.colDef.visible=false;i.col.visible=false;i.grid.queueGridRefresh();i.hideMenu();i.grid.api.core.notifyDataChange(b.dataChange.COLUMN);i.grid.api.core.raise.columnVisibilityChanged(i.col)}},controller:["$scope",function(g){var f=this;g.$watch("menuItems",function(i,h){f.menuItems=i})}]};return d}])})();(function(){angular.module("ui.grid").directive("uiGridFilter",["$compile","$templateCache",function(b,a){return{compile:function(){return{pre:function(e,d,c,f){e.col.updateFilters=function(h){d.children().remove();if(h){var g=e.col.filterHeaderTemplate;d.append(b(g)(e))}};e.$on("$destroy",function(){delete e.col.updateFilters})}}}}}])})();(function(){angular.module("ui.grid").directive("uiGridFooterCell",["$timeout","gridUtil","uiGridConstants","$compile",function(d,f,a,c){var b={priority:0,scope:{col:"=",row:"=",renderIndex:"="},replace:true,require:"^uiGrid",compile:function e(h,i,g){return{pre:function(l,k,j,m){var n=c(l.col.footerCellTemplate)(l);k.append(n)},post:function(n,m,j,p){n.grid=p.grid;var q=n.col.getColClass(false);m.addClass(q);var o;var l=function(r){var s=m;if(o){s.removeClass(o);o=null}if(angular.isFunction(n.col.footerCellClass)){o=n.col.footerCellClass(n.grid,n.row,n.col,n.rowRenderIndex,n.colRenderIndex)}else{o=n.col.footerCellClass}s.addClass(o)};if(n.col.footerCellClass){l()}n.col.updateAggregationValue();var k=n.grid.registerDataChangeCallback(l,[a.dataChange.COLUMN]);n.grid.api.core.on.rowsRendered(n,n.col.updateAggregationValue);n.$on("$destroy",k)}}}};return b}])})();(function(){angular.module("ui.grid").directive("uiGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(b,d,a,e,c){return{restrict:"EA",replace:true,require:["^uiGrid","^uiGridRenderContainer"],scope:true,compile:function(g,f){return{pre:function(l,k,h,n){var m=n[0];var j=n[1];l.grid=m.grid;l.colContainer=j.colContainer;j.footer=k;var i=l.grid.options.footerTemplate;e.getTemplate(i).then(function(q){var p=angular.element(q);var o=d(p)(l);k.append(o);if(j){var r=k[0].getElementsByClassName("ui-grid-footer-viewport")[0];if(r){j.footerViewport=r}}})},post:function(k,j,h,o){var n=o[0];var i=o[1];var l=n.grid;e.disableAnimations(j);i.footer=j;var m=j[0].getElementsByClassName("ui-grid-footer-viewport")[0];if(m){i.footerViewport=m}}}}}}])})();(function(){angular.module("ui.grid").directive("uiGridGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(b,d,a,e,c){return{restrict:"EA",replace:true,require:"^uiGrid",scope:true,compile:function(g,f){return{pre:function(k,j,h,l){k.grid=l.grid;var i=k.grid.options.gridFooterTemplate;e.getTemplate(i).then(function(o){var n=angular.element(o);var m=d(n)(k);j.append(m)})},post:function(j,i,h,k){}}}}}])})();(function(){angular.module("ui.grid").directive("uiGridGroupPanel",["$compile","uiGridConstants","gridUtil",function(b,a,d){var c="ui-grid/ui-grid-group-panel";return{restrict:"EA",replace:true,require:"?^uiGrid",scope:false,compile:function(f,e){return{pre:function(i,h,g,j){var k=i.grid.options.groupPanelTemplate||c;d.getTemplate(k).then(function(n){var m=angular.element(n);var l=b(m)(i);h.append(l)})},post:function(i,h,g,j){h.bind("$destroy",function(){})}}}}}])})();(function(){angular.module("ui.grid").directive("uiGridHeaderCell",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","ScrollEvent",function(g,c,b,d,i,h,j){var e=500;var a=500;var f={priority:0,scope:{col:"=",row:"=",renderIndex:"="},require:["?^uiGrid","^uiGridRenderContainer"],replace:true,compile:function(){return{pre:function(m,l,k){var n=g(m.col.headerCellTemplate)(m);l.append(n)},post:function(x,o,w,n){var t=n[0];var m=n[1];x.grid=t.grid;x.renderContainer=t.grid.renderContainers[m.containerId];var v=x.col.getColClass(false);o.addClass(v);x.menuShown=false;x.asc=h.ASC;x.desc=h.DESC;var s=angular.element(o[0].querySelectorAll(".ui-grid-header-cell-menu"));var r=angular.element(o[0].querySelectorAll(".ui-grid-cell-contents"));var l;var u;var q=[];x.downFn=function(y){y.stopPropagation();if(typeof(y.originalEvent)!=="undefined"&&y.originalEvent!==undefined){y=y.originalEvent}if(y.button&&y.button!==0){return}u=y.pageX;x.mousedownStartTime=(new Date()).getTime();x.mousedownTimeout=c(function(){},e);x.mousedownTimeout.then(function(){if(x.colMenu){t.columnMenuScope.showMenu(x.col,o,y)}});t.fireEvent(h.events.COLUMN_HEADER_CLICK,{event:y,columnName:x.col.colDef.name});x.offAllEvents();if(y.type==="touchstart"){d.on("touchend",x.upFn);d.on("touchmove",x.moveFn)}else{if(y.type==="mousedown"){d.on("mouseup",x.upFn);d.on("mousemove",x.moveFn)}}};x.upFn=function(z){z.stopPropagation();c.cancel(x.mousedownTimeout);x.offAllEvents();x.onDownEvents(z.type);var y=(new Date()).getTime();var A=y-x.mousedownStartTime;if(A>e){}else{if(x.sortable){x.handleClick(z)}}};x.moveFn=function(z){var y=z.pageX-u;if(y===0){return}c.cancel(x.mousedownTimeout);x.offAllEvents();x.onDownEvents(z.type)};x.clickFn=function(y){y.stopPropagation();r.off("click",x.clickFn)};x.offAllEvents=function(){r.off("touchstart",x.downFn);r.off("mousedown",x.downFn);d.off("touchend",x.upFn);d.off("mouseup",x.upFn);d.off("touchmove",x.moveFn);d.off("mousemove",x.moveFn);r.off("click",x.clickFn)};x.onDownEvents=function(y){switch(y){case"touchmove":case"touchend":r.on("click",x.clickFn);r.on("touchstart",x.downFn);c(function(){r.on("mousedown",x.downFn)},a);break;case"mousemove":case"mouseup":r.on("click",x.clickFn);r.on("mousedown",x.downFn);c(function(){r.on("touchstart",x.downFn)},a);break;default:r.on("click",x.clickFn);r.on("touchstart",x.downFn);r.on("mousedown",x.downFn)}};var p=function(y){var z=o;if(l){z.removeClass(l);l=null}if(angular.isFunction(x.col.headerCellClass)){l=x.col.headerCellClass(x.grid,x.row,x.col,x.rowRenderIndex,x.colRenderIndex)}else{l=x.col.headerCellClass}z.addClass(l);var B=x.grid.renderContainers.right?x.grid.renderContainers.right:x.grid.renderContainers.body;x.isLastCol=(x.col===B.visibleColumnCache[B.visibleColumnCache.length-1]);if(t.grid.options.enableSorting&&x.col.enableSorting){x.sortable=true}else{x.sortable=false}var A=x.filterable;if(t.grid.options.enableFiltering&&x.col.enableFiltering){x.filterable=true}else{x.filterable=false}if(A!==x.filterable){if(typeof(x.col.updateFilters)!=="undefined"){x.col.updateFilters(x.filterable)}if(x.filterable){x.col.filters.forEach(function(D,C){q.push(x.$watch("col.filters["+C+"].term",function(F,E){if(F!==E){t.grid.api.core.raise.filterChanged();t.grid.api.core.notifyDataChange(h.dataChange.COLUMN);t.grid.queueGridRefresh()}}))});x.$on("$destroy",function(){q.forEach(function(C){C()})})}else{q.forEach(function(C){C()})}}if(x.col.grid.options&&x.col.grid.options.enableColumnMenus!==false&&x.col.colDef&&x.col.colDef.enableColumnMenu!==false){x.colMenu=true}else{x.colMenu=false}x.offAllEvents();if(x.sortable||x.colMenu){x.onDownEvents();x.$on("$destroy",function(){x.offAllEvents()})}};p();var k=x.grid.registerDataChangeCallback(p,[h.dataChange.COLUMN]);x.$on("$destroy",k);x.handleClick=function(y){var z=false;if(y.shiftKey){z=true}t.grid.sortColumn(x.col,z).then(function(){if(t.columnMenuScope){t.columnMenuScope.hideMenu()}t.grid.refresh()})};x.toggleMenu=function(y){y.stopPropagation();if(t.columnMenuScope.menuShown){if(t.columnMenuScope.col===x.col){t.columnMenuScope.hideMenu()}else{t.columnMenuScope.showMenu(x.col,o)}}else{t.columnMenuScope.showMenu(x.col,o)}}}}}};return f}])})();(function(){angular.module("ui.grid").directive("uiGridHeader",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout","ScrollEvent",function(c,e,b,h,d,g){var f="ui-grid/ui-grid-header";var a="ui-grid/ui-grid-no-header";return{restrict:"EA",replace:true,require:["^uiGrid","^uiGridRenderContainer"],scope:true,compile:function(j,i){return{pre:function(r,n,p,m){var o=m[0];var k=m[1];r.grid=o.grid;r.colContainer=k.colContainer;s();var q;if(!r.grid.options.showHeader){q=a}else{q=(r.grid.options.headerTemplate)?r.grid.options.headerTemplate:f}h.getTemplate(q).then(function(w){var v=angular.element(w);var t=e(v)(r);n.replaceWith(t);n=t;s();if(k){var u=n[0].getElementsByClassName("ui-grid-header-viewport")[0];if(u){k.headerViewport=u;angular.element(u).on("scroll",l);r.$on("$destroy",function(){angular.element(u).off("scroll",l)})}}r.grid.queueRefresh()});function s(){k.header=k.colContainer.header=n;var t=n[0].getElementsByClassName("ui-grid-header-canvas");if(t.length>0){k.headerCanvas=k.colContainer.headerCanvas=t[0]}else{k.headerCanvas=null}}function l(t){if(o.grid.isScrollingHorizontally){return}var w=h.normalizeScrollLeft(k.headerViewport,o.grid);var u=k.colContainer.scrollHorizontal(w);var v=new g(o.grid,null,k.colContainer,g.Sources.ViewPortScroll);v.newScrollLeft=w;if(u>-1){v.x={percentage:u}}o.grid.scrollContainers(null,v)}},post:function(s,n,r,m){var o=m[0];var l=m[1];var k=o.grid;h.disableAnimations(n);function q(){var v=l.colContainer.visibleColumnCache;var u="";var t=0;v.forEach(function(w){u=u+w.getColClassDefinition();t+=w.drawnWidth});l.colContainer.canvasWidth=t;return u}l.header=n;var p=n[0].getElementsByClassName("ui-grid-header-viewport")[0];if(p){l.headerViewport=p}if(o){o.grid.registerStyleComputation({priority:15,func:q})}}}}}}])})();(function(){angular.module("ui.grid").service("uiGridGridMenuService",["gridUtil","i18nService","uiGridConstants",function(d,c,b){var a={initialize:function(e,f){f.gridMenuScope=e;e.grid=f;e.registeredMenuItems=[];e.$on("$destroy",function(){if(e.grid&&e.grid.gridMenuScope){e.grid.gridMenuScope=null}if(e.grid){e.grid=null}if(e.registeredMenuItems){e.registeredMenuItems=null}});e.registeredMenuItems=[];f.api.registerMethod("core","addToGridMenu",a.addToGridMenu);f.api.registerMethod("core","removeFromGridMenu",a.removeFromGridMenu)},addToGridMenu:function(f,e){if(!angular.isArray(e)){d.logError("addToGridMenu: menuItems must be an array, and is not, not adding any items")}else{if(f.gridMenuScope){f.gridMenuScope.registeredMenuItems=f.gridMenuScope.registeredMenuItems?f.gridMenuScope.registeredMenuItems:[];f.gridMenuScope.registeredMenuItems=f.gridMenuScope.registeredMenuItems.concat(e)}else{d.logError("Asked to addToGridMenu, but gridMenuScope not present.  Timing issue?  Please log issue with ui-grid")}}},removeFromGridMenu:function(e,g){var f=-1;if(e&&e.gridMenuScope){e.gridMenuScope.registeredMenuItems.forEach(function(i,h){if(i.id===g){if(f>-1){d.logError("removeFromGridMenu: found multiple items with the same id, removing only the last")}else{f=h}}})}if(f>-1){e.gridMenuScope.registeredMenuItems.splice(f,1)}},getMenuItems:function(e){var f=[];if(e.grid.options.gridMenuCustomItems){if(!angular.isArray(e.grid.options.gridMenuCustomItems)){d.logError("gridOptions.gridMenuCustomItems must be an array, and is not")}else{f=f.concat(e.grid.options.gridMenuCustomItems)}}f=f.concat(e.registeredMenuItems);if(e.grid.options.gridMenuShowHideColumns!==false){f=f.concat(a.showHideColumns(e))}f.sort(function(h,g){return h.order-g.order});return f},showHideColumns:function(e){var f=[];if(!e.grid.options.columnDefs||e.grid.options.columnDefs.length===0||e.grid.columns.length===0){return f}f.push({title:c.getSafeText("gridMenu.columns"),order:300});e.grid.options.gridMenuTitleFilter=e.grid.options.gridMenuTitleFilter?e.grid.options.gridMenuTitleFilter:function(g){return g};e.grid.options.columnDefs.forEach(function(i,g){if(i.enableHiding!==false){var h={icon:"ui-grid-icon-ok",action:function(j){j.stopPropagation();a.toggleColumnVisibility(this.context.gridCol)},shown:function(){return this.context.gridCol.colDef.visible===true||this.context.gridCol.colDef.visible===undefined},context:{gridCol:e.grid.getColumn(i.name||i.field)},leaveOpen:true,order:301+g*2};a.setMenuItemTitle(h,i,e.grid);f.push(h);h={icon:"ui-grid-icon-cancel",action:function(j){j.stopPropagation();a.toggleColumnVisibility(this.context.gridCol)},shown:function(){return !(this.context.gridCol.colDef.visible===true||this.context.gridCol.colDef.visible===undefined)},context:{gridCol:e.grid.getColumn(i.name||i.field)},leaveOpen:true,order:301+g*2+1};a.setMenuItemTitle(h,i,e.grid);f.push(h)}});return f},setMenuItemTitle:function(f,g,e){var h=e.options.gridMenuTitleFilter(g.displayName||g.name||g.field);if(typeof(h)==="string"){f.title=h}else{if(h.then){f.title="";h.then(function(i){f.title=i},function(i){f.title=i})}else{d.logError("Expected gridMenuTitleFilter to return a string or a promise, it has returned neither, bad config");f.title="badconfig"}}},toggleColumnVisibility:function(e){e.colDef.visible=!(e.colDef.visible===true||e.colDef.visible===undefined);e.grid.refresh();e.grid.api.core.notifyDataChange(b.dataChange.COLUMN);e.grid.api.core.raise.columnVisibilityChanged(e)}};return a}]).directive("uiGridMenuButton",["gridUtil","uiGridConstants","uiGridGridMenuService",function(c,a,b){return{priority:0,scope:true,require:["?^uiGrid"],templateUrl:"ui-grid/ui-grid-menu-button",replace:true,link:function(f,e,d,h){var g=h[0];b.initialize(f,g.grid);f.shown=false;f.toggleMenu=function(){if(f.shown){f.$broadcast("hide-menu");f.shown=false}else{f.menuItems=b.getMenuItems(f);f.$broadcast("show-menu");f.shown=true}};f.$on("menu-hidden",function(){f.shown=false})}}}])})();(function(){angular.module("ui.grid").directive("uiGridMenu",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants",function(c,b,g,f,e,a){var d={priority:0,scope:{menuItems:"=",autoHide:"=?"},require:"?^uiGrid",templateUrl:"ui-grid/uiGridMenu",replace:false,link:function(l,j,i,m){var k=this;var h;var o;k.showMenu=l.showMenu=function(q,p){if(!l.shown){l.shown=true;b(function(){l.shownMid=true;l.$emit("menu-shown")})}else{if(!l.shownMid){l.shownMid=true;l.$emit("menu-shown")}}var r="click";if(p&&p.originalEvent&&p.originalEvent.type&&p.originalEvent.type==="touchstart"){r=p.originalEvent.type}angular.element(document).off("click touchstart",n);b(function(){angular.element(document).on(r,n)})};k.hideMenu=l.hideMenu=function(q,p){if(l.shown){l.shownMid=false;b(function(){if(!l.shownMid){l.shown=false;l.$emit("menu-hidden")}},200)}angular.element(document).off("click touchstart",n)};l.$on("hide-menu",function(q,p){l.hideMenu(q,p)});l.$on("show-menu",function(q,p){l.showMenu(q,p)});var n=function(){if(l.shown){l.$apply(function(){l.hideMenu()})}};if(typeof(l.autoHide)==="undefined"||l.autoHide===undefined){l.autoHide=true}if(l.autoHide){angular.element(g).on("resize",n)}l.$on("$destroy",function(){angular.element(document).off("click touchstart",n)});l.$on("$destroy",function(){angular.element(g).off("resize",n)});if(m){l.$on("$destroy",m.grid.api.core.on.scrollBegin(l,n))}l.$on("$destroy",l.$on(a.events.ITEM_DRAGGING,n))},controller:["$scope","$element","$attrs",function(k,i,h){var j=this}]};return d}]).directive("uiGridMenuItem",["gridUtil","$compile","i18nService",function(d,c,a){var b={priority:0,scope:{name:"=",active:"=",action:"=",icon:"=",shown:"=",context:"=",templateUrl:"=",leaveOpen:"="},require:["?^uiGrid","^uiGridMenu"],templateUrl:"ui-grid/uiGridMenuItem",replace:true,compile:function(f,e){return{pre:function(i,h,g,l){var k=l[0],j=l[1];if(i.templateUrl){d.getTemplate(i.templateUrl).then(function(o){var n=angular.element(o);var m=c(n)(i);h.replaceWith(m)})}},post:function(i,h,g,l){var k=l[0],j=l[1];if(typeof(i.shown)==="undefined"||i.shown===null){i.shown=function(){return true}}i.itemShown=function(){var m={};if(i.context){m.context=i.context}if(typeof(k)!=="undefined"&&k){m.grid=k.grid}return i.shown.call(m)};i.itemAction=function(m,o){m.stopPropagation();if(typeof(i.action)==="function"){var n={};if(i.context){n.context=i.context}if(typeof(k)!=="undefined"&&k){n.grid=k.grid}i.action.call(n,m,o);if(!i.leaveOpen){i.$emit("hide-menu")}}};i.i18n=a.get()}}}};return b}])})();(function(){var a=angular.module("ui.grid");a.directive("uiGridRenderContainer",["$timeout","$document","uiGridConstants","gridUtil","ScrollEvent",function(c,f,b,e,d){return{replace:true,transclude:true,templateUrl:"ui-grid/uiGridRenderContainer",require:["^uiGrid","uiGridRenderContainer"],scope:{containerId:"=",rowContainerName:"=",colContainerName:"=",bindScrollHorizontal:"=",bindScrollVertical:"=",enableVerticalScrollbar:"=",enableHorizontalScrollbar:"="},controller:"uiGridRenderContainer as RenderContainer",compile:function(){return{pre:function g(p,m,o,l){var n=l[0];var j=l[1];var i=p.grid=n.grid;if(!p.rowContainerName){throw"No row render container name specified"}if(!p.colContainerName){throw"No column render container name specified"}if(!i.renderContainers[p.rowContainerName]){throw"Row render container '"+p.rowContainerName+"' is not registered."}if(!i.renderContainers[p.colContainerName]){throw"Column render container '"+p.colContainerName+"' is not registered."}var q=p.rowContainer=i.renderContainers[p.rowContainerName];var k=p.colContainer=i.renderContainers[p.colContainerName];j.containerId=p.containerId;j.rowContainer=q;j.colContainer=k},post:function h(t,n,s,m){var r=m[0];var j=m[1];var i=r.grid;var u=j.rowContainer;var l=j.colContainer;var k=null;var o=null;var q=i.renderContainers[t.containerId];n.addClass("ui-grid-render-container-"+t.containerId);e.on.mousewheel(n,function(y){var w=new d(i,u,l,d.Sources.RenderContainerMouseWheel);if(y.deltaY!==0){var A=y.deltaY*-1*y.deltaFactor;k=j.viewport[0].scrollTop;var z=(k+A)/u.getVerticalScrollLength();if(z<0){z=0}else{if(z>1){z=1}}w.y={percentage:z,pixels:A}}if(y.deltaX!==0){var x=y.deltaX*y.deltaFactor;o=e.normalizeScrollLeft(j.viewport,i);var v=(o+x)/(l.getCanvasWidth()-l.getViewportWidth());if(v<0){v=0}else{if(v>1){v=1}}w.x={percentage:v,pixels:x}}if((y.deltaY!==0&&(w.atTop(k)||w.atBottom(k)))||(y.deltaX!==0&&(w.atLeft(o)||w.atRight(o)))){}else{y.preventDefault();w.fireThrottledScrollingEvent("",w)}});n.bind("$destroy",function(){n.unbind("keydown");["touchstart","touchmove","touchend","keydown","wheel","mousewheel","DomMouseScroll","MozMousePixelScroll"].forEach(function(v){n.unbind(v)})});function p(){var A="";var v=l.canvasWidth;var w=l.getViewportWidth();var z=u.getCanvasHeight();if(t.containerId!=="body"){z+=i.scrollbarHeight}var x=u.getViewportHeight();var B,y;B=y=l.getHeaderViewportWidth();A+="\n .grid"+r.grid.id+" .ui-grid-render-container-"+t.containerId+" .ui-grid-canvas { width: "+v+"px; height: "+z+"px; }";A+="\n .grid"+r.grid.id+" .ui-grid-render-container-"+t.containerId+" .ui-grid-header-canvas { width: "+(v+i.scrollbarWidth)+"px; }";if(q.explicitHeaderCanvasHeight){A+="\n .grid"+r.grid.id+" .ui-grid-render-container-"+t.containerId+" .ui-grid-header-canvas { height: "+q.explicitHeaderCanvasHeight+"px; }"}else{A+="\n .grid"+r.grid.id+" .ui-grid-render-container-"+t.containerId+" .ui-grid-header-canvas { height: inherit; }"}A+="\n .grid"+r.grid.id+" .ui-grid-render-container-"+t.containerId+" .ui-grid-viewport { width: "+w+"px; height: "+x+"px; }";A+="\n .grid"+r.grid.id+" .ui-grid-render-container-"+t.containerId+" .ui-grid-header-viewport { width: "+B+"px; }";A+="\n .grid"+r.grid.id+" .ui-grid-render-container-"+t.containerId+" .ui-grid-footer-canvas { width: "+(v+i.scrollbarWidth)+"px; }";A+="\n .grid"+r.grid.id+" .ui-grid-render-container-"+t.containerId+" .ui-grid-footer-viewport { width: "+y+"px; }";return A}r.grid.registerStyleComputation({priority:6,func:p})}}}}}]);a.controller("uiGridRenderContainer",["$scope","gridUtil",function(b,c){}])})();(function(){angular.module("ui.grid").directive("uiGridRow",["gridUtil",function(a){return{replace:true,require:["^uiGrid","^uiGridRenderContainer"],scope:{row:"=uiGridRow",rowRenderIndex:"="},compile:function(){return{pre:function(k,e,i,d){var g=d[0];var c=d[1];var b=g.grid;k.grid=g.grid;k.colContainer=c.colContainer;var f,h;function j(){k.row.getRowTemplateFn.then(function(l){var m=k.$new();l(m,function(n,o){if(f){f.remove();h.$destroy()}e.empty().append(n);f=n;h=m})})}j();k.$watch("row.getRowTemplateFn",function(l,m){if(l!==m){j()}})},post:function(d,c,b,e){}}}}}])})();(function(){angular.module("ui.grid").directive("uiGridStyle",["gridUtil","$interpolate",function(b,a){return{link:function(f,d,c,g){var e=a(d.text(),true);if(e){f.$watch(e,function(h){d.text(h)})}}}}])})();(function(){angular.module("ui.grid").directive("uiGridViewport",["gridUtil","ScrollEvent","uiGridConstants","$log",function(d,c,a,b){return{replace:true,scope:{},controllerAs:"Viewport",templateUrl:"ui-grid/uiGridViewport",require:["^uiGrid","^uiGridRenderContainer"],link:function(q,j,p,h){var m=h[0];var f=h[1];q.containerCtrl=f;var s=f.rowContainer;var i=f.colContainer;var e=m.grid;q.grid=m.grid;q.rowContainer=f.rowContainer;q.colContainer=f.colContainer;f.viewport=j;j.on("scroll",g);var l=false;function g(u){var w=j[0].scrollTop;var y=d.normalizeScrollLeft(j,e);var t=s.scrollVertical(w);var v=i.scrollHorizontal(y);var x=new c(e,s,i,c.Sources.ViewPortScroll);x.newScrollLeft=y;x.newScrollTop=w;if(v>-1){x.x={percentage:v}}if(t>-1){x.y={percentage:t}}e.scrollContainers(q.$parent.containerId,x)}if(q.$parent.bindScrollVertical){e.addVerticalScrollSync(q.$parent.containerId,r)}if(q.$parent.bindScrollHorizontal){e.addHorizontalScrollSync(q.$parent.containerId,n);e.addHorizontalScrollSync(q.$parent.containerId+"header",k);e.addHorizontalScrollSync(q.$parent.containerId+"footer",o)}function r(u){f.prevScrollArgs=u;var t=u.getNewScrollTop(s,f.viewport);j[0].scrollTop=t}function n(t){f.prevScrollArgs=t;var u=t.getNewScrollLeft(i,f.viewport);j[0].scrollLeft=d.denormalizeScrollLeft(f.viewport,u,e)}function k(t){var u=t.getNewScrollLeft(i,f.viewport);if(f.headerViewport){f.headerViewport.scrollLeft=d.denormalizeScrollLeft(f.viewport,u,e)}}function o(t){var u=t.getNewScrollLeft(i,f.viewport);if(f.footerViewport){f.footerViewport.scrollLeft=d.denormalizeScrollLeft(f.viewport,u,e)}}},controller:["$scope",function(e){this.rowStyle=function(h){var g=e.rowContainer;var j=e.colContainer;var i={};if(h===0&&g.currentTopRow!==0){var f=(g.currentTopRow)*g.grid.options.rowHeight;i["margin-top"]=f+"px"}if(j.currentFirstColumn!==0){if(j.grid.isRTL()){i["margin-right"]=j.columnOffset+"px"}else{i["margin-left"]=j.columnOffset+"px"}}return i}}]}}])})();(function(){angular.module("ui.grid").directive("uiGridVisible",function a(){return function(c,b,d){c.$watch(d.uiGridVisible,function(e){b[e?"removeClass":"addClass"]("ui-grid-invisible")})}})})();(function(){angular.module("ui.grid").controller("uiGridController",["$scope","$element","$attrs","gridUtil","$q","uiGridConstants","$templateCache","gridClassFactory","$timeout","$parse","$compile",function(p,d,o,m,i,j,e,k,c,f,h){var q=this;q.grid=k.createGrid(p.uiGrid);q.grid.appScope=q.grid.appScope||p.$parent;d.addClass("grid"+q.grid.id);q.grid.rtl=m.getStyles(d[0])["direction"]==="rtl";p.grid=q.grid;if(o.uiGridColumns){o.$observe("uiGridColumns",function(s){q.grid.options.columnDefs=s;q.grid.buildColumns().then(function(){q.grid.preCompileCellTemplates();q.grid.refreshCanvas(true)})})}var g=[];if(q.grid.options.fastWatch){q.uiGrid=p.uiGrid;if(angular.isString(p.uiGrid.data)){g.push(p.$parent.$watch(p.uiGrid.data,r));g.push(p.$parent.$watch(function(){if(q.grid.appScope[p.uiGrid.data]){return q.grid.appScope[p.uiGrid.data].length}else{return undefined}},r))}else{g.push(p.$parent.$watch(function(){return p.uiGrid.data},r));g.push(p.$parent.$watch(function(){return p.uiGrid.data.length},r))}g.push(p.$parent.$watch(function(){return p.uiGrid.columnDefs},n));g.push(p.$parent.$watch(function(){return p.uiGrid.columnDefs.length},n))}else{if(angular.isString(p.uiGrid.data)){g.push(p.$parent.$watchCollection(p.uiGrid.data,r))}else{g.push(p.$parent.$watchCollection(function(){return p.uiGrid.data},r))}g.push(p.$parent.$watchCollection(function(){return p.uiGrid.columnDefs},n))}function n(t,s){if(t&&t!==s){q.grid.options.columnDefs=t;q.grid.buildColumns({orderByColumnDefs:true}).then(function(){q.grid.preCompileCellTemplates();q.grid.callDataChangeCallbacks(j.dataChange.COLUMN)})}}function r(t){var s=[];if(q.grid.options.fastWatch){if(angular.isString(p.uiGrid.data)){t=q.grid.appScope[p.uiGrid.data]}else{t=p.uiGrid.data}}if(t){if(q.grid.columns.length===(q.grid.rowHeaderColumns?q.grid.rowHeaderColumns.length:0)&&!o.uiGridColumns&&q.grid.options.columnDefs.length===0&&t.length>0){q.grid.buildColumnDefsFromData(t)}if(q.grid.options.columnDefs.length>0||t.length>0){s.push(q.grid.buildColumns().then(function(){q.grid.preCompileCellTemplates()}))}i.all(s).then(function(){q.grid.modifyRows(t).then(function(){q.grid.redrawInPlace(true);p.$evalAsync(function(){q.grid.refreshCanvas(true);q.grid.callDataChangeCallbacks(j.dataChange.ROW)})})})}}var l=p.$watch(function(){return q.grid.styleComputations},function(){q.grid.refreshCanvas(true)});p.$on("$destroy",function(){g.forEach(function(s){s()});l()});q.fireEvent=function(s,t){if(typeof(t)==="undefined"||t===undefined){t={}}if(typeof(t.grid)==="undefined"||t.grid===undefined){t.grid=q.grid}p.$broadcast(s,t)};q.innerCompile=function b(s){h(s)(p)}}]);angular.module("ui.grid").directive("uiGrid",a);a.$inject=["$compile","$templateCache","$timeout","$window","gridUtil","uiGridConstants"];function a(e,c,d,g,f,b){return{templateUrl:"ui-grid/ui-grid",scope:{uiGrid:"="},replace:true,transclude:true,controller:"uiGridController",compile:function(){return{post:function(r,i,p,n){var h=n.grid;n.scrollbars=[];h.element=i;var o=100;var m=20;var q=0;j();t();h.renderingComplete();l();function l(){if(i[0].offsetWidth<=0&&q<m){setTimeout(l,o);q++}else{d(t)}}function j(){angular.element(g).on("resize",k);i.on("$destroy",function(){angular.element(g).off("resize",k)});r.$watch(function(){return h.hasLeftContainer()},function(v,u){if(v===u){return}h.refreshCanvas(true)});r.$watch(function(){return h.hasRightContainer()},function(v,u){if(v===u){return}h.refreshCanvas(true)})}function t(){h.gridWidth=r.gridWidth=f.elementWidth(i);h.canvasWidth=n.grid.gridWidth;h.gridHeight=r.gridHeight=f.elementHeight(i);if(h.gridHeight<h.options.rowHeight&&h.options.enableMinHeightCheck){s()}h.refreshCanvas(true)}function s(){var y=h.options.minRowsToShow*h.options.rowHeight;var v=h.options.showHeader?h.options.headerRowHeight:0;var x=h.calcFooterHeight();var z=0;if(h.options.enableHorizontalScrollbar===b.scrollbars.ALWAYS){z=f.getScrollbarWidth()}var A=0;angular.forEach(h.options.columnDefs,function(B){if(B.hasOwnProperty("filter")){if(A<1){A=1}}else{if(B.hasOwnProperty("filters")){if(A<B.filters.length){A=B.filters.length}}}});var w=A*v;var u=v+y+x+z+w;i.css("height",u+"px");h.gridHeight=r.gridHeight=f.elementHeight(i)}function k(u){h.gridWidth=r.gridWidth=f.elementWidth(i);h.gridHeight=r.gridHeight=f.elementHeight(i);h.refreshCanvas(true)}}}}}}})();(function(){angular.module("ui.grid").directive("uiGridPinnedContainer",["gridUtil",function(b){return{restrict:"EA",replace:true,template:'<div class="ui-grid-pinned-container"><div ui-grid-render-container container-id="side" row-container-name="\'body\'" col-container-name="side" bind-scroll-vertical="true" class="{{ side }} ui-grid-render-container-{{ side }}"></div></div>',scope:{side:"=uiGridPinnedContainer"},require:"^uiGrid",compile:function a(){return{post:function(j,f,i,g){var d=g.grid;var e=0;f.addClass("ui-grid-pinned-container-"+j.side);if(j.side==="left"||j.side==="right"){d.renderContainers[j.side].getViewportWidth=k}function k(){var m=this;var l=0;m.visibleColumnCache.forEach(function(o){l+=o.drawnWidth});var n=m.getViewportAdjustment();l=l+n.width;return l}function h(){if(j.side==="left"||j.side==="right"){var o=d.renderContainers[j.side].visibleColumnCache;var n=0;for(var m=0;m<o.length;m++){var l=o[m];n+=l.drawnWidth||l.width||0}return n}}function c(){var m="";if(j.side==="left"||j.side==="right"){e=h();f.attr("style",null);var l=d.renderContainers.body.getViewportHeight();m+=".grid"+d.id+" .ui-grid-pinned-container-"+j.side+", .grid"+d.id+" .ui-grid-pinned-container-"+j.side+" .ui-grid-render-container-"+j.side+" .ui-grid-viewport { width: "+e+"px; height: "+l+"px; } "}return m}d.renderContainers.body.registerViewportAdjuster(function(l){e=h();l.width-=e;l.side=j.side;return l});d.registerStyleComputation({priority:15,func:c})}}}}}])})();(function(){angular.module("ui.grid").factory("Grid",["$q","$compile","$parse","gridUtil","uiGridConstants","GridOptions","GridColumn","GridRow","GridApi","rowSorter","rowSearcher","GridRenderContainer","$timeout","ScrollEvent",function(X,S,B,q,L,R,U,am,v,G,t,z,T,I){var af=function af(aA){var az=this;if(aA!==undefined&&typeof(aA.id)!=="undefined"&&aA.id){if(!/^[_a-zA-Z0-9-]+$/.test(aA.id)){throw new Error("Grid id '"+aA.id+'" is invalid. It must follow CSS selector syntax rules.')}}else{throw new Error("No ID provided. An ID must be given when creating a grid.")}az.id=aA.id;delete aA.id;az.options=R.initialize(aA);az.appScope=az.options.appScopeProvider;az.headerHeight=az.options.headerRowHeight;az.footerHeight=az.calcFooterHeight();az.columnFooterHeight=az.calcColumnFooterHeight();az.rtl=false;az.gridHeight=0;az.gridWidth=0;az.columnBuilders=[];az.rowBuilders=[];az.rowsProcessors=[];az.columnsProcessors=[];az.styleComputations=[];az.viewportAdjusters=[];az.rowHeaderColumns=[];az.dataChangeCallbacks={};az.verticalScrollSyncCallBackFns={};az.horizontalScrollSyncCallBackFns={};az.renderContainers={};az.renderContainers.body=new z("body",az);az.cellValueGetterCache={};az.getRowTemplateFn=null;az.rows=[];az.columns=[];az.isScrollingVertically=false;az.isScrollingHorizontally=false;az.scrollDirection=L.scrollDirection.NONE;az.disableScrolling=false;function ay(aD){az.isScrollingVertically=false;az.api.core.raise.scrollEnd(aD);az.scrollDirection=L.scrollDirection.NONE}var aw=q.debounce(ay,az.options.scrollDebounce);var ax=q.debounce(ay,0);function av(aD){az.isScrollingHorizontally=false;az.api.core.raise.scrollEnd(aD);az.scrollDirection=L.scrollDirection.NONE}var aC=q.debounce(av,az.options.scrollDebounce);var aB=q.debounce(av,0);az.flagScrollingVertically=function(aD){if(!az.isScrollingVertically&&!az.isScrollingHorizontally){az.api.core.raise.scrollBegin(aD)}az.isScrollingVertically=true;if(az.options.scrollDebounce===0||!aD.withDelay){ax(aD)}else{aw(aD)}};az.flagScrollingHorizontally=function(aD){if(!az.isScrollingVertically&&!az.isScrollingHorizontally){az.api.core.raise.scrollBegin(aD)}az.isScrollingHorizontally=true;if(az.options.scrollDebounce===0||!aD.withDelay){aB(aD)}else{aC(aD)}};az.scrollbarHeight=0;az.scrollbarWidth=0;if(az.options.enableHorizontalScrollbar===L.scrollbars.ALWAYS){az.scrollbarHeight=q.getScrollbarWidth()}if(az.options.enableVerticalScrollbar===L.scrollbars.ALWAYS){az.scrollbarWidth=q.getScrollbarWidth()}az.api=new v(az);az.api.registerMethod("core","refresh",this.refresh);az.api.registerMethod("core","queueGridRefresh",this.queueGridRefresh);az.api.registerMethod("core","refreshRows",this.refreshRows);az.api.registerMethod("core","refreshRows",this.queueRefresh);az.api.registerMethod("core","handleWindowResize",this.handleWindowResize);az.api.registerMethod("core","addRowHeaderColumn",this.addRowHeaderColumn);az.api.registerMethod("core","scrollToIfNecessary",function(aE,aD){return az.scrollToIfNecessary(aE,aD)});az.api.registerMethod("core","scrollTo",function(aE,aD){return az.scrollTo(aE,aD)});az.api.registerMethod("core","registerRowsProcessor",this.registerRowsProcessor);az.api.registerMethod("core","registerColumnsProcessor",this.registerColumnsProcessor);az.api.registerMethod("core","sortHandleNulls",G.handleNulls);az.api.registerEvent("core","sortChanged");az.api.registerEvent("core","columnVisibilityChanged");az.api.registerMethod("core","notifyDataChange",this.notifyDataChange);az.api.registerMethod("core","clearAllFilters",this.clearAllFilters);az.registerDataChangeCallback(az.columnRefreshCallback,[L.dataChange.COLUMN]);az.registerDataChangeCallback(az.processRowsCallback,[L.dataChange.EDIT]);az.registerDataChangeCallback(az.updateFooterHeightCallback,[L.dataChange.OPTIONS]);az.registerStyleComputation({priority:10,func:az.getFooterStyles})};af.prototype.calcFooterHeight=function(){if(!this.hasFooter()){return 0}var av=0;if(this.options.showGridFooter){av+=this.options.gridFooterHeight}av+=this.calcColumnFooterHeight();return av};af.prototype.calcColumnFooterHeight=function(){var av=0;if(this.options.showColumnFooter){av+=this.options.columnFooterHeight}return av};af.prototype.getFooterStyles=function(){var av=".grid"+this.id+" .ui-grid-footer-aggregates-row { height: "+this.options.columnFooterHeight+"px; }";av+=" .grid"+this.id+" .ui-grid-footer-info { height: "+this.options.gridFooterHeight+"px; }";return av};af.prototype.hasFooter=function(){return this.options.showGridFooter||this.options.showColumnFooter};af.prototype.isRTL=function(){return this.rtl};af.prototype.registerColumnBuilder=function ac(av){this.columnBuilders.push(av)};af.prototype.buildColumnDefsFromData=function(av){this.options.columnDefs=q.getColumnsFromData(av,this.options.excludeProperties)};af.prototype.registerRowBuilder=function r(av){this.rowBuilders.push(av)};af.prototype.registerDataChangeCallback=function j(aA,ax,az){var aw=q.nextUid();if(!ax){ax=[L.dataChange.ALL]}if(!Array.isArray(ax)){q.logError("Expected types to be an array or null in registerDataChangeCallback, value passed was: "+ax)}this.dataChangeCallbacks[aw]={callback:aA,types:ax,_this:az};var av=this;var ay=function(){delete av.dataChangeCallbacks[aw]};return ay};af.prototype.callDataChangeCallbacks=function e(aw,av){angular.forEach(this.dataChangeCallbacks,function(ay,ax){if(ay.types.indexOf(L.dataChange.ALL)!==-1||ay.types.indexOf(aw)!==-1||aw===L.dataChange.ALL){if(ay._this){ay.callback.apply(ay._this,this)}else{ay.callback(this)}}},this)};af.prototype.notifyDataChange=function H(aw){var av=L.dataChange;if(aw===av.ALL||aw===av.COLUMN||aw===av.EDIT||aw===av.ROW||aw===av.OPTIONS){this.callDataChangeCallbacks(aw)}else{q.logError("Notified of a data change, but the type was not recognised, so no action taken, type was: "+aw)}};af.prototype.columnRefreshCallback=function ag(av){av.buildColumns();av.queueGridRefresh()};af.prototype.processRowsCallback=function g(av){av.queueGridRefresh()};af.prototype.updateFooterHeightCallback=function b(av){av.footerHeight=av.calcFooterHeight();av.columnFooterHeight=av.calcColumnFooterHeight()};af.prototype.getColumn=function f(av){var aw=this.columns.filter(function(ax){return ax.colDef.name===av});return aw.length>0?aw[0]:null};af.prototype.getColDef=function au(aw){var av=this.options.columnDefs.filter(function(ax){return ax.name===aw});return av.length>0?av[0]:null};af.prototype.assignTypes=function(){var av=this;av.options.columnDefs.forEach(function(ay,ax){if(!ay.type){var aw=new U(ay,ax,av);var az=av.rows.length>0?av.rows[0]:null;if(az){ay.type=q.guessType(av.getCellValue(az,aw))}else{q.logWarn("Unable to assign type from data, so defaulting to string");ay.type="string"}}})};af.prototype.isRowHeaderColumn=function M(av){return this.rowHeaderColumns.indexOf(av)!==-1};af.prototype.addRowHeaderColumn=function Q(ax){var aw=this;var av=new U(ax,q.nextUid(),aw);av.isRowHeader=true;if(aw.isRTL()){aw.createRightContainer();av.renderContainer="right"}else{aw.createLeftContainer();av.renderContainer="left"}aw.columnBuilders[0](ax,av,aw.options).then(function(){av.enableFiltering=false;av.enableSorting=false;av.enableHiding=false;aw.rowHeaderColumns.push(av);aw.buildColumns().then(function(){aw.preCompileCellTemplates();aw.queueGridRefresh()})})};af.prototype.getOnlyDataColumns=function l(){var av=this;var aw=[];av.columns.forEach(function(ax){if(av.rowHeaderColumns.indexOf(ax)===-1){aw.push(ax)}});return aw};af.prototype.buildColumns=function ab(aA){var ax={orderByColumnDefs:false};angular.extend(ax,aA);var aw=this;var aB=[];var aC=aw.rowHeaderColumns.length;var az;for(az=0;az<aw.columns.length;az++){if(!aw.getColDef(aw.columns[az].name)){aw.columns.splice(az,1);az--}}aw.rowHeaderColumns.forEach(function(aD){aw.columns.unshift(aD)});aw.options.columnDefs.forEach(function(aF,aE){aw.preprocessColDef(aF);var aD=aw.getColumn(aF.name);if(!aD){aD=new U(aF,q.nextUid(),aw);aw.columns.splice(aE+aC,0,aD)}else{aD.updateColumnDef(aF,false)}aw.columnBuilders.forEach(function(aG){aB.push(aG.call(aw,aF,aD,aw.options))})});if(!!ax.orderByColumnDefs){var ay=aw.columns.slice(0);var av=Math.min(aw.options.columnDefs.length,aw.columns.length);for(az=0;az<av;az++){if(aw.columns[az+aC].name!==aw.options.columnDefs[az].name){ay[az+aC]=aw.getColumn(aw.options.columnDefs[az].name)}else{ay[az+aC]=aw.columns[az+aC]}}aw.columns.length=0;Array.prototype.splice.apply(aw.columns,[0,0].concat(ay))}return X.all(aB).then(function(){if(aw.rows.length>0){aw.assignTypes()}})};af.prototype.preCompileCellTemplates=function(){var av=this;var aw=function(ax){var ay=ax.cellTemplate.replace(L.MODEL_COL_FIELD,av.getQualifiedColField(ax));ay=ay.replace(L.COL_FIELD,"grid.getCellValue(row, col)");var az=S(ay);ax.compiledElementFn=az;if(ax.compiledElementFnDefer){ax.compiledElementFnDefer.resolve(ax.compiledElementFn)}};this.columns.forEach(function(ax){if(ax.cellTemplate){aw(ax)}else{if(ax.cellTemplatePromise){ax.cellTemplatePromise.then(function(){aw(ax)})}}})};af.prototype.getQualifiedColField=function(av){return"row.entity."+q.preEval(av.field)};af.prototype.createLeftContainer=function(){if(!this.hasLeftContainer()){this.renderContainers.left=new z("left",this,{disableColumnOffset:true})}};af.prototype.createRightContainer=function(){if(!this.hasRightContainer()){this.renderContainers.right=new z("right",this,{disableColumnOffset:true})}};af.prototype.hasLeftContainer=function(){return this.renderContainers.left!==undefined};af.prototype.hasRightContainer=function(){return this.renderContainers.right!==undefined};af.prototype.preprocessColDef=function y(ay){var ax=this;if(!ay.field&&!ay.name){throw new Error("colDef.name or colDef.field property is required")}if(ay.name===undefined&&ay.field!==undefined){var aw=ay.field,av=2;while(ax.getColumn(aw)){aw=ay.field+av.toString();av++}ay.name=aw}};af.prototype.newInN=function ad(aw,ax,av,aB){var aD=this;var aC=[];for(var az=0;az<ax.length;az++){var aF=aB?ax[az][aB]:ax[az];var aE=false;for(var ay=0;ay<aw.length;ay++){var aA=av?aw[ay][av]:aw[ay];if(aD.options.rowEquality(aF,aA)){aE=true;break}}if(!aE){aC.push(aF)}}return aC};af.prototype.getRow=function ar(ay,ax){var av=this;ax=typeof(ax)==="undefined"?av.rows:ax;var aw=ax.filter(function(az){return av.options.rowEquality(az.entity,ay)});return aw.length>0?aw[0]:null};af.prototype.modifyRows=function O(aw){var av=this;var aA=av.rows.slice(0);var ax=av.rowHashMap||av.createRowHashMap();av.rowHashMap=av.createRowHashMap();av.rows.length=0;aw.forEach(function(aC,aD){var aB;if(av.options.enableRowHashing){aB=ax.get(aC)}else{aB=av.getRow(aC,aA)}if(!aB){aB=av.processRowBuilders(new am(aC,aD,av))}av.rows.push(aB);av.rowHashMap.put(aC,aB)});av.assignTypes();var az=X.when(av.processRowsProcessors(av.rows)).then(function(aB){return av.setVisibleRows(aB)});var ay=X.when(av.processColumnsProcessors(av.columns)).then(function(aB){return av.setVisibleColumns(aB)});return X.all([az,ay])};af.prototype.addRows=function p(az){var av=this;var ax=av.rows.length;for(var ay=0;ay<az.length;ay++){var aw=av.processRowBuilders(new am(az[ay],ay+ax,av));if(av.options.enableRowHashing){var aA=av.rowHashMap.get(aw.entity);if(aA){aA.row=aw}}av.rows.push(aw)}};af.prototype.processRowBuilders=function ak(aw){var av=this;av.rowBuilders.forEach(function(ax){ax.call(av,aw,av.options)});return aw};af.prototype.registerStyleComputation=function D(av){this.styleComputations.push(av)};af.prototype.registerRowsProcessor=function N(aw,av){if(!angular.isFunction(aw)){throw"Attempt to register non-function rows processor: "+aw}this.rowsProcessors.push({processor:aw,priority:av});this.rowsProcessors.sort(function ax(az,ay){return az.priority-ay.priority})};af.prototype.removeRowsProcessor=function w(aw){var av=-1;this.rowsProcessors.forEach(function(ay,ax){if(ay.processor===aw){av=ax}});if(av!==-1){this.rowsProcessors.splice(av,1)}};af.prototype.processRowsProcessors=function at(ax){var av=this;var ay=ax.slice(0);if(av.rowsProcessors.length===0){return X.when(ay)}var aw=0;var aA=X.defer();function az(aB,aD){var aC=av.rowsProcessors[aB].processor;return X.when(aC.call(av,aD,av.columns)).then(function aE(aF){if(!aF){throw"Processor at index "+aB+" did not return a set of renderable rows"}if(!angular.isArray(aF)){throw"Processor at index "+aB+" did not return an array"}aB++;if(aB<=av.rowsProcessors.length-1){return az(aB,aF)}else{aA.resolve(aF)}})}az(0,ay);return aA.promise};af.prototype.setVisibleRows=function aa(aA){var ax=this;for(var ay in ax.renderContainers){var aw=ax.renderContainers[ay];aw.canvasHeightShouldUpdate=true;if(typeof(aw.visibleRowCache)==="undefined"){aw.visibleRowCache=[]}else{aw.visibleRowCache.length=0}}for(var av=0;av<aA.length;av++){var aB=aA[av];var az=(typeof(aB.renderContainer)!=="undefined"&&aB.renderContainer)?aB.renderContainer:"body";if(aB.visible){ax.renderContainers[az].visibleRowCache.push(aB)}}ax.api.core.raise.rowsRendered(this.api)};af.prototype.registerColumnsProcessor=function s(aw,av){if(!angular.isFunction(aw)){throw"Attempt to register non-function rows processor: "+aw}this.columnsProcessors.push({processor:aw,priority:av});this.columnsProcessors.sort(function ax(az,ay){return az.priority-ay.priority})};af.prototype.removeColumnsProcessor=function aq(aw){var av=this.columnsProcessors.indexOf(aw);if(typeof(av)!=="undefined"&&av!==undefined){this.columnsProcessors.splice(av,1)}};af.prototype.processColumnsProcessors=function al(ax){var aw=this;var av=ax.slice(0);if(aw.columnsProcessors.length===0){return X.when(av)}var ay=0;var aA=X.defer();function az(aB,aD){var aC=aw.columnsProcessors[aB].processor;return X.when(aC.call(aw,aD,aw.rows)).then(function aE(aF){if(!aF){throw"Processor at index "+aB+" did not return a set of renderable rows"}if(!angular.isArray(aF)){throw"Processor at index "+aB+" did not return an array"}aB++;if(aB<=aw.columnsProcessors.length-1){return az(aB,av)}else{aA.resolve(av)}})}az(0,av);return aA.promise};af.prototype.setVisibleColumns=function K(az){var aw=this;for(var ay in aw.renderContainers){var av=aw.renderContainers[ay];av.visibleColumnCache.length=0}for(var ax=0;ax<az.length;ax++){var aA=az[ax];if(aA.visible){if(typeof(aA.renderContainer)!=="undefined"&&aA.renderContainer){aw.renderContainers[aA.renderContainer].visibleColumnCache.push(aA)}else{aw.renderContainers.body.visibleColumnCache.push(aA)}}}};af.prototype.handleWindowResize=function n(aw){var av=this;av.gridWidth=q.elementWidth(av.element);av.gridHeight=q.elementHeight(av.element);av.queueRefresh()};af.prototype.queueRefresh=function d(){var av=this;if(av.refreshCanceller){T.cancel(av.refreshCanceller)}av.refreshCanceller=T(function(){av.refreshCanvas(true)});av.refreshCanceller.then(function(){av.refreshCanceller=null});return av.refreshCanceller};af.prototype.queueGridRefresh=function E(){var av=this;if(av.gridRefreshCanceller){T.cancel(av.gridRefreshCanceller)}av.gridRefreshCanceller=T(function(){av.refresh(true)});av.gridRefreshCanceller.then(function(){av.gridRefreshCanceller=null});return av.gridRefreshCanceller};af.prototype.updateCanvasHeight=function A(){var ax=this;for(var aw in ax.renderContainers){if(ax.renderContainers.hasOwnProperty(aw)){var av=ax.renderContainers[aw];av.canvasHeightShouldUpdate=true}}};af.prototype.buildStyles=function m(){var av=this;av.customStyles="";av.styleComputations.sort(function(ax,aw){if(ax.priority===null){return 1}if(aw.priority===null){return -1}if(ax.priority===null&&aw.priority===null){return 0}return ax.priority-aw.priority}).forEach(function(ax){var aw=ax.func.call(av);if(angular.isString(aw)){av.customStyles+="\n"+aw}})};af.prototype.minColumnsToRender=function x(){var ax=this;var aw=this.getViewportWidth();var ay=0;var av=0;ax.columns.forEach(function(aB,aC){if(av<aw){av+=aB.drawnWidth;ay++}else{var az=0;for(var aA=aC;aA>=aC-ay;aA--){az+=ax.columns[aA].drawnWidth}if(az<aw){ay++}}});return ay};af.prototype.getBodyHeight=function ap(){var av=this.getViewportHeight();return av};af.prototype.getViewportHeight=function Z(){var av=this;var ax=this.gridHeight-this.headerHeight-this.footerHeight;var aw=av.getViewportAdjustment();ax=ax+aw.height;return ax};af.prototype.getViewportWidth=function C(){var aw=this;var av=this.gridWidth;var ax=aw.getViewportAdjustment();av=av+ax.width;return av};af.prototype.getHeaderViewportWidth=function h(){var av=this.getViewportWidth();return av};af.prototype.addVerticalScrollSync=function(aw,av){this.verticalScrollSyncCallBackFns[aw]=av};af.prototype.addHorizontalScrollSync=function(aw,av){this.horizontalScrollSyncCallBackFns[aw]=av};af.prototype.scrollContainers=function(az,ax){if(ax.y){var aC=["body","left","right"];this.flagScrollingVertically(ax);if(az==="body"){aC=["left","right"]}else{if(az==="left"){aC=["body","right"]}else{if(az==="right"){aC=["body","left"]}}}for(var aw=0;aw<aC.length;aw++){var aB=aC[aw];if(this.verticalScrollSyncCallBackFns[aB]){this.verticalScrollSyncCallBackFns[aB](ax)}}}if(ax.x){var aA=["body","bodyheader","bodyfooter"];this.flagScrollingHorizontally(ax);if(az==="body"){aA=["bodyheader","bodyfooter"]}for(var av=0;av<aA.length;av++){var ay=aA[av];if(this.horizontalScrollSyncCallBackFns[ay]){this.horizontalScrollSyncCallBackFns[ay](ax)}}}};af.prototype.registerViewportAdjuster=function u(av){this.viewportAdjusters.push(av)};af.prototype.removeViewportAdjuster=function u(aw){var av=this.viewportAdjusters.indexOf(aw);if(typeof(av)!=="undefined"&&av!==undefined){this.viewportAdjusters.splice(av,1)}};af.prototype.getViewportAdjustment=function ai(){var av=this;var aw={height:0,width:0};av.viewportAdjusters.forEach(function(ax){aw=ax.call(this,aw)});return aw};af.prototype.getVisibleRowCount=function a(){return this.renderContainers.body.visibleRowCache.length};af.prototype.getVisibleRows=function aj(){return this.renderContainers.body.visibleRowCache};af.prototype.getVisibleColumnCount=function ah(){return this.renderContainers.body.visibleColumnCache.length};af.prototype.searchRows=function ae(av){return t.search(this,av,this.columns)};af.prototype.sortByColumn=function Y(av){return G.sort(this,av,this.columns)};af.prototype.getCellValue=function J(aw,av){if(typeof(aw.entity["$$"+av.uid])!=="undefined"){return aw.entity["$$"+av.uid].rendered}else{if(this.options.flatEntityAccess&&typeof(av.field)!=="undefined"){return aw.entity[av.field]}else{if(!av.cellValueGetterCache){av.cellValueGetterCache=B(aw.getEntityQualifiedColField(av))}return av.cellValueGetterCache(aw)}}};af.prototype.getNextColumnSortPriority=function c(){var av=this,aw=0;av.columns.forEach(function(ax){if(ax.sort&&ax.sort.priority&&ax.sort.priority>aw){aw=ax.sort.priority}});return aw+1};af.prototype.resetColumnSorting=function k(aw){var av=this;av.columns.forEach(function(ax){if(ax!==aw&&!ax.suppressRemoveSort){ax.sort={}}})};af.prototype.getColumnSorting=function V(){var av=this;var aw=[],ax;ax=av.columns.slice(0);ax.sort(G.prioritySort).forEach(function(ay){if(ay.sort&&typeof(ay.sort.direction)!=="undefined"&&ay.sort.direction&&(ay.sort.direction===L.ASC||ay.sort.direction===L.DESC)){aw.push(ay)}});return aw};af.prototype.sortColumn=function an(aw,az,ay){var av=this,ax=null;if(typeof(aw)==="undefined"||!aw){throw new Error("No column parameter provided")}if(typeof(az)==="boolean"){ay=az}else{ax=az}if(!ay){av.resetColumnSorting(aw);aw.sort.priority=0;aw.sort.priority=av.getNextColumnSortPriority()}else{if(!aw.sort.priority){aw.sort.priority=av.getNextColumnSortPriority()}}if(!ax){if(aw.sort.direction&&aw.sort.direction===L.ASC){aw.sort.direction=L.DESC}else{if(aw.sort.direction&&aw.sort.direction===L.DESC){if(aw.colDef&&aw.suppressRemoveSort){aw.sort.direction=L.ASC}else{aw.sort={}}}else{aw.sort.direction=L.ASC}}}else{aw.sort.direction=ax}av.api.core.raise.sortChanged(av,av.getColumnSorting());return X.when(aw)};af.prototype.renderingComplete=function(){if(angular.isFunction(this.options.onRegisterApi)){this.options.onRegisterApi(this.api)}this.api.core.raise.renderingComplete(this.api)};af.prototype.createRowHashMap=function i(){var av=this;var aw=new W();aw.grid=av;return aw};af.prototype.refresh=function ao(ay){var av=this;var ax=av.processRowsProcessors(av.rows).then(function(az){av.setVisibleRows(az)});var aw=av.processColumnsProcessors(av.columns).then(function(az){av.setVisibleColumns(az)});return X.all([ax,aw]).then(function(){av.redrawInPlace(ay);av.refreshCanvas(true)})};af.prototype.refreshRows=function P(){var av=this;return av.processRowsProcessors(av.rows).then(function(aw){av.setVisibleRows(aw);av.redrawInPlace();av.refreshCanvas(true)})};af.prototype.refreshCanvas=function(ay){var ax=this;if(ay){ax.buildStyles()}var az=X.defer();var aA=[];for(var aw in ax.renderContainers){if(ax.renderContainers.hasOwnProperty(aw)){var av=ax.renderContainers[aw];if(av.canvasWidth===null||isNaN(av.canvasWidth)){continue}if(av.header||av.headerCanvas){av.explicitHeaderHeight=av.explicitHeaderHeight||null;av.explicitHeaderCanvasHeight=av.explicitHeaderCanvasHeight||null;aA.push(av)}}}if(aA.length>0){if(ay){ax.buildStyles()}T(function(){var aJ=false;var aD=0;var aE=0;var aG,aB;var aI=function(aM,aN){if(aM!==aN){aJ=true}return aN};for(aG=0;aG<aA.length;aG++){aB=aA[aG];if(aB.canvasWidth===null||isNaN(aB.canvasWidth)){continue}if(aB.header){var aH=aB.headerHeight=aI(aB.headerHeight,parseInt(q.outerElementHeight(aB.header),10));var aF=q.getBorderSize(aB.header,"top");var aC=q.getBorderSize(aB.header,"bottom");var aL=parseInt(aH-aF-aC,10);aL=aL<0?0:aL;aB.innerHeaderHeight=aL;if(!aB.explicitHeaderHeight&&aL>aD){aD=aL}}if(aB.headerCanvas){var aK=aB.headerCanvasHeight=aI(aB.headerCanvasHeight,parseInt(q.outerElementHeight(aB.headerCanvas),10));if(!aB.explicitHeaderCanvasHeight&&aK>aE){aE=aK}}}for(aG=0;aG<aA.length;aG++){aB=aA[aG];if(aD>0&&typeof(aB.headerHeight)!=="undefined"&&aB.headerHeight!==null&&(aB.explicitHeaderHeight||aB.headerHeight<aD)){aB.explicitHeaderHeight=aI(aB.explicitHeaderHeight,aD)}if(aE>0&&typeof(aB.headerCanvasHeight)!=="undefined"&&aB.headerCanvasHeight!==null&&(aB.explicitHeaderCanvasHeight||aB.headerCanvasHeight<aE)){aB.explicitHeaderCanvasHeight=aI(aB.explicitHeaderCanvasHeight,aE)}}if(ay&&aJ){ax.buildStyles()}az.resolve()})}else{T(function(){az.resolve()})}return az.promise};af.prototype.redrawInPlace=function F(ay){var aw=this;for(var ax in aw.renderContainers){var av=aw.renderContainers[ax];if(ay){av.adjustRows(av.prevScrollTop,null);av.adjustColumns(av.prevScrollLeft,null)}else{av.adjustRows(null,av.prevScrolltopPercentage);av.adjustColumns(null,av.prevScrollleftPercentage)}}};af.prototype.hasLeftContainerColumns=function(){return this.hasLeftContainer()&&this.renderContainers.left.renderedColumns.length>0};af.prototype.hasRightContainerColumns=function(){return this.hasRightContainer()&&this.renderContainers.right.renderedColumns.length>0};af.prototype.scrollToIfNecessary=function(ay,aw){var aK=this;var aJ=new I(aK,"uiGrid.scrollToIfNecessary");var ax=aK.renderContainers.body.visibleRowCache;var aM=aK.renderContainers.body.visibleColumnCache;var aQ=aK.renderContainers.body.prevScrollTop+aK.headerHeight;aQ=(aQ<0)?0:aQ;var aD=aK.renderContainers.body.prevScrollLeft;var aI=aK.renderContainers.body.prevScrollTop+aK.gridHeight-aK.renderContainers.body.headerHeight-aK.footerHeight-aK.scrollbarWidth;var aE=aK.renderContainers.body.prevScrollLeft+Math.ceil(aK.gridWidth);if(ay!==null){var aF=ax.indexOf(ay);var aG=(aK.renderContainers.body.getCanvasHeight()-aK.renderContainers.body.getViewportHeight());var aA=((aF+1)*aK.options.rowHeight);aA=(aA<0)?0:aA;var aR,aH;if(aA<aQ){aR=aK.renderContainers.body.prevScrollTop-(aQ-aA);aH=aR/aG;aJ.y={percentage:aH}}else{if(aA>aI){aR=aA-aI+aK.renderContainers.body.prevScrollTop;aH=aR/aG;aJ.y={percentage:aH}}}}if(aw!==null){var aP=aM.indexOf(aw);var aL=(aK.renderContainers.body.getCanvasWidth()-aK.renderContainers.body.getViewportWidth());var aC=0;for(var aO=0;aO<aP;aO++){var aB=aM[aO];aC+=aB.drawnWidth}aC=(aC<0)?0:aC;var az=aC+aw.drawnWidth;az=(az<0)?0:az;var av,aN;if(aC<aD){av=aK.renderContainers.body.prevScrollLeft-(aD-aC);aN=av/aL;aN=(aN>1)?1:aN;aJ.x={percentage:aN}}else{if(az>aE){av=az-aE+aK.renderContainers.body.prevScrollLeft;aN=av/aL;aN=(aN>1)?1:aN;aJ.x={percentage:aN}}}}var aT=X.defer();if(aJ.y||aJ.x){aJ.withDelay=false;aK.scrollContainers("",aJ);var aS=aK.api.core.on.scrollEnd(null,function(){aT.resolve(aJ);aS()})}else{aT.resolve()}return aT.promise};af.prototype.scrollTo=function(ax,aw){var ay=null,av=null;if(ax!==null&&typeof(ax)!=="undefined"){ay=this.getRow(ax)}if(aw!==null&&typeof(aw)!=="undefined"){av=this.getColumn(aw.name?aw.name:aw.field)}return this.scrollToIfNecessary(ay,av)};af.prototype.clearAllFilters=function o(ax,av,aw){if(ax===undefined){ax=true}if(av===undefined){av=false}if(aw===undefined){aw=false}this.columns.forEach(function(ay){ay.filters.forEach(function(az){az.term=undefined;if(av){az.condition=undefined}if(aw){az.flags=undefined}})});if(ax){return this.refreshRows()}};function W(){}W.prototype={put:function(av,aw){this[this.grid.options.rowIdentity(av)]=aw},get:function(av){return this[this.grid.options.rowIdentity(av)]},remove:function(av){var aw=this[av=this.grid.options.rowIdentity(av)];delete this[av];return aw}};return af}])})();(function(){angular.module("ui.grid").factory("GridApi",["$q","$rootScope","gridUtil","uiGridConstants","GridRow","uiGridGridMenuService",function(d,b,h,a,f,g){var c=function c(i){this.grid=i;this.listeners=[];this.registerEvent("core","renderingComplete");this.registerEvent("core","filterChanged");this.registerMethod("core","setRowInvisible",f.prototype.setRowInvisible);this.registerMethod("core","clearRowInvisible",f.prototype.clearRowInvisible);this.registerMethod("core","getVisibleRows",this.grid.getVisibleRows);this.registerEvent("core","rowsVisibleChanged");this.registerEvent("core","rowsRendered");this.registerEvent("core","scrollBegin");this.registerEvent("core","scrollEnd");this.registerEvent("core","canvasHeightChanged")};c.prototype.suppressEvents=function(k,i){var j=this;var l=angular.isArray(k)?k:[k];var m=[];l.forEach(function(n){m=j.listeners.filter(function(o){return n===o.handler})});m.forEach(function(n){n.dereg()});i();m.forEach(function(n){n.dereg=e(n.eventId,n.handler,j.grid,n._this)})};c.prototype.registerEvent=function(k,j){var i=this;if(!i[k]){i[k]={}}var l=i[k];if(!l.on){l.on={};l.raise={}}var m=i.grid.id+k+j;l.raise[j]=function(){b.$emit.apply(b,[m].concat(Array.prototype.slice.call(arguments)))};l.on[j]=function(p,o,s){if(p!==null&&typeof(p.$on)==="undefined"){h.logError("asked to listen on "+k+".on."+j+" but scope wasn't passed in the input parameters.  It is legitimate to pass null, but you've passed something else, so you probably forgot to provide scope rather than did it deliberately, not registering");return}var r=e(m,o,i.grid,s);var q={handler:o,dereg:r,eventId:m,scope:p,_this:s};i.listeners.push(q);var n=function(){q.dereg();var t=i.listeners.indexOf(q);i.listeners.splice(t,1)};if(p){p.$on("$destroy",function(){n()})}return n}};function e(k,j,i,l){return b.$on(k,function(n){var m=Array.prototype.slice.call(arguments);m.splice(0,1);j.apply(l?l:i.api,m)})}c.prototype.registerEventsFromObject=function(j){var i=this;var k=[];angular.forEach(j,function(n,m){var l={name:m,events:[]};angular.forEach(n,function(p,o){l.events.push(o)});k.push(l)});k.forEach(function(l){l.events.forEach(function(m){i.registerEvent(l.name,m)})})};c.prototype.registerMethod=function(k,j,i,m){if(!this[k]){this[k]={}}var l=this[k];l[j]=h.createBoundedWrapper(m||this.grid,i)};c.prototype.registerMethodsFromObject=function(l,k){var i=this;var j=[];angular.forEach(l,function(o,n){var m={name:n,methods:[]};angular.forEach(o,function(q,p){m.methods.push({name:p,fn:q})});j.push(m)});j.forEach(function(m){m.methods.forEach(function(n){i.registerMethod(m.name,n.name,n.fn,k)})})};return c}])})();(function(){angular.module("ui.grid").factory("GridColumn",["gridUtil","uiGridConstants","i18nService",function(e,b,a){function d(i,h,g){var f=this;f.grid=g;f.uid=h;f.updateColumnDef(i,true);d.prototype.hideColumn=function(){this.colDef.visible=false};f.aggregationValue=undefined;f.updateAggregationValue=function(){if(!f.aggregationType){f.aggregationValue=undefined;return}var j=0;var l=f.grid.getVisibleRows();var k=function(){var m=[];l.forEach(function(p){var o=f.grid.getCellValue(p,f);var n=Number(o);if(!isNaN(n)){m.push(n)}});return m};if(angular.isFunction(f.aggregationType)){f.aggregationValue=f.aggregationType(l,f)}else{if(f.aggregationType===b.aggregationTypes.count){f.aggregationValue=f.grid.getVisibleRowCount()}else{if(f.aggregationType===b.aggregationTypes.sum){k().forEach(function(m){j+=m});f.aggregationValue=j}else{if(f.aggregationType===b.aggregationTypes.avg){k().forEach(function(m){j+=m});j=j/k().length;f.aggregationValue=j}else{if(f.aggregationType===b.aggregationTypes.min){f.aggregationValue=Math.min.apply(null,k())}else{if(f.aggregationType===b.aggregationTypes.max){f.aggregationValue=Math.max.apply(null,k())}else{f.aggregationValue="\u00A0"}}}}}}};this.getAggregationValue=function(){return f.aggregationValue}}d.prototype.setPropertyOrDefault=function(h,i,f){var g=this;if(typeof(h[i])!=="undefined"&&h[i]){g[i]=h[i]}else{if(typeof(g[i])!=="undefined"){g[i]=g[i]}else{g[i]=f?f:{}}}};d.prototype.updateColumnDef=function(l,f){var g=this;g.colDef=l;if(l.name===undefined){throw new Error("colDef.name is required for column at index "+g.grid.options.columnDefs.indexOf(l))}g.displayName=(l.displayName===undefined)?e.readableColumnName(l.name):l.displayName;var h="Cannot parse column width '"+l.width+"' for column named '"+l.name+"'";if(e.isNullOrUndefined(g.width)||!angular.isNumber(g.width)){if(e.isNullOrUndefined(l.width)){g.width="*"}else{if(!angular.isNumber(l.width)){if(e.endsWith(l.width,"%")){var j=l.width.replace(/%/g,"");var k=parseInt(j,10);if(isNaN(k)){throw new Error(h)}g.width=l.width}else{if(l.width.match(/^(\d+)$/)){g.width=parseInt(l.width.match(/^(\d+)$/)[1],10)}else{if(l.width.match(/^\*+$/)){g.width=l.width}else{throw new Error(h)}}}}else{g.width=l.width}}}g.minWidth=!l.minWidth?30:l.minWidth;g.maxWidth=!l.maxWidth?9000:l.maxWidth;g.field=(l.field===undefined)?l.name:l.field;if(typeof(g.field)!=="string"){e.logError("Field is not a string, this is likely to break the code, Field is: "+g.field)}g.name=l.name;g.displayName=(l.displayName===undefined)?e.readableColumnName(l.name):l.displayName;g.aggregationType=angular.isDefined(l.aggregationType)?l.aggregationType:null;g.footerCellTemplate=angular.isDefined(l.footerCellTemplate)?l.footerCellTemplate:null;if(typeof(l.cellTooltip)==="undefined"||l.cellTooltip===false){g.cellTooltip=false}else{if(l.cellTooltip===true){g.cellTooltip=function(n,m){return g.grid.getCellValue(n,m)}}else{if(typeof(l.cellTooltip)==="function"){g.cellTooltip=l.cellTooltip}else{g.cellTooltip=function(n,m){return m.colDef.cellTooltip}}}}if(typeof(l.headerTooltip)==="undefined"||l.headerTooltip===false){g.headerTooltip=false}else{if(l.headerTooltip===true){g.headerTooltip=function(m){return m.displayName}}else{if(typeof(l.headerTooltip)==="function"){g.headerTooltip=l.headerTooltip}else{g.headerTooltip=function(m){return m.colDef.headerTooltip}}}}g.footerCellClass=l.footerCellClass;g.cellClass=l.cellClass;g.headerCellClass=l.headerCellClass;g.cellFilter=l.cellFilter?l.cellFilter:"";g.headerCellFilter=l.headerCellFilter?l.headerCellFilter:"";g.footerCellFilter=l.footerCellFilter?l.footerCellFilter:"";g.visible=e.isNullOrUndefined(l.visible)||l.visible;g.headerClass=l.headerClass;g.enableSorting=typeof(l.enableSorting)!=="undefined"?l.enableSorting:true;g.sortingAlgorithm=l.sortingAlgorithm;if(typeof(g.suppressRemoveSort)==="undefined"){g.suppressRemoveSort=typeof(l.suppressRemoveSort)!=="undefined"?l.suppressRemoveSort:false}g.enableFiltering=typeof(l.enableFiltering)!=="undefined"?l.enableFiltering:true;g.setPropertyOrDefault(l,"menuItems",[]);if(f){g.setPropertyOrDefault(l,"sort")}var i=[];if(l.filter){i.push(l.filter)}else{if(l.filters){i=l.filters}else{i.push({})}}if(f){g.setPropertyOrDefault(l,"filter");g.setPropertyOrDefault(l,"filters",i)}else{if(g.filters.length===i.length){g.filters.forEach(function(n,m){if(typeof(i[m].placeholder)!=="undefined"){n.placeholder=i[m].placeholder}if(typeof(i[m].flags)!=="undefined"){n.flags=i[m].flags}if(typeof(i[m].type)!=="undefined"){n.type=i[m].type}if(typeof(i[m].selectOptions)!=="undefined"){n.selectOptions=i[m].selectOptions}})}}d.prototype.unsort=function(){this.sort={};g.grid.api.core.raise.sortChanged(g.grid,g.grid.getColumnSorting())}};d.prototype.getColClass=function(g){var f=b.COL_CLASS_PREFIX+this.uid;return g?"."+f:f};d.prototype.isPinnedLeft=function(){return this.renderContainer==="left"};d.prototype.isPinnedRight=function(){return this.renderContainer==="right"};d.prototype.getColClassDefinition=function(){return" .grid"+this.grid.id+" "+this.getColClass(true)+" { min-width: "+this.drawnWidth+"px; max-width: "+this.drawnWidth+"px; }"};d.prototype.getRenderContainer=function c(){var g=this;var f=g.renderContainer;if(f===null||f===""||f===undefined){f="body"}return g.grid.renderContainers[f]};d.prototype.showColumn=function(){this.colDef.visible=true};d.prototype.getAggregationText=function(){var f=this;if(f.colDef.aggregationHideLabel){return""}else{if(f.colDef.aggregationLabel){return f.colDef.aggregationLabel}else{switch(f.colDef.aggregationType){case b.aggregationTypes.count:return a.getSafeText("aggregation.count");case b.aggregationTypes.sum:return a.getSafeText("aggregation.sum");case b.aggregationTypes.avg:return a.getSafeText("aggregation.avg");case b.aggregationTypes.min:return a.getSafeText("aggregation.min");case b.aggregationTypes.max:return a.getSafeText("aggregation.max");default:return""}}}};d.prototype.getCellTemplate=function(){var f=this;return f.cellTemplatePromise};d.prototype.getCompiledElementFn=function(){var f=this;return f.compiledElementFnDefer.promise};return d}])})();(function(){angular.module("ui.grid").factory("GridOptions",["gridUtil","uiGridConstants",function(b,a){return{initialize:function(c){c.onRegisterApi=c.onRegisterApi||angular.noop();c.data=c.data||[];c.columnDefs=c.columnDefs||[];c.excludeProperties=c.excludeProperties||["$$hashKey"];c.enableRowHashing=c.enableRowHashing!==false;c.rowIdentity=c.rowIdentity||function e(f){return b.hashKey(f)};c.getRowIdentity=c.getRowIdentity||function d(f){return f.$$hashKey};c.flatEntityAccess=c.flatEntityAccess===true;c.showHeader=typeof(c.showHeader)!=="undefined"?c.showHeader:true;if(!c.showHeader){c.headerRowHeight=0}else{c.headerRowHeight=typeof(c.headerRowHeight)!=="undefined"?c.headerRowHeight:30}c.rowHeight=c.rowHeight||30;c.minRowsToShow=typeof(c.minRowsToShow)!=="undefined"?c.minRowsToShow:10;c.showGridFooter=c.showGridFooter===true;c.showColumnFooter=c.showColumnFooter===true;c.columnFooterHeight=typeof(c.columnFooterHeight)!=="undefined"?c.columnFooterHeight:30;c.gridFooterHeight=typeof(c.gridFooterHeight)!=="undefined"?c.gridFooterHeight:30;c.columnWidth=typeof(c.columnWidth)!=="undefined"?c.columnWidth:50;c.maxVisibleColumnCount=typeof(c.maxVisibleColumnCount)!=="undefined"?c.maxVisibleColumnCount:200;c.virtualizationThreshold=typeof(c.virtualizationThreshold)!=="undefined"?c.virtualizationThreshold:20;c.columnVirtualizationThreshold=typeof(c.columnVirtualizationThreshold)!=="undefined"?c.columnVirtualizationThreshold:10;c.excessRows=typeof(c.excessRows)!=="undefined"?c.excessRows:4;c.scrollThreshold=typeof(c.scrollThreshold)!=="undefined"?c.scrollThreshold:4;c.excessColumns=typeof(c.excessColumns)!=="undefined"?c.excessColumns:4;c.horizontalScrollThreshold=typeof(c.horizontalScrollThreshold)!=="undefined"?c.horizontalScrollThreshold:2;c.aggregationCalcThrottle=typeof(c.aggregationCalcThrottle)!=="undefined"?c.aggregationCalcThrottle:500;c.wheelScrollThrottle=typeof(c.wheelScrollThrottle)!=="undefined"?c.wheelScrollThrottle:70;c.scrollDebounce=typeof(c.scrollDebounce)!=="undefined"?c.scrollDebounce:300;c.enableSorting=c.enableSorting!==false;c.enableFiltering=c.enableFiltering===true;c.enableColumnMenus=c.enableColumnMenus!==false;c.enableVerticalScrollbar=typeof(c.enableVerticalScrollbar)!=="undefined"?c.enableVerticalScrollbar:a.scrollbars.ALWAYS;c.enableHorizontalScrollbar=typeof(c.enableHorizontalScrollbar)!=="undefined"?c.enableHorizontalScrollbar:a.scrollbars.ALWAYS;c.enableMinHeightCheck=c.enableMinHeightCheck!==false;c.minimumColumnSize=typeof(c.minimumColumnSize)!=="undefined"?c.minimumColumnSize:10;c.rowEquality=c.rowEquality||function(g,f){return g===f};c.headerTemplate=c.headerTemplate||null;c.footerTemplate=c.footerTemplate||"ui-grid/ui-grid-footer";c.gridFooterTemplate=c.gridFooterTemplate||"ui-grid/ui-grid-grid-footer";c.rowTemplate=c.rowTemplate||"ui-grid/ui-grid-row";c.appScopeProvider=c.appScopeProvider||null;return c}}}])})();(function(){angular.module("ui.grid").factory("GridRenderContainer",["gridUtil","uiGridConstants",function(w,m){function o(B,C,A){var z=this;z.name=B;z.grid=C;z.visibleRowCache=[];z.visibleColumnCache=[];z.renderedRows=[];z.renderedColumns=[];z.prevScrollTop=0;z.prevScrolltopPercentage=0;z.prevRowScrollIndex=0;z.prevScrollLeft=0;z.prevScrollleftPercentage=0;z.prevColumnScrollIndex=0;z.columnStyles="";z.viewportAdjusters=[];z.canvasHeightShouldUpdate=true;z.$$canvasHeight=0;if(A&&angular.isObject(A)){angular.extend(z,A)}C.registerStyleComputation({priority:5,func:function(){z.updateColumnWidths();return z.columnStyles}})}o.prototype.reset=function x(){this.visibleColumnCache.length=0;this.visibleRowCache.length=0;this.renderedRows.length=0;this.renderedColumns.length=0};o.prototype.containsColumn=function(z){return this.visibleColumnCache.indexOf(z)!==-1};o.prototype.minRowsToRender=function j(){var A=this;var z=0;var C=0;var D=A.getViewportHeight();for(var B=A.visibleRowCache.length-1;C<D&&B>=0;B--){C+=A.visibleRowCache[B].height;z++}return z};o.prototype.minColumnsToRender=function f(){var C=this;var B=this.getViewportWidth();var G=0;var A=0;for(var F=0;F<C.visibleColumnCache.length;F++){var E=C.visibleColumnCache[F];if(A<B){A+=E.drawnWidth?E.drawnWidth:0;G++}else{var z=0;for(var D=F;D>=F-G;D--){z+=C.visibleColumnCache[D].drawnWidth?C.visibleColumnCache[D].drawnWidth:0}if(z<B){G++}}}return G};o.prototype.getVisibleRowCount=function e(){return this.visibleRowCache.length};o.prototype.registerViewportAdjuster=function n(z){this.viewportAdjusters.push(z)};o.prototype.removeViewportAdjuster=function n(A){var z=this.viewportAdjusters.indexOf(A);if(typeof(z)!=="undefined"&&z!==undefined){this.viewportAdjusters.splice(z,1)}};o.prototype.getViewportAdjustment=function a(){var z=this;var A={height:0,width:0};z.viewportAdjusters.forEach(function(B){A=B.call(this,A)});return A};o.prototype.getMargin=function p(B){var z=this;var A=0;z.viewportAdjusters.forEach(function(D){var C=D.call(this,{height:0,width:0});if(C.side&&C.side===B){A+=C.width*-1}});return A};o.prototype.getViewportHeight=function u(){var A=this;var z=(A.headerHeight)?A.headerHeight:A.grid.headerHeight;var C=A.grid.gridHeight-z-A.grid.footerHeight;var B=A.getViewportAdjustment();C=C+B.height;return C};o.prototype.getViewportWidth=function i(){var A=this;var z=A.grid.gridWidth;var B=A.getViewportAdjustment();z=z+B.width;return z};o.prototype.getHeaderViewportWidth=function t(){var A=this;var z=this.getViewportWidth();return z};o.prototype.getCanvasHeight=function b(){var z=this;if(!z.canvasHeightShouldUpdate){return z.$$canvasHeight}var A=z.$$canvasHeight;z.$$canvasHeight=0;z.visibleRowCache.forEach(function(B){z.$$canvasHeight+=B.height});z.canvasHeightShouldUpdate=false;z.grid.api.core.raise.canvasHeightChanged(A,z.$$canvasHeight);return z.$$canvasHeight};o.prototype.getVerticalScrollLength=function k(){return this.getCanvasHeight()-this.getViewportHeight()};o.prototype.getCanvasWidth=function q(){var z=this;var A=z.canvasWidth;return A};o.prototype.setRenderedRows=function s(A){this.renderedRows.length=A.length;for(var z=0;z<A.length;z++){this.renderedRows[z]=A[z]}};o.prototype.setRenderedColumns=function g(B){var z=this;this.renderedColumns.length=B.length;for(var A=0;A<B.length;A++){this.renderedColumns[A]=B[A]}this.updateColumnOffset()};o.prototype.updateColumnOffset=function h(){var z=0;for(var A=0;A<this.currentFirstColumn;A++){z+=this.visibleColumnCache[A].drawnWidth}this.columnOffset=z};o.prototype.scrollVertical=function(B){var z=-1;if(B!==this.prevScrollTop){var C=B-this.prevScrollTop;if(C>0){this.grid.scrollDirection=m.scrollDirection.DOWN}if(C<0){this.grid.scrollDirection=m.scrollDirection.UP}var A=this.getVerticalScrollLength();z=B/A;if(z>1){z=1}if(z<0){z=0}this.adjustScrollVertical(B,z);return z}};o.prototype.scrollHorizontal=function(A){var z=-1;if(A!==this.prevScrollLeft){var C=A-this.prevScrollLeft;if(C>0){this.grid.scrollDirection=m.scrollDirection.RIGHT}if(C<0){this.grid.scrollDirection=m.scrollDirection.LEFT}var B=(this.canvasWidth-this.getViewportWidth());if(B!==0){z=A/B}else{z=0}this.adjustScrollHorizontal(A,z);return z}};o.prototype.adjustScrollVertical=function v(B,z,A){if(this.prevScrollTop===B&&!A){return}if(typeof(B)==="undefined"||B===undefined||B===null){B=(this.getCanvasHeight()-this.getViewportHeight())*z}this.adjustRows(B,z,false);this.prevScrollTop=B;this.prevScrolltopPercentage=z;this.grid.queueRefresh()};o.prototype.adjustScrollHorizontal=function y(B,z,A){if(this.prevScrollLeft===B&&!A){return}if(typeof(B)==="undefined"||B===undefined||B===null){B=(this.getCanvasWidth()-this.getViewportWidth())*z}this.adjustColumns(B,z);this.prevScrollLeft=B;this.prevScrollleftPercentage=z;this.grid.queueRefresh()};o.prototype.adjustRows=function c(B,G,F){var K=this;var A=K.minRowsToRender();var C=K.visibleRowCache;var E=C.length-A;if((typeof(G)==="undefined"||G===null)&&B){G=B/K.getVerticalScrollLength()}var H=Math.ceil(Math.min(E,E*G));if(H>E){H=E}var I=[];if(C.length>K.grid.options.virtualizationThreshold){if(!(typeof(B)==="undefined"||B===null)){if(!K.grid.suppressParentScrollDown&&K.prevScrollTop<B&&H<K.prevRowScrollIndex+K.grid.options.scrollThreshold&&H<E){return}if(!K.grid.suppressParentScrollUp&&K.prevScrollTop>B&&H>K.prevRowScrollIndex-K.grid.options.scrollThreshold&&H<E){return}}var J={};var z={};J=Math.max(0,H-K.grid.options.excessRows);z=Math.min(C.length,H+A+K.grid.options.excessRows);I=[J,z]}else{var D=K.visibleRowCache.length;I=[0,Math.max(D,A+K.grid.options.excessRows)]}K.updateViewableRowRange(I);K.prevRowScrollIndex=H};o.prototype.adjustColumns=function r(C,D){var J=this;var H=J.minColumnsToRender();var A=J.visibleColumnCache;var E=A.length-H;if((typeof(D)==="undefined"||D===null)&&C){D=C/J.getCanvasWidth()}var G=Math.ceil(Math.min(E,E*D));if(G>E){G=E}var F=[];if(A.length>J.grid.options.columnVirtualizationThreshold&&J.getCanvasWidth()>J.getViewportWidth()){var I=Math.max(0,G-J.grid.options.excessColumns);var z=Math.min(A.length,G+H+J.grid.options.excessColumns);F=[I,z]}else{var B=J.visibleColumnCache.length;F=[0,Math.max(B,H+J.grid.options.excessColumns)]}J.updateViewableColumnRange(F);J.prevColumnScrollIndex=G};o.prototype.updateViewableRowRange=function l(A){var z=this.visibleRowCache.slice(A[0],A[1]);this.currentTopRow=A[0];this.setRenderedRows(z)};o.prototype.updateViewableColumnRange=function d(A){var z=this.visibleColumnCache.slice(A[0],A[1]);this.currentFirstColumn=A[0];this.setRenderedColumns(z)};o.prototype.headerCellWrapperStyle=function(){var z=this;if(z.currentFirstColumn!==0){var A=z.columnOffset;if(z.grid.isRTL()){return{"margin-right":A+"px"}}else{return{"margin-left":A+"px"}}}return null};o.prototype.updateColumnWidths=function(){var I=this;var F=[],z=0,N=0,Q="";var B=I.grid.getViewportWidth()-I.grid.scrollbarWidth;var D=[];angular.forEach(I.grid.renderContainers,function(R,S){D=D.concat(R.visibleColumnCache)});D.forEach(function(T,R){var S=0;if(!T.visible){return}if(angular.isNumber(T.width)){S=parseInt(T.width,10);N=N+S;T.drawnWidth=S}else{if(w.endsWith(T.width,"%")){S=parseInt(parseInt(T.width.replace(/%/g,""),10)/100*B);if(S>T.maxWidth){S=T.maxWidth}if(S<T.minWidth){S=T.minWidth}N=N+S;T.drawnWidth=S}else{if(angular.isString(T.width)&&T.width.indexOf("*")!==-1){z=z+T.width.length;F.push(T)}}}});var G=B-N;var L,C,P;if(F.length>0){var K=G/z;F.forEach(function(S){var R=parseInt(S.width.length*K,10);if(R>S.maxWidth){R=S.maxWidth}if(R<S.minWidth){R=S.minWidth}N=N+R;S.drawnWidth=R})}var H=function(R){if(R.drawnWidth<R.maxWidth&&O>0){R.drawnWidth++;N++;O--;J=true}};var O=B-N;var J=true;while(O>0&&J){J=false;F.forEach(H)}var A=function(R){if(R.drawnWidth>R.minWidth&&E>0){R.drawnWidth--;N--;E--;J=true}};var E=N-B;J=true;while(E>0&&J){J=false;F.forEach(A)}var M=0;I.visibleColumnCache.forEach(function(R){if(R.visible){M=M+R.drawnWidth}});D.forEach(function(R){Q=Q+R.getColClassDefinition()});I.canvasWidth=M;this.columnStyles=Q};o.prototype.getViewportStyle=function(){var z=this;var A={};if(z.grid.disableScrolling){A["overflow-x"]="hidden";A["overflow-y"]="hidden";return A}if(z.name==="body"){A["overflow-x"]=z.grid.options.enableHorizontalScrollbar===m.scrollbars.NEVER?"hidden":"scroll";if(!z.grid.isRTL()){if(z.grid.hasRightContainerColumns()){A["overflow-y"]="hidden"}else{A["overflow-y"]=z.grid.options.enableVerticalScrollbar===m.scrollbars.NEVER?"hidden":"scroll"}}else{if(z.grid.hasLeftContainerColumns()){A["overflow-y"]="hidden"}else{A["overflow-y"]=z.grid.options.enableVerticalScrollbar===m.scrollbars.NEVER?"hidden":"scroll"}}}else{if(z.name==="left"){A["overflow-x"]="hidden";A["overflow-y"]=z.grid.isRTL()?(z.grid.options.enableVerticalScrollbar===m.scrollbars.NEVER?"hidden":"scroll"):"hidden"}else{A["overflow-x"]="hidden";A["overflow-y"]=!z.grid.isRTL()?(z.grid.options.enableVerticalScrollbar===m.scrollbars.NEVER?"hidden":"scroll"):"hidden"}}return A};return o}])})();(function(){angular.module("ui.grid").factory("GridRow",["gridUtil",function(b){function a(c,d,e){this.grid=e;this.entity=c;this.uid=b.nextUid();this.visible=true;this.$$height=e.options.rowHeight}Object.defineProperty(a.prototype,"height",{get:function(){return this.$$height},set:function(c){if(c!==this.$$height){this.grid.updateCanvasHeight();this.$$height=c}}});a.prototype.getQualifiedColField=function(c){return"row."+this.getEntityQualifiedColField(c)};a.prototype.getEntityQualifiedColField=function(c){return b.preEval("entity."+c.field)};a.prototype.setRowInvisible=function(c){if(c&&c.setThisRowInvisible){c.setThisRowInvisible("user")}};a.prototype.clearRowInvisible=function(c){if(c&&c.clearThisRowInvisible){c.clearThisRowInvisible("user")}};a.prototype.setThisRowInvisible=function(d,c){if(!this.invisibleReason){this.invisibleReason={}}this.invisibleReason[d]=true;this.evaluateRowVisibility(c)};a.prototype.clearThisRowInvisible=function(d,c){if(typeof(this.invisibleReason)!=="undefined"){delete this.invisibleReason[d]}this.evaluateRowVisibility(c)};a.prototype.evaluateRowVisibility=function(c){var d=true;if(typeof(this.invisibleReason)!=="undefined"){angular.forEach(this.invisibleReason,function(f,e){if(f){d=false}})}if(typeof(this.visible)==="undefined"||this.visible!==d){this.visible=d;if(!c){this.grid.queueGridRefresh();this.grid.api.core.raise.rowsVisibleChanged(this)}}};return a}])})();(function(){angular.module("ui.grid").factory("ScrollEvent",["gridUtil",function(b){function a(e,f,c,g){var d=this;if(!e){throw new Error("grid argument is required")}d.grid=e;d.source=g;d.withDelay=true;d.sourceRowContainer=f;d.sourceColContainer=c;d.newScrollLeft=null;d.newScrollTop=null;d.x=null;d.y=null;d.fireThrottledScrollingEvent=b.throttle(function(h){d.grid.scrollContainers(h,d)},d.grid.options.wheelScrollThrottle,{trailing:true})}a.prototype.getNewScrollLeft=function(g,c){var d=this;if(!d.newScrollLeft){var e=(g.getCanvasWidth()-g.getViewportWidth());var h=b.normalizeScrollLeft(c,d.grid);var f;if(typeof(d.x.percentage)!=="undefined"&&d.x.percentage!==undefined){f=d.x.percentage}else{if(typeof(d.x.pixels)!=="undefined"&&d.x.pixels!==undefined){f=d.x.percentage=(h+d.x.pixels)/e}else{throw new Error("No percentage or pixel value provided for scroll event X axis")}}return Math.max(0,f*e)}return d.newScrollLeft};a.prototype.getNewScrollTop=function(f,d){var e=this;if(!e.newScrollTop){var c=f.getVerticalScrollLength();var g=d[0].scrollTop;var h;if(typeof(e.y.percentage)!=="undefined"&&e.y.percentage!==undefined){h=e.y.percentage}else{if(typeof(e.y.pixels)!=="undefined"&&e.y.pixels!==undefined){h=e.y.percentage=(g+e.y.pixels)/c}else{throw new Error("No percentage or pixel value provided for scroll event Y axis")}}return Math.max(0,h*c)}return e.newScrollTop};a.prototype.atTop=function(c){return(this.y&&this.y.percentage===0&&c===0)};a.prototype.atBottom=function(c){return(this.y&&this.y.percentage===1&&c>0)};a.prototype.atLeft=function(c){return(this.x&&this.x.percentage===0&&c===0)};a.prototype.atRight=function(c){return(this.x&&this.x.percentage===1&&c>0)};a.Sources={ViewPortScroll:"ViewPortScroll",RenderContainerMouseWheel:"RenderContainerMouseWheel",RenderContainerTouchMove:"RenderContainerTouchMove",Other:99};return a}])})();(function(){angular.module("ui.grid").service("gridClassFactory",["gridUtil","$q","$compile","$templateCache","uiGridConstants","Grid","GridColumn","GridRow",function(i,g,e,b,h,c,d,a){var f={createGrid:function(k){k=(typeof(k)!=="undefined")?k:{};k.id=i.newId();var l=new c(k);if(l.options.rowTemplate){var o=g.defer();l.getRowTemplateFn=o.promise;i.getTemplate(l.options.rowTemplate).then(function(p){var q=e(p);o.resolve(q)},function(p){throw new Error("Couldn't fetch/use row template '"+l.options.rowTemplate+"'")})}l.registerColumnBuilder(f.defaultColumnBuilder);l.registerRowBuilder(f.rowTemplateAssigner);l.registerRowsProcessor(function n(p){p.forEach(function(q){q.evaluateRowVisibility(true)},50);return p});l.registerColumnsProcessor(function m(p){p.forEach(function(q){q.visible=true});return p},50);l.registerColumnsProcessor(function(p){p.forEach(function(q){if(q.colDef.visible===false){q.visible=false}});return p},50);l.registerRowsProcessor(l.searchRows,100);if(l.options.externalSort&&angular.isFunction(l.options.externalSort)){l.registerRowsProcessor(l.options.externalSort,200)}else{l.registerRowsProcessor(l.sortByColumn,200)}return l},defaultColumnBuilder:function(n,l,o){var m=[];var k=function(q,p,s,t,r){if(!n[q]){l[p]=s}else{l[p]=n[q]}m.push(i.getTemplate(l[p]).then(function(v){var u=(r==="cellTooltip")?"col.cellTooltip(row,col)":"col.headerTooltip(col)";if(r&&l[r]===false){v=v.replace(h.TOOLTIP,"")}else{if(r&&l[r]){v=v.replace(h.TOOLTIP,'title="{{'+u+' CUSTOM_FILTERS }}"')}}if(t){l[q]=v.replace(h.CUSTOM_FILTERS,l[t]?"|"+l[t]:"")}else{l[q]=v}},function(u){throw new Error("Couldn't fetch/use colDef."+q+" '"+n[q]+"'")}))};k("cellTemplate","providedCellTemplate","ui-grid/uiGridCell","cellFilter","cellTooltip");l.cellTemplatePromise=m[0];k("headerCellTemplate","providedHeaderCellTemplate","ui-grid/uiGridHeaderCell","headerCellFilter","headerTooltip");k("footerCellTemplate","providedFooterCellTemplate","ui-grid/uiGridFooterCell","footerCellFilter");k("filterHeaderTemplate","providedFilterHeaderTemplate","ui-grid/ui-grid-filter");l.compiledElementFnDefer=g.defer();return g.all(m)},rowTemplateAssigner:function j(m){var k=this;if(!m.rowTemplate){m.rowTemplate=k.options.rowTemplate;m.getRowTemplateFn=k.getRowTemplateFn}else{var l=g.defer();m.getRowTemplateFn=l.promise;i.getTemplate(m.rowTemplate).then(function(n){var o=e(n);l.resolve(o)},function(n){throw new Error("Couldn't fetch/use row template '"+m.rowTemplate+"'")})}return m.getRowTemplateFn}};return f}])})();(function(){var b=angular.module("ui.grid");function a(c){return c.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}b.service("rowSearcher",["gridUtil","uiGridConstants",function(k,i){var l=i.filter.CONTAINS;var h={};h.getTerm=function d(o){if(typeof(o.term)==="undefined"){return o.term}var n=o.term;if(typeof(n)==="string"){n=n.trim()}return n};h.stripTerm=function j(o){var n=h.getTerm(o);if(typeof(n)==="string"){return a(n.replace(/(^\*|\*$)/g,""))}else{return n}};h.guessCondition=function c(p){if(typeof(p.term)==="undefined"||!p.term){return l}var n=h.getTerm(p);if(/\*/.test(n)){var q="";if(!p.flags||!p.flags.caseSensitive){q+="i"}var o=n.replace(/(\\)?\*/g,function(s,r){return r?s:"[\\s\\S]*?"});return new RegExp("^"+o+"$",q)}else{return l}};h.setupFilters=function e(s){var n=[];var t=s.length;for(var o=0;o<t;o++){var p=s[o];if(p.noTerm||!k.isNullOrUndefined(p.term)){var r={};var q="";if(!p.flags||!p.flags.caseSensitive){q+="i"}if(!k.isNullOrUndefined(p.term)){r.term=h.stripTerm(p)}if(p.condition){r.condition=p.condition}else{r.condition=h.guessCondition(p)}r.flags=angular.extend({caseSensitive:false,date:false},p.flags);if(r.condition===i.filter.STARTS_WITH){r.startswithRE=new RegExp("^"+r.term,q)}if(r.condition===i.filter.ENDS_WITH){r.endswithRE=new RegExp(r.term+"$",q)}if(r.condition===i.filter.CONTAINS){r.containsRE=new RegExp(r.term,q)}if(r.condition===i.filter.EXACT){r.exactRE=new RegExp("^"+r.term+"$",q)}n.push(r)}}return n};h.runColumnFilter=function f(n,v,p,o){var r=typeof(o.condition);var q=o.term;var u=n.getCellValue(v,p);if(o.condition instanceof RegExp){return o.condition.test(u)}if(r==="function"){return o.condition(q,u,v,p)}if(o.startswithRE){return o.startswithRE.test(u)}if(o.endswithRE){return o.endswithRE.test(u)}if(o.containsRE){return o.containsRE.test(u)}if(o.exactRE){return o.exactRE.test(u)}if(o.condition===i.filter.NOT_EQUAL){var t=new RegExp("^"+q+"$");return !t.exec(u)}if(typeof(u)==="number"&&typeof(q)==="string"){var s=parseFloat(q.replace(/\\\./,".").replace(/\\\-/,"-"));if(!isNaN(s)){q=s}}if(o.flags.date===true){u=new Date(u);q=new Date(q.replace(/\\/g,""))}if(o.condition===i.filter.GREATER_THAN){return(u>q)}if(o.condition===i.filter.GREATER_THAN_OR_EQUAL){return(u>=q)}if(o.condition===i.filter.LESS_THAN){return(u<q)}if(o.condition===i.filter.LESS_THAN_OR_EQUAL){return(u<=q)}return true};h.searchColumn=function g(p,u,r,s){if(p.options.useExternalFiltering){return true}var t=s.length;for(var o=0;o<t;o++){var q=s[o];var n=h.runColumnFilter(p,u,r,q);if(!n){return false}}return true};h.search=function m(n,y,q){if(!y){return}if(!n.options.enableFiltering){return y}var v=[];var x=q.length;var w=function(z){var A=false;z.forEach(function(B){if(!k.isNullOrUndefined(B.term)&&B.term!==""||B.noTerm){A=true}});return A};for(var t=0;t<x;t++){var p=q[t];if(typeof(p.filters)!=="undefined"&&w(p.filters)){v.push({col:p,filters:h.setupFilters(p.filters)})}}if(v.length>0){var o=function(A,C,z,B){if(C.visible&&!h.searchColumn(A,C,z,B)){C.visible=false}};var u=function(A,C){var B=y.length;for(var z=0;z<B;z++){o(A,y[z],C.col,C.filters)}};var r=v.length;for(var s=0;s<r;s++){u(n,v[s])}if(n.api.core.raise.rowsVisibleChanged){n.api.core.raise.rowsVisibleChanged()}}return y};return h}])})();(function(){var a=angular.module("ui.grid");a.service("rowSorter",["$parse","uiGridConstants",function(g,l){var h="("+l.CURRENCY_SYMBOLS.map(function(q){return"\\"+q}).join("|")+")?";var i=new RegExp("^[-+]?"+h+"[\\d,.]+"+h+"%?$");var d={colSortFnCache:{}};d.guessSortFn=function m(q){switch(q){case"number":return d.sortNumber;case"numberStr":return d.sortNumberStr;case"boolean":return d.sortBool;case"string":return d.sortAlpha;case"date":return d.sortDate;case"object":return d.basicSort;default:throw new Error("No sorting function found for type:"+q)}};d.handleNulls=function j(r,q){if((!r&&r!==0&&r!==false)||(!q&&q!==0&&q!==false)){if((!r&&r!==0&&r!==false)&&(!q&&q!==0&&q!==false)){return 0}else{if(!r&&r!==0&&r!==false){return 1}else{if(!q&&q!==0&&q!==false){return -1}}}}return null};d.basicSort=function n(r,q){var s=d.handleNulls(r,q);if(s!==null){return s}else{if(r===q){return 0}if(r<q){return -1}return 1}};d.sortNumber=function e(r,q){var s=d.handleNulls(r,q);if(s!==null){return s}else{return r-q}};d.sortNumberStr=function c(s,q){var w=d.handleNulls(s,q);if(w!==null){return w}else{var v,u,t=false,r=false;v=parseFloat(s.replace(/[^0-9.-]/g,""));if(isNaN(v)){t=true}u=parseFloat(q.replace(/[^0-9.-]/g,""));if(isNaN(u)){r=true}if(t&&r){return 0}if(t){return 1}if(r){return -1}return v-u}};d.sortAlpha=function f(s,q){var u=d.handleNulls(s,q);if(u!==null){return u}else{var t=s.toString().toLowerCase(),r=q.toString().toLowerCase();return t===r?0:(t<r?-1:1)}};d.sortDate=function p(r,q){var u=d.handleNulls(r,q);if(u!==null){return u}else{if(!(r instanceof Date)){r=new Date(r)}if(!(q instanceof Date)){q=new Date(q)}var t=r.getTime(),s=q.getTime();return t===s?0:(t<s?-1:1)}};d.sortBool=function o(r,q){var s=d.handleNulls(r,q);if(s!==null){return s}else{if(r&&q){return 0}if(!r&&!q){return 0}else{return r?1:-1}}};d.getSortFn=function k(r,q,u){var t,s;if(d.colSortFnCache[q.colDef.name]){t=d.colSortFnCache[q.colDef.name]}else{if(q.sortingAlgorithm!==undefined){t=q.sortingAlgorithm;d.colSortFnCache[q.colDef.name]=q.sortingAlgorithm}else{t=d.guessSortFn(q.colDef.type);if(t){d.colSortFnCache[q.colDef.name]=t}else{t=d.sortAlpha}}}return t};d.prioritySort=function(r,q){if(r.sort.priority!==undefined&&q.sort.priority!==undefined){if(r.sort.priority<q.sort.priority){return -1}else{if(r.sort.priority===q.sort.priority){return 0}else{return 1}}}else{if(r.sort.priority||r.sort.priority===0){return -1}else{if(q.sort.priority||q.sort.priority===0){return 1}else{return 0}}}};d.sort=function b(t,B,x){if(!B){return}if(t.options.useExternalSorting){return B}var y=[];x.forEach(function(r){if(r.sort&&!r.sort.ignoreSort&&r.sort.direction&&(r.sort.direction===l.ASC||r.sort.direction===l.DESC)){y.push(r)}});y=y.sort(d.prioritySort);if(y.length===0){return B}var w,A;var s=function(C,r){C.entity.$$uiGridIndex=r};B.forEach(s);var q=B.slice(0);var u=function(F,D){var E=0,C=0,G;while(E===0&&C<y.length){w=y[C];A=y[C].sort.direction;G=d.getSortFn(t,w,q);var r=t.getCellValue(F,w);var H=t.getCellValue(D,w);E=G(r,H);C++}if(E===0){return F.entity.$$uiGridIndex-D.entity.$$uiGridIndex}if(A===l.ASC){return E}else{return 0-E}};var z=B.sort(u);var v=function(C,r){delete C.entity.$$uiGridIndex};B.forEach(v);return z};return d}])})();(function(){var b=angular.module("ui.grid");var d;if(typeof Function.prototype.bind!=="function"){d=function(){var l=Array.prototype.slice;return function(n){var o=this,m=l.call(arguments,1);if(m.length){return function(){return arguments.length?o.apply(n,m.concat(l.call(arguments))):o.apply(n,m)}}return function(){return arguments.length?o.apply(n,arguments):o.call(n)}}}}function g(l){var m=l;if(typeof(m.length)!=="undefined"&&m.length){m=l[0]}return m.ownerDocument.defaultView.getComputedStyle(m,null)}var k=new RegExp("^("+(/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/).source+")(?!px)[a-z%]+$","i"),i=/^(block|none|table(?!-c[ea]).+)/,a={position:"absolute",visibility:"hidden",display:"block"};function c(o,l,p,x,y){var r=p===(x?"border":"content")?4:l==="width"?1:0,m=0;var n=["Top","Right","Bottom","Left"];for(;r<4;r+=2){var v=n[r];if(p==="margin"){var s=parseFloat(y[p+v]);if(!isNaN(s)){m+=s}}if(x){if(p==="content"){var w=parseFloat(y["padding"+v]);if(!isNaN(w)){m-=w}}if(p!=="margin"){var u=parseFloat(y["border"+v+"Width"]);if(!isNaN(u)){m-=u}}}else{var t=parseFloat(y["padding"+v]);if(!isNaN(t)){m+=t}if(p!=="padding"){var q=parseFloat(y["border"+v+"Width"]);if(!isNaN(q)){m+=q}}}}return m}function e(q,n,l){var p=true,r,o=g(q),s=o.boxSizing==="border-box";if(r<=0||r==null){r=o[n];if(r<0||r==null){r=q.style[n]}if(k.test(r)){return r}p=s&&(true||r===q.style[n]);r=parseFloat(r)||0}var m=(r+c(q,n,l||(s?"border":"content"),p,o));return m}function f(m){m=angular.element(m)[0];var l=m.parentElement;if(!l){l=document.getElementsByTagName("body")[0]}return parseInt(g(l).fontSize)||parseInt(g(m).fontSize)||16}var h=["0","0","0"];var j="uiGrid-";b.service("gridUtil",["$log","$window","$document","$http","$templateCache","$timeout","$interval","$injector","$q","$interpolate","uiGridConstants",function(A,y,K,L,q,J,C,F,I,u,t){var x={augmentWidthOrHeight:c,getStyles:g,createBoundedWrapper:function(s,M){return function(){return M.apply(s,arguments)}},readableColumnName:function(s){if(typeof(s)==="undefined"||s===undefined||s===null){return s}if(typeof(s)!=="string"){s=String(s)}return s.replace(/_+/g," ").replace(/^[A-Z]+$/,function(M){return angular.lowercase(angular.uppercase(M.charAt(0))+M.slice(1))}).replace(/([\w\u00C0-\u017F]+)/g,function(M){return angular.uppercase(M.charAt(0))+M.slice(1)}).replace(/(\w+?(?=[A-Z]))/g,"$1 ")},getColumnsFromData:function(N,M){var O=[];if(!N||typeof(N[0])==="undefined"||N[0]===undefined){return[]}if(angular.isUndefined(M)){M=[]}var s=N[0];angular.forEach(s,function(Q,P){if(M.indexOf(P)===-1){O.push({name:P})}});return O},newId:(function(){var s=new Date().getTime();return function(){return s+=1}})(),getTemplate:function(s){if(q.get(s)){return x.postProcessTemplate(q.get(s))}if(s.hasOwnProperty("then")){return s.then(x.postProcessTemplate)}try{if(angular.element(s).length>0){return I.when(s).then(x.postProcessTemplate)}}catch(M){}x.logDebug("fetching url",s);return L({method:"GET",url:s}).then(function(N){var O=N.data.trim();q.put(s,O);return O},function(N){throw new Error("Could not get template "+s+": "+N)}).then(x.postProcessTemplate)},postProcessTemplate:function(s){var N=u.startSymbol(),M=u.endSymbol();if(N!=="{{"||M!=="}}"){s=s.replace(/\{\{/g,N);s=s.replace(/\}\}/g,M)}return I.when(s)},guessType:function(s){var M=typeof(s);switch(M){case"number":case"boolean":case"string":return M;default:if(angular.isDate(s)){return"date"}return"object"}},elementWidth:function(s){},elementHeight:function(s){},getScrollbarWidth:function(){var O=document.createElement("div");O.style.visibility="hidden";O.style.width="100px";O.style.msOverflowStyle="scrollbar";document.body.appendChild(O);var M=O.offsetWidth;O.style.overflow="scroll";var s=document.createElement("div");s.style.width="100%";O.appendChild(s);var N=s.offsetWidth;O.parentNode.removeChild(O);return M-N},swap:function(Q,P,R,O){var N,M,s={};for(M in P){s[M]=Q.style[M];Q.style[M]=P[M]}N=R.apply(Q,O||[]);for(M in P){Q.style[M]=s[M]}return N},fakeElement:function(P,O,R,N){var M,s,Q=angular.element(P).clone()[0];for(s in O){Q.style[s]=O[s]}angular.element(document.body).append(Q);M=R.call(Q,Q);angular.element(Q).remove();return M},normalizeWheelEvent:function(M){var N,s;var O=M||window.event,T=[].slice.call(arguments,1),V=0,Q=0,P=0,S=0,R=0,U;if(O.originalEvent){O=O.originalEvent}if(O.wheelDelta){V=O.wheelDelta}if(O.detail){V=O.detail*-1}P=V;if(O.axis!==undefined&&O.axis===O.HORIZONTAL_AXIS){P=0;Q=V*-1}if(O.deltaY){P=O.deltaY*-1;V=P}if(O.deltaX){Q=O.deltaX;V=Q*-1}if(O.wheelDeltaY!==undefined){P=O.wheelDeltaY}if(O.wheelDeltaX!==undefined){Q=O.wheelDeltaX}S=Math.abs(V);if(!N||S<N){N=S}R=Math.max(Math.abs(P),Math.abs(Q));if(!s||R<s){s=R}U=V>0?"floor":"ceil";V=Math[U](V/N);Q=Math[U](Q/s);P=Math[U](P/s);return{delta:V,deltaX:Q,deltaY:P}},isTouchEnabled:function(){var s;if(("ontouchstart" in y)||y.DocumentTouch&&K instanceof DocumentTouch){s=true}return s},isNullOrUndefined:function(s){if(s===undefined||s===null){return true}return false},endsWith:function(M,s){if(!M||!s||typeof M!=="string"){return false}return M.indexOf(s,M.length-s.length)!==-1},arrayContainsObjectWithProperty:function(O,M,s){var N=false;angular.forEach(O,function(P){if(P[M]===s){N=true}});return N},numericAndNullSort:function(M,s){if(M===null){return 1}if(s===null){return -1}if(M===null&&s===null){return 0}return M-s},disableAnimations:function(s){var N;try{N=F.get("$animate");N.enabled(false,s)}catch(M){}},enableAnimations:function(s){var N;try{N=F.get("$animate");N.enabled(true,s);return N}catch(M){}},nextUid:function D(){var s=h.length;var M;while(s){s--;M=h[s].charCodeAt(0);if(M===57){h[s]="A";return j+h.join("")}if(M===90){h[s]="0"}else{h[s]=String.fromCharCode(M+1);return j+h.join("")}}h.unshift("0");return j+h.join("")},hashKey:function r(M){var N=typeof M,s;if(N==="object"&&M!==null){if(typeof(s=M.$$hashKey)==="function"){s=M.$$hashKey()}else{if(typeof(M.$$hashKey)!=="undefined"&&M.$$hashKey){s=M.$$hashKey}else{if(s===undefined){s=M.$$hashKey=x.nextUid()}}}}else{s=M}return N+":"+s},resetUids:function(){h=["0","0","0"]},logError:function(s){if(t.LOG_ERROR_MESSAGES){A.error(s)}},logWarn:function(s){if(t.LOG_WARN_MESSAGES){A.warn(s)}},logDebug:function(){if(t.LOG_DEBUG_MESSAGES){A.debug.apply(A,arguments)}}};["width","height"].forEach(function(M){var s=angular.uppercase(M.charAt(0))+M.substr(1);x["element"+s]=function(P,N){var Q=P;if(Q&&typeof(Q.length)!=="undefined"&&Q.length){Q=P[0]}if(Q){var O=g(Q);return Q.offsetWidth===0&&i.test(O.display)?x.swap(Q,a,function(){return e(Q,M,N)}):e(Q,M,N)}else{return null}};x["outerElement"+s]=function(N,O){return N?x["element"+s].call(this,N,O?"margin":"border"):null}});x.closestElm=function n(N,s){if(typeof(N.length)!=="undefined"&&N.length){N=N[0]}var O;["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(P){if(typeof document.body[P]==="function"){O=P;return true}return false});var M;while(N!==null){M=N.parentElement;if(M!==null&&M[O](s)){return M}N=M}return null};x.type=function(s){var M=Function.prototype.toString.call(s.constructor);return M.match(/function (.*?)\(/)[1]};x.getBorderSize=function E(N,s){if(typeof(N.length)!=="undefined"&&N.length){N=N[0]}var M=g(N);if(s){s="border"+s.charAt(0).toUpperCase()+s.slice(1)}else{s="border"}s+="Width";var O=parseInt(M[s],10);if(isNaN(O)){return 0}else{return O}};x.detectBrowser=function B(){var N=y.navigator.userAgent;var s={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer|trident\//i};for(var M in s){if(s[M].test(N)){return M}}return"unknown"};x.rtlScrollType=function w(){if(w.type){return w.type}var M=angular.element('<div dir="rtl" style="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll">A</div>')[0],s="reverse";document.body.appendChild(M);if(M.scrollLeft>0){s="default"}else{M.scrollLeft=1;if(M.scrollLeft===0){s="negative"}}angular.element(M).remove();w.type=s;return s};x.normalizeScrollLeft=function m(M,s){if(typeof(M.length)!=="undefined"&&M.length){M=M[0]}var N=M.scrollLeft;if(s.isRTL()){switch(x.rtlScrollType()){case"default":return M.scrollWidth-N-M.clientWidth;case"negative":return Math.abs(N);case"reverse":return N}}return N};x.denormalizeScrollLeft=function v(M,O,s){if(typeof(M.length)!=="undefined"&&M.length){M=M[0]}if(s.isRTL()){switch(x.rtlScrollType()){case"default":var N=M.scrollWidth-M.clientWidth;return N-O;case"negative":return O*-1;case"reverse":return O}}return O};x.preEval=function(O){var s=t.BRACKET_REGEXP.exec(O);if(s){return(s[1]?x.preEval(s[1]):s[1])+s[2]+(s[3]?x.preEval(s[3]):s[3])}else{O=O.replace(t.APOS_REGEXP,"\\'");var N=O.split(t.DOT_REGEXP);var M=[N.shift()];angular.forEach(N,function(P){M.push(P.replace(t.FUNC_REGEXP,"']$1"))});return M.join("['")}};x.debounce=function(Q,S,N){var R,O,P,s;function M(){P=this;O=arguments;var U=function(){R=null;if(!N){s=Q.apply(P,O)}};var T=N&&!R;if(R){J.cancel(R)}R=J(U,S);if(T){s=Q.apply(P,O)}return s}M.cancel=function(){J.cancel(R);R=null};return M};x.throttle=function(Q,R,N){N=N||{};var P=0,S=null,O,M;function s(T){P=+new Date();Q.apply(O,M);C(function(){S=null},0,1)}return function(){O=this;M=arguments;if(S===null){var T=+new Date()-P;if(T>R){s()}else{if(N.trailing){S=C(s,R-T,1)}}}}};x.on={};x.off={};x._events={};x.addOff=function(s){x.off[s]=function(O,N){var M=x._events[s].indexOf(N);if(M>0){x._events[s].removeAt(M)}}};var G=("onwheel" in document||document.documentMode>=9)?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],o,p;x.on.mousewheel=function(P,O){if(!P||!O){return}var s=angular.element(P);s.data("mousewheel-line-height",f(s));s.data("mousewheel-page-height",x.elementHeight(s));if(!s.data("mousewheel-callbacks")){s.data("mousewheel-callbacks",{})}var M=s.data("mousewheel-callbacks");M[O]=(Function.prototype.bind||d).call(l,s[0],O);for(var N=G.length;N;){s.on(G[--N],M[O])}};x.off.mousewheel=function(Q,P){var s=angular.element(this);var M=s.data("mousewheel-callbacks");var O=M[P];if(O){for(var N=G.length;N;){s.off(G[--N],O)}}delete M[P];if(Object.keys(M).length===0){s.removeData("mousewheel-line-height");s.removeData("mousewheel-page-height");s.removeData("mousewheel-callbacks")}};function l(U,s){var M=angular.element(this);var W=0,Q=0,O=0,T=0,S=0,R=0;if(s.originalEvent){s=s.originalEvent}if("detail" in s){O=s.detail*-1}if("wheelDelta" in s){O=s.wheelDelta}if("wheelDeltaY" in s){O=s.wheelDeltaY}if("wheelDeltaX" in s){Q=s.wheelDeltaX*-1}if("axis" in s&&s.axis===s.HORIZONTAL_AXIS){Q=O*-1;O=0}W=O===0?Q:O;if("deltaY" in s){O=s.deltaY*-1;W=O}if("deltaX" in s){Q=s.deltaX;if(O===0){W=Q*-1}}if(O===0&&Q===0){return}if(s.deltaMode===1){var V=M.data("mousewheel-line-height");W*=V;O*=V;Q*=V}else{if(s.deltaMode===2){var N=M.data("mousewheel-page-height");W*=N;O*=N;Q*=N}}T=Math.max(Math.abs(O),Math.abs(Q));if(!p||T<p){p=T;if(z(s,T)){p/=40}}W=Math[W>=1?"floor":"ceil"](W/p);Q=Math[Q>=1?"floor":"ceil"](Q/p);O=Math[O>=1?"floor":"ceil"](O/p);s.deltaMode=0;var P={originalEvent:s,deltaX:Q,deltaY:O,deltaFactor:p,preventDefault:function(){s.preventDefault()}};if(o){clearTimeout(o)}o=setTimeout(H,200);U.call(M[0],P)}function H(){p=null}function z(M,s){return M.type==="mousewheel"&&s%120===0}return x}]);b.filter("px",function(){return function(l){if(l.match(/^[\d\.]+$/)){return l+"px"}else{return l}}})})();(function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(b){var c={aggregate:{label:"položky"},groupPanel:{description:"Přesuntě záhlaví zde pro vytvoření skupiny dle sloupce."},search:{placeholder:"Hledat...",showingItems:"Zobrazuji položky:",selectedItems:"Vybrané položky:",totalItems:"Celkem položek:",size:"Velikost strany:",first:"První strana",next:"Další strana",previous:"Předchozí strana",last:"Poslední strana"},menu:{text:"Vyberte sloupec:"},sort:{ascending:"Seřadit od A-Z",descending:"Seřadit od Z-A",remove:"Odebrat seřazení"},column:{hide:"Schovat sloupec"},aggregation:{count:"celkem řádků: ",sum:"celkem: ",avg:"avg: ",min:"min.: ",max:"max.: "},pinning:{pinLeft:"Zamknout v levo",pinRight:"Zamknout v pravo",unpin:"Odemknout"},gridMenu:{columns:"Sloupce:",importerTitle:"Importovat soubor",exporterAllAsCsv:"Exportovat všechny data do csv",exporterVisibleAsCsv:"Exportovat viditelné data do csv",exporterSelectedAsCsv:"Exportovat vybranné data do csv",exporterAllAsPdf:"Exportovat všechny data do pdf",exporterVisibleAsPdf:"Exportovat viditelné data do pdf",exporterSelectedAsPdf:"Exportovat vybranné data do pdf"},importer:{noHeaders:"Názvy sloupců se nepodařilo získat, obsahuje soubor záhlaví?",noObjects:"Data se nepodařilo zpracovat, obsahuje soubor řádky mimo záhlaví?",invalidCsv:"Soubor nelze zpracovat, jedná se CSV?",invalidJson:"Soubor nelze zpracovat, je to JSON?",jsonNotArray:"Soubor musí obsahovat json. Ukončuji.."},pagination:{sizes:"položek na stránku",totalItems:"položek"},grouping:{group:"Seskupit",ungroup:"Odebrat seskupení",aggregate_count:"Agregace: Count",aggregate_sum:"Agregace: Sum",aggregate_max:"Agregace: Max",aggregate_min:"Agregace: Min",aggregate_avg:"Agregace: Avg",aggregate_remove:"Agregace: Odebrat"}};b.add("cs",c);b.add("cz",c);b.add("cs-cz",c);b.add("cs-CZ",c);return b}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(b){b.add("da",{aggregate:{label:"artikler"},groupPanel:{description:"Grupér rækker udfra en kolonne ved at trække dens overskift hertil."},search:{placeholder:"Søg...",showingItems:"Viste rækker:",selectedItems:"Valgte rækker:",totalItems:"Rækker totalt:",size:"Side størrelse:",first:"Første side",next:"Næste side",previous:"Forrige side",last:"Sidste side"},menu:{text:"Vælg kolonner:"},column:{hide:"Skjul kolonne"},aggregation:{count:"samlede rækker: ",sum:"smalede: ",avg:"gns: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}});return b}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(b){b.add("de",{aggregate:{label:"Eintrag"},groupPanel:{description:"Ziehen Sie eine Spaltenüberschrift hierhin, um nach dieser Spalte zu gruppieren."},search:{placeholder:"Suche...",showingItems:"Zeige Einträge:",selectedItems:"Ausgewählte Einträge:",totalItems:"Einträge gesamt:",size:"Einträge pro Seite:",first:"Erste Seite",next:"Nächste Seite",previous:"Vorherige Seite",last:"Letzte Seite"},menu:{text:"Spalten auswählen:"},sort:{ascending:"aufsteigend sortieren",descending:"absteigend sortieren",remove:"Sortierung zurücksetzen"},column:{hide:"Spalte ausblenden"},aggregation:{count:"Zeilen insgesamt: ",sum:"gesamt: ",avg:"Durchschnitt: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Links anheften",pinRight:"Rechts anheften",unpin:"Lösen"},gridMenu:{columns:"Spalten:",importerTitle:"Datei importieren",exporterAllAsCsv:"Alle Daten als CSV exportieren",exporterVisibleAsCsv:"sichtbare Daten als CSV exportieren",exporterSelectedAsCsv:"markierte Daten als CSV exportieren",exporterAllAsPdf:"Alle Daten als PDF exportieren",exporterVisibleAsPdf:"sichtbare Daten als PDF exportieren",exporterSelectedAsPdf:"markierte Daten als CSV exportieren"},importer:{noHeaders:"Es konnten keine Spaltennamen ermittelt werden. Sind in der Datei Spaltendefinitionen enthalten?",noObjects:"Es konnten keine Zeileninformationen gelesen werden, Sind in der Datei außer den Spaltendefinitionen auch Daten enthalten?",invalidCsv:"Die Datei konnte nicht eingelesen werden, ist es eine gültige CSV-Datei?",invalidJson:"Die Datei konnte nicht eingelesen werden. Enthält sie gültiges JSON?",jsonNotArray:"Die importierte JSON-Datei muß ein Array enthalten. Breche Import ab."},pagination:{sizes:"Einträge pro Seite",totalItems:"Einträge"},grouping:{group:"Gruppieren",ungroup:"Gruppierung aufheben",aggregate_count:"Agg: Anzahl",aggregate_sum:"Agg: Summe",aggregate_max:"Agg: Maximum",aggregate_min:"Agg: Minimum",aggregate_avg:"Agg: Mittelwert",aggregate_remove:"Aggregation entfernen"}});return b}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(b){b.add("en",{aggregate:{label:"items"},groupPanel:{description:"Drag a column header here and drop it to group by that column."},search:{placeholder:"Search...",showingItems:"Showing Items:",selectedItems:"Selected Items:",totalItems:"Total Items:",size:"Page Size:",first:"First Page",next:"Next Page",previous:"Previous Page",last:"Last Page"},menu:{text:"Choose Columns:"},sort:{ascending:"Sort Ascending",descending:"Sort Descending",remove:"Remove Sort"},column:{hide:"Hide Column"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin Left",pinRight:"Pin Right",unpin:"Unpin"},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{sizes:"items per page",totalItems:"items"},grouping:{group:"Group",ungroup:"Ungroup",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"}});return b}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(b){b.add("es",{aggregate:{label:"Artículos"},groupPanel:{description:"Arrastre un encabezado de columna aquí y suéltelo para agrupar por esa columna."},search:{placeholder:"Buscar...",showingItems:"Artículos Mostrados:",selectedItems:"Artículos Seleccionados:",totalItems:"Artículos Totales:",size:"Tamaño de Página:",first:"Primera Página",next:"Página Siguiente",previous:"Página Anterior",last:"Última Página"},menu:{text:"Elegir columnas:"},sort:{ascending:"Orden Ascendente",descending:"Orden Descendente",remove:"Sin Ordenar"},column:{hide:"Ocultar la columna"},aggregation:{count:"filas totales: ",sum:"total: ",avg:"media: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fijar a la Izquierda",pinRight:"Fijar a la Derecha",unpin:"Quitar Fijación"},gridMenu:{columns:"Columnas:",importerTitle:"Importar archivo",exporterAllAsCsv:"Exportar todo como csv",exporterVisibleAsCsv:"Exportar vista como csv",exporterSelectedAsCsv:"Exportar selección como csv",exporterAllAsPdf:"Exportar todo como pdf",exporterVisibleAsPdf:"Exportar vista como pdf",exporterSelectedAsPdf:"Exportar selección como pdf"},importer:{noHeaders:"No fue posible derivar los nombres de las columnas, ¿tiene encabezados el archivo?",noObjects:"No fue posible obtener registros, ¿contiene datos el archivo, aparte de los encabezados?",invalidCsv:"No fue posible procesar el archivo, ¿es un CSV válido?",invalidJson:"No fue posible procesar el archivo, ¿es un Json válido?",jsonNotArray:"El archivo json importado debe contener un array, abortando."}});return b}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(b){b.add("fa",{aggregate:{label:"موردها"},groupPanel:{description:"یک عنوان ستون اینجا را بردار و به گروهی از آن ستون بیانداز."},search:{placeholder:"جستجو...",showingItems:"نمایش موردها:",selectedItems:"موردهای انتخاب\u200cشده:",totalItems:"همهٔ موردها:",size:"اندازهٔ صفحه:",first:"صفحهٔ اول",next:"صفحهٔ بعد",previous:"صفحهٔ قبل",last:"آخرین صفحه"},menu:{text:"انتخاب ستون\u200cها:"},column:{hide:"ستون پنهان کن"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}});return b}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(b){b.add("fi",{aggregate:{label:"rivit"},groupPanel:{description:"Raahaa ja pudota otsikko tähän ryhmittääksesi sarakkeen mukaan."},search:{placeholder:"Hae...",showingItems:"Näytetään rivejä:",selectedItems:"Valitut rivit:",totalItems:"Rivejä yht.:",size:"Näytä:",first:"Ensimmäinen sivu",next:"Seuraava sivu",previous:"Edellinen sivu",last:"Viimeinen sivu"},menu:{text:"Valitse sarakkeet:"},sort:{ascending:"Järjestä nouseva",descending:"Järjestä laskeva",remove:"Poista järjestys"},column:{hide:"Piilota sarake"},aggregation:{count:"Rivejä yht.: ",sum:"Summa: ",avg:"K.a.: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Lukitse vasemmalle",pinRight:"Lukitse oikealle",unpin:"Poista lukitus"},gridMenu:{columns:"Sarakkeet:",importerTitle:"Tuo tiedosto",exporterAllAsCsv:"Vie tiedot csv-muodossa",exporterVisibleAsCsv:"Vie näkyvä tieto csv-muodossa",exporterSelectedAsCsv:"Vie valittu tieto csv-muodossa",exporterAllAsPdf:"Vie tiedot pdf-muodossa",exporterVisibleAsPdf:"Vie näkyvä tieto pdf-muodossa",exporterSelectedAsPdf:"Vie valittu tieto pdf-muodossa"},importer:{noHeaders:"Sarakkeen nimiä ei voitu päätellä, onko tiedostossa otsikkoriviä?",noObjects:"Tietoja ei voitu lukea, onko tiedostossa muuta kuin otsikkot?",invalidCsv:"Tiedostoa ei voitu käsitellä, oliko se CSV-muodossa?",invalidJson:"Tiedostoa ei voitu käsitellä, oliko se JSON-muodossa?",jsonNotArray:"Tiedosto ei sisältänyt taulukkoa, lopetetaan."}});return b}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(b){b.add("fr",{aggregate:{label:"éléments"},groupPanel:{description:"Faites glisser une en-tête de colonne ici pour créer un groupe de colonnes."},search:{placeholder:"Recherche...",showingItems:"Affichage des éléments :",selectedItems:"Éléments sélectionnés :",totalItems:"Nombre total d'éléments:",size:"Taille de page:",first:"Première page",next:"Page Suivante",previous:"Page précédente",last:"Dernière page"},menu:{text:"Choisir des colonnes :"},sort:{ascending:"Trier par ordre croissant",descending:"Trier par ordre décroissant",remove:"Enlever le tri"},column:{hide:"Cacher la colonne"},aggregation:{count:"lignes totales: ",sum:"total: ",avg:"moy: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Épingler à gauche",pinRight:"Épingler à droite",unpin:"Détacher"},gridMenu:{columns:"Colonnes:",importerTitle:"Importer un fichier",exporterAllAsCsv:"Exporter toutes les données en CSV",exporterVisibleAsCsv:"Exporter les données visibles en CSV",exporterSelectedAsCsv:"Exporter les données sélectionnées en CSV",exporterAllAsPdf:"Exporter toutes les données en PDF",exporterVisibleAsPdf:"Exporter les données visibles en PDF",exporterSelectedAsPdf:"Exporter les données sélectionnées en PDF"},importer:{noHeaders:"Impossible de déterminer le nom des colonnes, le fichier possède-t-il une en-tête ?",noObjects:"Aucun objet trouvé, le fichier possède-t-il des données autres que l'en-tête ?",invalidCsv:"Le fichier n'a pas pu être traité, le CSV est-il valide ?",invalidJson:"Le fichier n'a pas pu être traité, le JSON est-il valide ?",jsonNotArray:"Le fichier JSON importé doit contenir un tableau, abandon."},pagination:{sizes:"éléments par page",totalItems:"éléments"},grouping:{group:"Grouper",ungroup:"Dégrouper",aggregate_count:"Agg: Compte",aggregate_sum:"Agg: Somme",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Moy",aggregate_remove:"Agg: Retirer"}});return b}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(b){b.add("he",{aggregate:{label:"items"},groupPanel:{description:"גרור עמודה לכאן ושחרר בכדי לקבץ עמודה זו."},search:{placeholder:"חפש...",showingItems:"מציג:",selectedItems:'סה"כ נבחרו:',totalItems:'סה"כ רשומות:',size:"תוצאות בדף:",first:"דף ראשון",next:"דף הבא",previous:"דף קודם",last:"דף אחרון"},menu:{text:"בחר עמודות:"},sort:{ascending:"סדר עולה",descending:"סדר יורד",remove:"בטל"},column:{hide:"טור הסתר"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}});return b}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(b){b.add("hy",{aggregate:{label:"տվյալներ"},groupPanel:{description:"Ըստ սյան խմբավորելու համար քաշեք և գցեք վերնագիրն այստեղ։"},search:{placeholder:"Փնտրում...",showingItems:"Ցուցադրված տվյալներ՝",selectedItems:"Ընտրված:",totalItems:"Ընդամենը՝",size:"Տողերի քանակը էջում՝",first:"Առաջին էջ",next:"Հաջորդ էջ",previous:"Նախորդ էջ",last:"Վերջին էջ"},menu:{text:"Ընտրել սյուները:"},sort:{ascending:"Աճման կարգով",descending:"Նվազման կարգով",remove:"Հանել "},column:{hide:"Թաքցնել սյունը"},aggregation:{count:"ընդամենը տող՝ ",sum:"ընդամենը՝ ",avg:"միջին՝ ",min:"մին՝ ",max:"մաքս՝ "},pinning:{pinLeft:"Կպցնել ձախ կողմում",pinRight:"Կպցնել աջ կողմում",unpin:"Արձակել"},gridMenu:{columns:"Սյուներ:",importerTitle:"Ներմուծել ֆայլ",exporterAllAsCsv:"Արտահանել ամբողջը CSV",exporterVisibleAsCsv:"Արտահանել երևացող տվյալները CSV",exporterSelectedAsCsv:"Արտահանել ընտրված տվյալները CSV",exporterAllAsPdf:"Արտահանել PDF",exporterVisibleAsPdf:"Արտահանել երևացող տվյալները PDF",exporterSelectedAsPdf:"Արտահանել ընտրված տվյալները PDF"},importer:{noHeaders:"Հնարավոր չեղավ որոշել սյան վերնագրերը։ Արդյո՞ք ֆայլը ունի վերնագրեր։",noObjects:"Հնարավոր չեղավ կարդալ տվյալները։ Արդյո՞ք ֆայլում կան տվյալներ։",invalidCsv:"Հնարավոր չեղավ մշակել ֆայլը։ Արդյո՞ք այն վավեր CSV է։",invalidJson:"Հնարավոր չեղավ մշակել ֆայլը։ Արդյո՞ք այն վավեր Json է։",jsonNotArray:"Ներմուծված json ֆայլը պետք է պարունակի զանգված, կասեցվում է։"}});return b}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(b){b.add("it",{aggregate:{label:"elementi"},groupPanel:{description:"Trascina un'intestazione all'interno del gruppo della colonna."},search:{placeholder:"Ricerca...",showingItems:"Mostra:",selectedItems:"Selezionati:",totalItems:"Totali:",size:"Tot Pagine:",first:"Prima",next:"Prossima",previous:"Precedente",last:"Ultima"},menu:{text:"Scegli le colonne:"},sort:{ascending:"Asc.",descending:"Desc.",remove:"Annulla ordinamento"},column:{hide:"Nascondi"},aggregation:{count:"righe totali: ",sum:"tot: ",avg:"media: ",min:"minimo: ",max:"massimo: "},pinning:{pinLeft:"Blocca a sx",pinRight:"Blocca a dx",unpin:"Blocca in alto"},gridMenu:{columns:"Colonne:",importerTitle:"Importa",exporterAllAsCsv:"Esporta tutti i dati in CSV",exporterVisibleAsCsv:"Esporta i dati visibili in CSV",exporterSelectedAsCsv:"Esporta i dati selezionati in CSV",exporterAllAsPdf:"Esporta tutti i dati in PDF",exporterVisibleAsPdf:"Esporta i dati visibili in PDF",exporterSelectedAsPdf:"Esporta i dati selezionati in PDF"},importer:{noHeaders:"Impossibile reperire i nomi delle colonne, sicuro che siano indicati all'interno del file?",noObjects:"Impossibile reperire gli oggetti, sicuro che siano indicati all'interno del file?",invalidCsv:"Impossibile elaborare il file, sicuro che sia un CSV?",invalidJson:"Impossibile elaborare il file, sicuro che sia un JSON valido?",jsonNotArray:"Errore! Il file JSON da importare deve contenere un array."},grouping:{group:"Raggruppa",ungroup:"Separa",aggregate_count:"Agg: N. Elem.",aggregate_sum:"Agg: Somma",aggregate_max:"Agg: Massimo",aggregate_min:"Agg: Minimo",aggregate_avg:"Agg: Media",aggregate_remove:"Agg: Rimuovi"}});return b}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(b){b.add("ja",{aggregate:{label:"項目"},groupPanel:{description:"ここに列ヘッダをドラッグアンドドロップして、その列でグループ化します。"},search:{placeholder:"検索...",showingItems:"表示中の項目:",selectedItems:"選択した項目:",totalItems:"項目の総数:",size:"ページサイズ:",first:"最初のページ",next:"次のページ",previous:"前のページ",last:"前のページ"},menu:{text:"列の選択:"},sort:{ascending:"昇順に並べ替え",descending:"降順に並べ替え",remove:"並べ替えの解除"},column:{hide:"列の非表示"},aggregation:{count:"合計行数: ",sum:"合計: ",avg:"平均: ",min:"最小: ",max:"最大: "},pinning:{pinLeft:"左に固定",pinRight:"右に固定",unpin:"固定解除"},gridMenu:{columns:"列:",importerTitle:"ファイルのインポート",exporterAllAsCsv:"すべてのデータをCSV形式でエクスポート",exporterVisibleAsCsv:"表示中のデータをCSV形式でエクスポート",exporterSelectedAsCsv:"選択したデータをCSV形式でエクスポート",exporterAllAsPdf:"すべてのデータをPDF形式でエクスポート",exporterVisibleAsPdf:"表示中のデータをPDF形式でエクスポート",exporterSelectedAsPdf:"選択したデータをPDF形式でエクスポート"},importer:{noHeaders:"列名を取得できません。ファイルにヘッダが含まれていることを確認してください。",noObjects:"オブジェクトを取得できません。ファイルにヘッダ以外のデータが含まれていることを確認してください。",invalidCsv:"ファイルを処理できません。ファイルが有効なCSV形式であることを確認してください。",invalidJson:"ファイルを処理できません。ファイルが有効なJSON形式であることを確認してください。",jsonNotArray:"インポートしたJSONファイルには配列が含まれている必要があります。処理を中止します。"},pagination:{sizes:"項目/ページ",totalItems:"項目"}});return b}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(b){b.add("ko",{aggregate:{label:"아이템"},groupPanel:{description:"컬럼으로 그룹핑하기 위해서는 컬럼 헤더를 끌어 떨어뜨려 주세요."},search:{placeholder:"검색...",showingItems:"항목 보여주기:",selectedItems:"선택 항목:",totalItems:"전체 항목:",size:"페이지 크기:",first:"첫번째 페이지",next:"다음 페이지",previous:"이전 페이지",last:"마지막 페이지"},menu:{text:"컬럼을 선택하세요:"},sort:{ascending:"오름차순 정렬",descending:"내림차순 정렬",remove:"소팅 제거"},column:{hide:"컬럼 제거"},aggregation:{count:"전체 갯수: ",sum:"전체: ",avg:"평균: ",min:"최소: ",max:"최대: "},pinning:{pinLeft:"왼쪽 핀",pinRight:"오른쪽 핀",unpin:"핀 제거"},gridMenu:{columns:"컬럼:",importerTitle:"파일 가져오기",exporterAllAsCsv:"csv로 모든 데이터 내보내기",exporterVisibleAsCsv:"csv로 보이는 데이터 내보내기",exporterSelectedAsCsv:"csv로 선택된 데이터 내보내기",exporterAllAsPdf:"pdf로 모든 데이터 내보내기",exporterVisibleAsPdf:"pdf로 보이는 데이터 내보내기",exporterSelectedAsPdf:"pdf로 선택 데이터 내보내기"},importer:{noHeaders:"컬럼명이 지정되어 있지 않습니다. 파일에 헤더가 명시되어 있는지 확인해 주세요.",noObjects:"데이터가 지정되어 있지 않습니다. 데이터가 파일에 있는지 확인해 주세요.",invalidCsv:"파일을 처리할 수 없습니다. 올바른 csv인지 확인해 주세요.",invalidJson:"파일을 처리할 수 없습니다. 올바른 json인지 확인해 주세요.",jsonNotArray:"json 파일은 배열을 포함해야 합니다."},pagination:{sizes:"페이지당 항목",totalItems:"전체 항목"}});return b}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(b){b.add("nl",{aggregate:{label:"items"},groupPanel:{description:"Sleep hier een kolomnaam heen om op te groeperen."},search:{placeholder:"Zoeken...",showingItems:"Getoonde items:",selectedItems:"Geselecteerde items:",totalItems:"Totaal aantal items:",size:"Items per pagina:",first:"Eerste pagina",next:"Volgende pagina",previous:"Vorige pagina",last:"Laatste pagina"},menu:{text:"Kies kolommen:"},sort:{ascending:"Sorteer oplopend",descending:"Sorteer aflopend",remove:"Verwijder sortering"},column:{hide:"Verberg kolom"},aggregation:{count:"Aantal rijen: ",sum:"Som: ",avg:"Gemiddelde: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Zet links vast",pinRight:"Zet rechts vast",unpin:"Maak los"},gridMenu:{columns:"Kolommen:",importerTitle:"Importeer bestand",exporterAllAsCsv:"Exporteer alle data als csv",exporterVisibleAsCsv:"Exporteer zichtbare data als csv",exporterSelectedAsCsv:"Exporteer geselecteerde data als csv",exporterAllAsPdf:"Exporteer alle data als pdf",exporterVisibleAsPdf:"Exporteer zichtbare data als pdf",exporterSelectedAsPdf:"Exporteer geselecteerde data als pdf"},importer:{noHeaders:"Kolomnamen kunnen niet worden afgeleid. Heeft het bestand een header?",noObjects:"Objecten kunnen niet worden afgeleid. Bevat het bestand data naast de headers?",invalidCsv:"Het bestand kan niet verwerkt worden. Is het een valide csv bestand?",invalidJson:"Het bestand kan niet verwerkt worden. Is het valide json?",jsonNotArray:"Het json bestand moet een array bevatten. De actie wordt geannuleerd."},pagination:{sizes:"items per pagina",totalItems:"items"},grouping:{group:"Groepeer",ungroup:"Groepering opheffen",aggregate_count:"Agg: Aantal",aggregate_sum:"Agg: Som",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Gem",aggregate_remove:"Agg: Verwijder"}});return b}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(b){b.add("pt-br",{aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Items Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Página:",first:"Primeira Página",next:"Próxima Página",previous:"Página Anterior",last:"Última Página"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",remove:"Remover Ordenação"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},gridMenu:{columns:"Colunas:",importerTitle:"Importar arquivo",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visíveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visíveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf"},importer:{noHeaders:"Nomes de colunas não puderam ser derivados. O arquivo tem um cabeçalho?",noObjects:"Objetos não puderam ser derivados. Havia dados no arquivo, além dos cabeçalhos?",invalidCsv:"Arquivo não pode ser processado. É um CSV válido?",invalidJson:"Arquivo não pode ser processado. É um Json válido?",jsonNotArray:"Arquivo json importado tem que conter um array. Abortando."},pagination:{sizes:"itens por página",totalItems:"itens"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"}});return b}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(b){b.add("pt",{aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Itens Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Página:",first:"Primeira Página",next:"Próxima Página",previous:"Página Anterior",last:"Última Página"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",remove:"Remover Ordenação"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},gridMenu:{columns:"Colunas:",importerTitle:"Importar ficheiro",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visíveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visíveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf"},importer:{noHeaders:"Nomes de colunas não puderam ser derivados. O ficheiro tem um cabeçalho?",noObjects:"Objetos não puderam ser derivados. Havia dados no ficheiro, além dos cabeçalhos?",invalidCsv:"Ficheiro não pode ser processado. É um CSV válido?",invalidJson:"Ficheiro não pode ser processado. É um Json válido?",jsonNotArray:"Ficheiro json importado tem que conter um array. Interrompendo."},pagination:{sizes:"itens por página",totalItems:"itens"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"}});return b}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(b){b.add("ru",{aggregate:{label:"элементы"},groupPanel:{description:"Для группировки по столбцу перетащите сюда его название."},search:{placeholder:"Поиск...",showingItems:"Показать элементы:",selectedItems:"Выбранные элементы:",totalItems:"Всего элементов:",size:"Размер страницы:",first:"Первая страница",next:"Следующая страница",previous:"Предыдущая страница",last:"Последняя страница"},menu:{text:"Выбрать столбцы:"},sort:{ascending:"По возрастанию",descending:"По убыванию",remove:"Убрать сортировку"},column:{hide:"спрятать столбец"},aggregation:{count:"всего строк: ",sum:"итого: ",avg:"среднее: ",min:"мин: ",max:"макс: "},gridMenu:{columns:"Столбцы:",importerTitle:"Import file",exporterAllAsCsv:"Экспортировать всё в CSV",exporterVisibleAsCsv:"Экспортировать видимые данные в CSV",exporterSelectedAsCsv:"Экспортировать выбранные данные в CSV",exporterAllAsPdf:"Экспортировать всё в PDF",exporterVisibleAsPdf:"Экспортировать видимые данные в PDF",exporterSelectedAsPdf:"Экспортировать выбранные данные в PDF"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}});return b}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(b){b.add("sk",{aggregate:{label:"items"},groupPanel:{description:"Pretiahni sem názov stĺpca pre zoskupenie podľa toho stĺpca."},search:{placeholder:"Hľadaj...",showingItems:"Zobrazujem položky:",selectedItems:"Vybraté položky:",totalItems:"Počet položiek:",size:"Počet:",first:"Prvá strana",next:"Ďalšia strana",previous:"Predchádzajúca strana",last:"Posledná strana"},menu:{text:"Vyberte stĺpce:"},sort:{ascending:"Zotriediť vzostupne",descending:"Zotriediť zostupne",remove:"Vymazať triedenie"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}});return b}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(b){b.add("sv",{aggregate:{label:"Artiklar"},groupPanel:{description:"Dra en kolumnrubrik hit och släpp den för att gruppera efter den kolumnen."},search:{placeholder:"Sök...",showingItems:"Visar artiklar:",selectedItems:"Valda artiklar:",totalItems:"Antal artiklar:",size:"Sidstorlek:",first:"Första sidan",next:"Nästa sida",previous:"Föregående sida",last:"Sista sidan"},menu:{text:"Välj kolumner:"},sort:{ascending:"Sortera stigande",descending:"Sortera fallande",remove:"Inaktivera sortering"},column:{hide:"Göm kolumn"},aggregation:{count:"Antal rader: ",sum:"Summa: ",avg:"Genomsnitt: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Fäst vänster",pinRight:"Fäst höger",unpin:"Lösgör"},gridMenu:{columns:"Kolumner:",importerTitle:"Importera fil",exporterAllAsCsv:"Exportera all data som CSV",exporterVisibleAsCsv:"Exportera synlig data som CSV",exporterSelectedAsCsv:"Exportera markerad data som CSV",exporterAllAsPdf:"Exportera all data som PDF",exporterVisibleAsPdf:"Exportera synlig data som PDF",exporterSelectedAsPdf:"Exportera markerad data som PDF"},importer:{noHeaders:"Kolumnnamn kunde inte härledas. Har filen ett sidhuvud?",noObjects:"Objekt kunde inte härledas. Har filen data undantaget sidhuvud?",invalidCsv:"Filen kunde inte behandlas, är den en giltig CSV?",invalidJson:"Filen kunde inte behandlas, är den en giltig JSON?",jsonNotArray:"Importerad JSON-fil måste innehålla ett fält. Import avbruten."},pagination:{sizes:"Artiklar per sida",totalItems:"Artiklar"}});return b}])}])})();(function(){var f=["uiT","uiTranslate"];var a=["t","uiTranslate"];var d=angular.module("ui.grid.i18n");d.constant("i18nConstants",{MISSING:"[MISSING]",UPDATE_EVENT:"$uiI18n",LOCALE_DIRECTIVE_ALIAS:"uiI18n",DEFAULT_LANG:"en"});d.service("i18nService",["$log","i18nConstants","$rootScope",function(j,i,h){var k={_langs:{},current:null,get:function(l){return this._langs[l.toLowerCase()]},add:function(n,l){var m=n.toLowerCase();if(!this._langs[m]){this._langs[m]={}}angular.extend(this._langs[m],l)},getAllLangs:function(){var m=[];if(!this._langs){return m}for(var l in this._langs){m.push(l)}return m},setCurrent:function(l){this.current=l.toLowerCase()},getCurrentLang:function(){return this.current}};var g={add:function(m,l){if(typeof(m)==="object"){angular.forEach(m,function(n){if(n){k.add(n,l)}})}else{k.add(m,l)}},getAllLangs:function(){return k.getAllLangs()},get:function(l){var m=l?l:g.getCurrentLang();return k.get(m)},getSafeText:function(o,q){var r=q?q:g.getCurrentLang();var m=k.get(r);if(!m){return i.MISSING}var p=o.split(".");var n=m;for(var l=0;l<p.length;++l){if(n[p[l]]===undefined||n[p[l]]===null){return i.MISSING}else{n=n[p[l]]}}return n},setCurrentLang:function(l){if(l){k.setCurrent(l);h.$broadcast(i.UPDATE_EVENT)}},getCurrentLang:function(){var l=k.getCurrentLang();if(!l){l=i.DEFAULT_LANG;k.setCurrent(l)}return l}};return g}]);var e=function(g,h){return{compile:function(){return{pre:function(k,j,i){var l=h.LOCALE_DIRECTIVE_ALIAS;var m=k.$eval(i[l]);if(m){k.$watch(i[l],function(){g.setCurrentLang(m)})}else{if(i.$$observers){i.$observe(l,function(){g.setCurrentLang(i[l]||h.DEFAULT_LANG)})}}}}}}};d.directive("uiI18n",["i18nService","i18nConstants",e]);var b=function(i,g,h){return{restrict:"EA",compile:function(){return{pre:function(s,l,q){var t=f[0],r=f[1];var m=q[t]||q[r]||l.html();var n=h.MISSING+m;var o;if(q.$$observers){var j=q[t]?t:r;o=q.$observe(j,function(u){if(u){l.html(i(u)(g.getCurrentLang())||n)}})}var p=i(m);var k=s.$on(h.UPDATE_EVENT,function(u){if(o){o(q[t]||q[r])}else{l.html(p(g.get())||n)}});s.$on("$destroy",k);l.html(p(g.get())||n)}}}}};angular.forEach(f,function(g){d.directive(g,["$parse","i18nService","i18nConstants",b])});var c=function(i,g,h){return function(k){var j=i(k);return j(g.get())||h.MISSING+k}};angular.forEach(a,function(g){d.filter(g,["$parse","i18nService","i18nConstants",c])})})();(function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(b){b.add("zh-cn",{aggregate:{label:"行"},groupPanel:{description:"拖曳表头到此处进行分组"},search:{placeholder:"查找",showingItems:"已显示行数：",selectedItems:"已选择行数：",totalItems:"总行数：",size:"每页显示行数：",first:"首页",next:"下一页",previous:"上一页",last:"末页"},menu:{text:"选择列："},sort:{ascending:"升序",descending:"降序",remove:"取消排序"},column:{hide:"隐藏列"},aggregation:{count:"计数：",sum:"求和：",avg:"均值：",min:"最小值：",max:"最大值："},pinning:{pinLeft:"左侧固定",pinRight:"右侧固定",unpin:"取消固定"},gridMenu:{columns:"列：",importerTitle:"导入文件",exporterAllAsCsv:"导出全部数据到CSV",exporterVisibleAsCsv:"导出可见数据到CSV",exporterSelectedAsCsv:"导出已选数据到CSV",exporterAllAsPdf:"导出全部数据到PDF",exporterVisibleAsPdf:"导出可见数据到PDF",exporterSelectedAsPdf:"导出已选数据到PDF"},importer:{noHeaders:"无法获取列名，确定文件包含表头？",noObjects:"无法获取数据，确定文件包含数据？",invalidCsv:"无法处理文件，确定是合法的CSV文件？",invalidJson:"无法处理文件，确定是合法的JSON文件？",jsonNotArray:"导入的文件不是JSON数组！"},pagination:{sizes:"行每页",totalItems:"行"}});return b}])}])})();(function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(b){b.add("zh-tw",{aggregate:{label:"行"},groupPanel:{description:"拖曳表頭到此處進行分組"},search:{placeholder:"查找",showingItems:"已顯示行數：",selectedItems:"已選擇行數：",totalItems:"總行數：",size:"每頁顯示行數：",first:"首頁",next:"下壹頁",previous:"上壹頁",last:"末頁"},menu:{text:"選擇列："},sort:{ascending:"升序",descending:"降序",remove:"取消排序"},column:{hide:"隱藏列"},aggregation:{count:"計數：",sum:"求和：",avg:"均值：",min:"最小值：",max:"最大值："},pinning:{pinLeft:"左側固定",pinRight:"右側固定",unpin:"取消固定"},gridMenu:{columns:"列：",importerTitle:"導入文件",exporterAllAsCsv:"導出全部數據到CSV",exporterVisibleAsCsv:"導出可見數據到CSV",exporterSelectedAsCsv:"導出已選數據到CSV",exporterAllAsPdf:"導出全部數據到PDF",exporterVisibleAsPdf:"導出可見數據到PDF",exporterSelectedAsPdf:"導出已選數據到PDF"},importer:{noHeaders:"無法獲取列名，確定文件包含表頭？",noObjects:"無法獲取數據，確定文件包含數據？",invalidCsv:"無法處理文件，確定是合法的CSV文件？",invalidJson:"無法處理文件，確定是合法的JSON文件？",jsonNotArray:"導入的文件不是JSON數組！"},pagination:{sizes:"行每頁",totalItems:"行"}});return b}])}])})();(function(){var a=angular.module("ui.grid.autoResize",["ui.grid"]);a.directive("uiGridAutoResize",["$timeout","gridUtil",function(b,c){return{require:"uiGrid",scope:false,link:function(l,f,j,h){var e,i;function g(){i=c.elementHeight(f);e=c.elementWidth(f)}g();var k;function d(){clearTimeout(k);k=setTimeout(function(){var m=c.elementHeight(f);var n=c.elementWidth(f);if(m!==i||n!==e){h.grid.gridHeight=m;h.grid.gridWidth=n;l.$apply(function(){h.grid.refresh().then(function(){g();d()})})}else{d()}},250)}d();l.$on("$destroy",function(){clearTimeout(k)})}}}])})();(function(){var a=angular.module("ui.grid.cellNav",["ui.grid"]);function b(d,c){this.row=d;this.col=c}a.constant("uiGridCellNavConstants",{FEATURE_NAME:"gridCellNav",CELL_NAV_EVENT:"cellNav",direction:{LEFT:0,RIGHT:1,UP:2,DOWN:3,PG_UP:4,PG_DOWN:5},EVENT_TYPE:{KEYDOWN:0,CLICK:1,CLEAR:2}});a.factory("uiGridCellNavFactory",["gridUtil","uiGridConstants","uiGridCellNavConstants","$q",function(g,c,e,d){var f=function f(h,j,k,i){this.rows=h.visibleRowCache;this.columns=j.visibleColumnCache;this.leftColumns=k?k.visibleColumnCache:[];this.rightColumns=i?i.visibleColumnCache:[];this.bodyContainer=h};f.prototype.getFocusableCols=function(){var h=this.leftColumns.concat(this.columns,this.rightColumns);return h.filter(function(i){return i.colDef.allowCellFocus})};f.prototype.getFocusableRows=function(){return this.rows.filter(function(h){return h.allowCellFocus!==false})};f.prototype.getNextRowCol=function(i,h,j){switch(i){case e.direction.LEFT:return this.getRowColLeft(h,j);case e.direction.RIGHT:return this.getRowColRight(h,j);case e.direction.UP:return this.getRowColUp(h,j);case e.direction.DOWN:return this.getRowColDown(h,j);case e.direction.PG_UP:return this.getRowColPageUp(h,j);case e.direction.PG_DOWN:return this.getRowColPageDown(h,j)}};f.prototype.initializeSelection=function(){var j=this.getFocusableCols();var i=this.getFocusableRows();if(j.length===0||i.length===0){return null}var k=0;var h=0;return new b(i[0],j[0])};f.prototype.getRowColLeft=function(k,m){var j=this.getFocusableCols();var i=this.getFocusableRows();var h=j.indexOf(m);var l=i.indexOf(k);if(h===-1){h=1}var n=h===0?j.length-1:h-1;if(n>h){if(l===0){return new b(k,j[n])}else{return new b(i[l-1],j[n])}}else{return new b(k,j[n])}};f.prototype.getRowColRight=function(k,m){var j=this.getFocusableCols();var i=this.getFocusableRows();var h=j.indexOf(m);var l=i.indexOf(k);if(h===-1){h=0}var n=h===j.length-1?0:h+1;if(n<h){if(l===i.length-1){return new b(k,j[n])}else{return new b(i[l+1],j[n])}}else{return new b(k,j[n])}};f.prototype.getRowColDown=function(k,m){var j=this.getFocusableCols();var i=this.getFocusableRows();var h=j.indexOf(m);var l=i.indexOf(k);if(h===-1){h=0}if(l===i.length-1){return new b(k,j[h])}else{return new b(i[l+1],j[h])}};f.prototype.getRowColPageDown=function(l,n){var k=this.getFocusableCols();var j=this.getFocusableRows();var h=k.indexOf(n);var m=j.indexOf(l);if(h===-1){h=0}var i=this.bodyContainer.minRowsToRender();if(m>=j.length-i){return new b(j[j.length-1],k[h])}else{return new b(j[m+i],k[h])}};f.prototype.getRowColUp=function(k,m){var j=this.getFocusableCols();var i=this.getFocusableRows();var h=j.indexOf(m);var l=i.indexOf(k);if(h===-1){h=0}if(l===0){return new b(k,j[h])}else{return new b(i[l-1],j[h])}};f.prototype.getRowColPageUp=function(l,n){var k=this.getFocusableCols();var j=this.getFocusableRows();var h=k.indexOf(n);var m=j.indexOf(l);if(h===-1){h=0}var i=this.bodyContainer.minRowsToRender();if(m-i<0){return new b(j[0],k[h])}else{return new b(j[m-i],k[h])}};return f}]);a.service("uiGridCellNavService",["gridUtil","uiGridConstants","uiGridCellNavConstants","$q","uiGridCellNavFactory","ScrollEvent",function(i,d,f,e,g,h){var c={initializeGrid:function(j){j.registerColumnBuilder(c.cellNavColumnBuilder);j.cellNav={};j.cellNav.lastRowCol=null;j.cellNav.focusedCells=[];c.defaultGridOptions(j.options);var k={events:{cellNav:{navigate:function(m,l){},viewPortKeyDown:function(l,m){}}},methods:{cellNav:{scrollToFocus:function(m,l){return c.scrollToFocus(j,m,l)},getFocusedCell:function(){return j.cellNav.lastRowCol},getCurrentSelection:function(){return j.cellNav.focusedCells},rowColSelectIndex:function(n){var l=-1;for(var m=0;m<j.cellNav.focusedCells.length;m++){if(j.cellNav.focusedCells[m].col.uid===n.col.uid&&j.cellNav.focusedCells[m].row.uid===n.row.uid){l=m;break}}return l}}}};j.api.registerEventsFromObject(k.events);j.api.registerMethodsFromObject(k.methods)},defaultGridOptions:function(j){j.modifierKeysToMultiSelectCells=j.modifierKeysToMultiSelectCells===true},decorateRenderContainers:function(k){var j=k.hasRightContainer()?k.renderContainers.right:null;var l=k.hasLeftContainer()?k.renderContainers.left:null;if(l!==null){k.renderContainers.left.cellNav=new g(k.renderContainers.body,l,j,k.renderContainers.body)}if(j!==null){k.renderContainers.right.cellNav=new g(k.renderContainers.body,j,k.renderContainers.body,l)}k.renderContainers.body.cellNav=new g(k.renderContainers.body,k.renderContainers.body,l,j)},getDirection:function(j){if(j.keyCode===d.keymap.LEFT||(j.keyCode===d.keymap.TAB&&j.shiftKey)){return f.direction.LEFT}if(j.keyCode===d.keymap.RIGHT||j.keyCode===d.keymap.TAB){return f.direction.RIGHT}if(j.keyCode===d.keymap.UP||(j.keyCode===d.keymap.ENTER&&j.shiftKey)){return f.direction.UP}if(j.keyCode===d.keymap.PG_UP){return f.direction.PG_UP}if(j.keyCode===d.keymap.DOWN||j.keyCode===d.keymap.ENTER){return f.direction.DOWN}if(j.keyCode===d.keymap.PG_DOWN){return f.direction.PG_DOWN}return null},cellNavColumnBuilder:function(l,j,m){var k=[];l.allowCellFocus=l.allowCellFocus===undefined?true:l.allowCellFocus;return e.all(k)},scrollToFocus:function(k,m,l){var n=null,j=null;if(typeof(m)!=="undefined"&&m!==null){n=k.getRow(m)}if(typeof(l)!=="undefined"&&l!==null){j=k.getColumn(l.name?l.name:l.field)}return k.api.core.scrollToIfNecessary(n,j).then(function(){var o={row:n,col:j};if(n!==null&&j!==null){k.cellNav.broadcastCellNav(o)}})},getLeftWidth:function(k,m){var l=0;if(!m){return l}var n=k.renderContainers.body.visibleColumnCache.indexOf(m);k.renderContainers.body.visibleColumnCache.forEach(function(p,o){if(o<n){l+=p.drawnWidth}});var j=n===0?0:(n+1)/k.renderContainers.body.visibleColumnCache.length;l+=m.drawnWidth*j;return l}};return c}]);a.directive("uiGridCellnav",["gridUtil","uiGridCellNavService","uiGridCellNavConstants","uiGridConstants","$timeout",function(g,d,e,c,f){return{replace:true,priority:-150,require:"^uiGrid",scope:false,controller:function(){},compile:function(){return{pre:function(k,j,i,m){var h=k;var l=m.grid;d.initializeGrid(l);m.cellNav={};m.cellNav.getActiveCell=function(){var n=j[0].getElementsByClassName("ui-grid-cell-focus");if(n.length>0){return n[0]}return undefined};m.cellNav.broadcastCellNav=l.cellNav.broadcastCellNav=function(o,n){n=!(n===undefined||!n);m.cellNav.broadcastFocus(o,n);h.$broadcast(e.CELL_NAV_EVENT,o,n)};m.cellNav.clearFocus=l.cellNav.clearFocus=function(){h.$broadcast(e.CELL_NAV_EVENT,{eventType:e.EVENT_TYPE.CLEAR})};m.cellNav.broadcastFocus=function(r,p){p=!(p===undefined||!p);var q=r.row,o=r.col;var n=m.grid.api.cellNav.rowColSelectIndex(r);if(l.cellNav.lastRowCol===null||n===-1){var s=new b(q,o);l.api.cellNav.raise.navigate(s,l.cellNav.lastRowCol);l.cellNav.lastRowCol=s;if(m.grid.options.modifierKeysToMultiSelectCells&&p){l.cellNav.focusedCells.push(r)}else{l.cellNav.focusedCells=[r]}}else{if(l.options.modifierKeysToMultiSelectCells&&p&&n>=0){l.cellNav.focusedCells.splice(n,1)}}};m.cellNav.handleKeyDown=function(p){var s=d.getDirection(p);if(s===null){return null}var o="body";if(p.uiGridTargetRenderContainerId){o=p.uiGridTargetRenderContainerId}var r=m.grid.api.cellNav.getFocusedCell();if(r){var t=m.grid.renderContainers[o].cellNav.getNextRowCol(s,r.row,r.col);var q=m.grid.renderContainers[o].cellNav.getFocusableCols();var n=m.grid.api.cellNav.rowColSelectIndex(t);if(s===e.direction.LEFT&&t.col===q[q.length-1]&&t.row===r.row&&p.keyCode===c.keymap.TAB&&p.shiftKey){l.cellNav.focusedCells.splice(n,1);m.cellNav.clearFocus();return true}else{if(s===e.direction.RIGHT&&t.col===q[0]&&t.row===r.row&&p.keyCode===c.keymap.TAB&&!p.shiftKey){l.cellNav.focusedCells.splice(n,1);m.cellNav.clearFocus();return true}}l.scrollToIfNecessary(t.row,t.col).then(function(){m.cellNav.broadcastCellNav(t)});p.stopPropagation();p.preventDefault();return false}}},post:function(j,i,h,k){}}}}}]);a.directive("uiGridRenderContainer",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","$compile","uiGridCellNavConstants",function(g,i,h,c,d,f,e){return{replace:true,priority:-99999,require:["^uiGrid","uiGridRenderContainer","?^uiGridCellnav"],scope:false,compile:function(){return{post:function(r,n,q,m){var p=m[0],l=m[1];if(!p.grid.api.cellNav){return}var o=l.containerId;var j=p.grid;if(o!=="body"){return}d.decorateRenderContainers(j);var k=f('<div class="ui-grid-focuser" tabindex="0"></div>')(r);n.append(k);p.focus=function(){k[0].focus();k.on("focus",function(s){s.uiGridTargetRenderContainerId=o;var t=p.grid.api.cellNav.getFocusedCell();if(t===null){t=p.grid.renderContainers[o].cellNav.getNextRowCol(e.direction.DOWN,null,null);if(t.row&&t.col){p.cellNav.broadcastCellNav(t)}}})};k.on("keydown",function(t){t.uiGridTargetRenderContainerId=o;var u=p.grid.api.cellNav.getFocusedCell();var s=p.cellNav.handleKeyDown(t);if(s===null){p.grid.api.cellNav.raise.viewPortKeyDown(t,u)}})}}}}}]);a.directive("uiGridViewport",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","uiGridCellNavConstants","$log","$compile",function(g,j,i,c,d,e,h,f){return{replace:true,priority:-99999,require:["^uiGrid","^uiGridRenderContainer","?^uiGridCellnav"],scope:false,compile:function(){return{pre:function(m,l,k,n){},post:function(o,n,l,r){var q=r[0],k=r[1];if(!q.grid.api.cellNav){return}var m=k.containerId;if(m!=="body"){return}var p=q.grid;q.focus();p.api.core.on.scrollBegin(o,function(s){var t=q.grid.api.cellNav.getFocusedCell();if(t==null){return}if(!k.colContainer.containsColumn(t.col)){return}var u=n[0].getElementsByClassName("ui-grid-cell-focus");Array.prototype.forEach.call(u,function(v){angular.element(v).removeClass("ui-grid-cell-focus")})});p.api.core.on.scrollEnd(o,function(s){var t=q.grid.api.cellNav.getFocusedCell();if(t==null){return}if(!k.colContainer.containsColumn(t.col)){return}q.cellNav.broadcastCellNav(t)});p.api.cellNav.on.navigate(o,function(){q.focus()})}}}}}]);a.directive("uiGridCell",["$timeout","$document","uiGridCellNavService","gridUtil","uiGridCellNavConstants","uiGridConstants",function(f,h,d,g,e,c){return{priority:-150,restrict:"A",require:"^uiGrid",scope:false,link:function(k,j,i,m){if(!m.grid.api.cellNav){return}if(!k.col.colDef.allowCellFocus){return}j.find("div").on("click",function(o){m.cellNav.broadcastCellNav(new b(k.row,k.col),o.ctrlKey||o.metaKey);o.stopPropagation();k.$apply()});j.find("div").on("focus",function(o){m.cellNav.broadcastCellNav(new b(k.row,k.col),o.ctrlKey||o.metaKey)});k.$on(e.CELL_NAV_EVENT,function(o,q,p){if(o.eventType===e.EVENT_TYPE.CLEAR){l();return}if(q.row===k.row&&q.col===k.col){if(m.grid.options.modifierKeysToMultiSelectCells&&p&&m.grid.api.cellNav.rowColSelectIndex(q)===-1){l()}else{n()}}else{if(!(m.grid.options.modifierKeysToMultiSelectCells&&p)){l()}}});function n(){var o=j.find("div");o.addClass("ui-grid-cell-focus")}function l(){var o=j.find("div");o.removeClass("ui-grid-cell-focus")}k.$on("$destroy",function(){j.find("div").off("click")})}}}])})();(function(){var a=angular.module("ui.grid.edit",["ui.grid"]);a.constant("uiGridEditConstants",{EDITABLE_CELL_TEMPLATE:/EDITABLE_CELL_TEMPLATE/g,EDITABLE_CELL_DIRECTIVE:/editable_cell_directive/g,events:{BEGIN_CELL_EDIT:"uiGridEventBeginCellEdit",END_CELL_EDIT:"uiGridEventEndCellEdit",CANCEL_CELL_EDIT:"uiGridEventCancelCellEdit"}});a.service("uiGridEditService",["$q","uiGridConstants","gridUtil",function(d,c,e){var b={initializeGrid:function(f){b.defaultGridOptions(f.options);f.registerColumnBuilder(b.editColumnBuilder);f.edit={};var g={events:{edit:{afterCellEdit:function(k,i,j,h){},beginCellEdit:function(j,h,i){},cancelCellEdit:function(i,h){}}},methods:{edit:{}}};f.api.registerEventsFromObject(g.events)},defaultGridOptions:function(f){f.cellEditableCondition=f.cellEditableCondition===undefined?true:f.cellEditableCondition;f.enableCellEditOnFocus=f.enableCellEditOnFocus===undefined?false:f.enableCellEditOnFocus},editColumnBuilder:function(h,f,i){var g=[];h.enableCellEdit=h.enableCellEdit===undefined?(i.enableCellEdit===undefined?(h.type!=="object"):i.enableCellEdit):h.enableCellEdit;h.cellEditableCondition=h.cellEditableCondition===undefined?i.cellEditableCondition:h.cellEditableCondition;if(h.enableCellEdit){h.editableCellTemplate=h.editableCellTemplate||i.editableCellTemplate||"ui-grid/cellEditor";g.push(e.getTemplate(h.editableCellTemplate).then(function(j){f.editableCellTemplate=j},function(j){throw new Error("Couldn't fetch/use colDef.editableCellTemplate '"+h.editableCellTemplate+"'")}))}h.enableCellEditOnFocus=h.enableCellEditOnFocus===undefined?i.enableCellEditOnFocus:h.enableCellEditOnFocus;return d.all(g)},isStartEditKey:function(f){if(f.metaKey||f.keyCode===c.keymap.ESC||f.keyCode===c.keymap.SHIFT||f.keyCode===c.keymap.CTRL||f.keyCode===c.keymap.ALT||f.keyCode===c.keymap.WIN||f.keyCode===c.keymap.CAPSLOCK||f.keyCode===c.keymap.LEFT||(f.keyCode===c.keymap.TAB&&f.shiftKey)||f.keyCode===c.keymap.RIGHT||f.keyCode===c.keymap.TAB||f.keyCode===c.keymap.UP||(f.keyCode===c.keymap.ENTER&&f.shiftKey)||f.keyCode===c.keymap.DOWN||f.keyCode===c.keymap.ENTER){return false}return true}};return b}]);a.directive("uiGridEdit",["gridUtil","uiGridEditService",function(c,b){return{replace:true,priority:0,require:"^uiGrid",scope:false,compile:function(){return{pre:function(f,e,d,g){b.initializeGrid(g.grid)},post:function(f,e,d,g){}}}}}]);a.directive("uiGridViewport",["uiGridEditConstants",function(b){return{replace:true,priority:-99998,require:["^uiGrid","^uiGridRenderContainer"],scope:false,compile:function(){return{post:function(f,e,c,h){var g=h[0];if(!g.grid.api.edit||!g.grid.api.cellNav){return}var d=h[1].containerId;if(d!=="body"){return}f.$on(b.events.CANCEL_CELL_EDIT,function(){g.focus()});f.$on(b.events.END_CELL_EDIT,function(){g.focus()})}}}}}]);a.directive("uiGridCell",["$compile","$injector","$timeout","uiGridConstants","uiGridEditConstants","gridUtil","$parse","uiGridEditService","$rootScope",function(e,j,c,g,f,i,d,l,h){var k=500;if(j.has("uiGridCellNavService")){var b=j.get("uiGridCellNavService")}return{priority:-100,restrict:"A",scope:false,require:"?^uiGrid",link:function(D,E,t,C){var x;var I;var B=false;var v;var y;var n;if(!D.col.colDef.enableCellEdit){return}var r=function(){};if(C&&C.grid.api.cellNav){C.grid.api.cellNav.on.viewPortKeyDown(D,function(J,K){if(K===null){return}if(K.row===D.row&&K.col===D.col&&!D.col.colDef.enableCellEditOnFocus){H(J);C.grid.api.core.scrollToIfNecessary(K.row,K.col)}})}var G=function(){if(D.col.colDef.enableCellEdit&&D.row.enableCellEdit!==false){w()}else{p()}};G();var F=D.$watch("row",G);D.$on("$destroy",F);function w(){E.on("dblclick",m);E.on("touchstart",o);if(C&&C.grid.api.cellNav){r=C.grid.api.cellNav.on.navigate(D,function(K,J){if(D.col.colDef.enableCellEditOnFocus){if(K.row===D.row&&K.col===D.col){c(function(){m()})}}})}}function o(J){if(typeof(J.originalEvent)!=="undefined"&&J.originalEvent!==undefined){J=J.originalEvent}E.on("touchend",s);y=c(function(){},k);y.then(function(){setTimeout(m,0);E.off("touchend",s)})}function s(J){c.cancel(y);E.off("touchend",s)}function p(){E.off("dblclick",m);E.off("keydown",H);E.off("touchstart",o);r()}function H(J){if(l.isStartEditKey(J)){m(J)}}function u(J,K){return !K.isSaving&&(angular.isFunction(J.colDef.cellEditableCondition)?J.colDef.cellEditableCondition(D):J.colDef.cellEditableCondition)}function m(P){if(B){return}if(!u(D.col,D.row)){return}v=d(D.row.getQualifiedColField(D.col));I=v(D);x=D.col.editableCellTemplate;if(D.col.colDef.editModelField){x=x.replace(g.MODEL_COL_FIELD,i.preEval("row.entity."+D.col.colDef.editModelField))}else{x=x.replace(g.MODEL_COL_FIELD,D.row.getQualifiedColField(D.col))}x=x.replace(g.COL_FIELD,"grid.getCellValue(row, col)");var J=D.col.colDef.editDropdownFilter?"|"+D.col.colDef.editDropdownFilter:"";x=x.replace(g.CUSTOM_FILTERS,J);var L="text";switch(D.col.colDef.type){case"boolean":L="checkbox";break;case"number":L="number";break;case"date":L="date";break}x=x.replace("INPUT_TYPE",L);var K=D.col.colDef.editDropdownRowEntityOptionsArrayPath;if(K){D.editDropdownOptionsArray=q(D.row.entity,K)}else{D.editDropdownOptionsArray=D.col.colDef.editDropdownOptionsArray}D.editDropdownIdLabel=D.col.colDef.editDropdownIdLabel?D.col.colDef.editDropdownIdLabel:"id";D.editDropdownValueLabel=D.col.colDef.editDropdownValueLabel?D.col.colDef.editDropdownValueLabel:"value";var Q;var R=function(){B=true;p();var S=angular.element(x);E.append(S);n=D.$new();e(S)(n);var T=angular.element(E.children()[0]);T.addClass("ui-grid-cell-contents-hidden")};if(!h.$$phase){D.$apply(R)}else{R()}var M=D.col.grid.api.core.on.scrollBegin(D,function(){z(true);D.grid.api.edit.raise.afterCellEdit(D.row.entity,D.col.colDef,v(D),I);M();O();N()});var O=D.$on(f.events.END_CELL_EDIT,function(S,T){z(T);D.grid.api.edit.raise.afterCellEdit(D.row.entity,D.col.colDef,v(D),I);O();M();N()});var N=D.$on(f.events.CANCEL_CELL_EDIT,function(){A();N();M();O()});D.$broadcast(f.events.BEGIN_CELL_EDIT,P);D.grid.api.edit.raise.beginCellEdit(D.row.entity,D.col.colDef,P)}function z(J){D.grid.disableScrolling=false;if(!B){return}var K=angular.element(E.children()[0]);n.$destroy();angular.element(E.children()[1]).remove();K.removeClass("ui-grid-cell-contents-hidden");B=false;w();D.grid.api.core.notifyDataChange(g.dataChange.EDIT)}function A(){D.grid.disableScrolling=false;if(!B){return}v.assign(D,I);D.$apply();D.grid.api.edit.raise.cancelCellEdit(D.row.entity,D.col.colDef);z(true)}function q(K,L){L=L.replace(/\[(\w+)\]/g,".$1");L=L.replace(/^\./,"");var J=L.split(".");while(J.length){var M=J.shift();if(M in K){K=K[M]}else{return}}return K}}}}]);a.directive("uiGridEditor",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout",function(e,b,d,c){return{scope:true,require:["?^uiGrid","?^uiGridRenderContainer"],compile:function(){return{pre:function(h,g,f){},post:function(i,h,g,k){var j,f;if(k[0]){j=k[0]}if(k[1]){f=k[1]}i.$on(d.events.BEGIN_CELL_EDIT,function(){h[0].focus();h[0].select();h.on("blur",function(l){i.stopEdit(l)})});i.deepEdit=false;i.stopEdit=function(l){if(i.inputForm&&!i.inputForm.$valid){l.stopPropagation();i.$emit(d.events.CANCEL_CELL_EDIT)}else{i.$emit(d.events.END_CELL_EDIT)}i.deepEdit=false};h.on("click",function(l){if(h[0].type!=="checkbox"){i.deepEdit=true;c(function(){i.grid.disableScrolling=true})}});h.on("keydown",function(l){switch(l.keyCode){case b.keymap.ESC:l.stopPropagation();i.$emit(d.events.CANCEL_CELL_EDIT);break}if(i.deepEdit&&(l.keyCode===b.keymap.LEFT||l.keyCode===b.keymap.RIGHT||l.keyCode===b.keymap.UP||l.keyCode===b.keymap.DOWN)){l.stopPropagation()}else{if(j&&j.grid.api.cellNav){l.uiGridTargetRenderContainerId=f.containerId;if(j.cellNav.handleKeyDown(l)!==null){i.stopEdit(l)}}else{switch(l.keyCode){case b.keymap.ENTER:case b.keymap.TAB:l.stopPropagation();l.preventDefault();i.stopEdit(l);break}}}return true})}}}}}]);a.directive("uiGridEditor",["$filter",function(c){function b(f){if(typeof(f)==="undefined"||f===""){return null}var h=f.split("-");if(h.length!==3){return null}var e=parseInt(h[0],10);var g=parseInt(h[1],10);var d=parseInt(h[2],10);if(g<1||e<1||d<1){return null}return new Date(e,(g-1),d)}return{priority:-100,require:"?ngModel",link:function(f,e,d,g){if(angular.version.minor===2&&d.type&&d.type==="date"&&g){g.$formatters.push(function(h){g.$setValidity(null,(!h||!isNaN(h.getTime())));return c("date")(h,"yyyy-MM-dd")});g.$parsers.push(function(i){if(i&&i.length>0){var h=b(i);g.$setValidity(null,(h&&!isNaN(h.getTime())));return h}else{g.$setValidity(null,true);return null}})}}}}]);a.directive("uiGridEditDropdown",["uiGridConstants","uiGridEditConstants",function(b,c){return{require:["?^uiGrid","?^uiGridRenderContainer"],scope:true,compile:function(){return{pre:function(f,e,d){},post:function(g,f,e,i){var h=i[0];var d=i[1];g.$on(c.events.BEGIN_CELL_EDIT,function(){f[0].focus();f[0].style.width=(f[0].parentElement.offsetWidth-1)+"px";f.on("blur",function(j){g.stopEdit(j)})});g.stopEdit=function(j){g.$emit(c.events.END_CELL_EDIT)};f.on("keydown",function(j){switch(j.keyCode){case b.keymap.ESC:j.stopPropagation();g.$emit(c.events.CANCEL_CELL_EDIT);break}if(h&&h.grid.api.cellNav){j.uiGridTargetRenderContainerId=d.containerId;if(h.cellNav.handleKeyDown(j)!==null){g.stopEdit(j)}}else{switch(j.keyCode){case b.keymap.ENTER:case b.keymap.TAB:j.stopPropagation();j.preventDefault();g.stopEdit(j);break}}return true})}}}}}]);a.directive("uiGridEditFileChooser",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout",function(e,b,d,c){return{scope:true,require:["?^uiGrid","?^uiGridRenderContainer"],compile:function(){return{pre:function(h,g,f){},post:function(i,h,g,m){var l,f;if(m[0]){l=m[0]}if(m[1]){f=m[1]}var j=l.grid;var k=function(n){var o=n.srcElement||n.target;if(o&&o.files&&o.files.length>0){if(typeof(i.col.colDef.editFileChooserCallback)==="function"){i.col.colDef.editFileChooserCallback(i.row,i.col,o.files)}else{e.logError("You need to set colDef.editFileChooserCallback to use the file chooser")}o.form.reset();i.$emit(d.events.END_CELL_EDIT)}else{i.$emit(d.events.CANCEL_CELL_EDIT)}};h[0].addEventListener("change",k,false);i.$on(d.events.BEGIN_CELL_EDIT,function(){h[0].focus();h[0].select();h.on("blur",function(n){i.$emit(d.events.END_CELL_EDIT)})})}}}}}])})();(function(){var a=angular.module("ui.grid.expandable",["ui.grid"]);a.service("uiGridExpandableService",["gridUtil","$compile",function(d,c){var b={initializeGrid:function(e){e.expandable={};e.expandable.expandedAll=false;e.options.enableExpandable=e.options.enableExpandable!==false;e.options.expandableRowHeight=e.options.expandableRowHeight||150;e.options.expandableRowHeaderWidth=e.options.expandableRowHeaderWidth||40;if(e.options.enableExpandable&&!e.options.expandableRowTemplate){d.logError("You have not set the expandableRowTemplate, disabling expandable module");e.options.enableExpandable=false}var f={events:{expandable:{rowExpandedStateChanged:function(g,h){}}},methods:{expandable:{toggleRowExpansion:function(g){var h=e.getRow(g);if(h!==null){b.toggleRowExpansion(e,h)}},expandAllRows:function(){b.expandAllRows(e)},collapseAllRows:function(){b.collapseAllRows(e)},toggleAllRows:function(){b.toggleAllRows(e)}}}};e.api.registerEventsFromObject(f.events);e.api.registerMethodsFromObject(f.methods)},toggleRowExpansion:function(e,f){f.isExpanded=!f.isExpanded;if(f.isExpanded){f.height=f.grid.options.rowHeight+e.options.expandableRowHeight}else{f.height=f.grid.options.rowHeight;e.expandable.expandedAll=false}e.api.expandable.raise.rowExpandedStateChanged(f)},expandAllRows:function(f,e){f.renderContainers.body.visibleRowCache.forEach(function(g){if(!g.isExpanded){b.toggleRowExpansion(f,g)}});f.expandable.expandedAll=true;f.queueGridRefresh()},collapseAllRows:function(e){e.renderContainers.body.visibleRowCache.forEach(function(f){if(f.isExpanded){b.toggleRowExpansion(e,f)}});e.expandable.expandedAll=false;e.queueGridRefresh()},toggleAllRows:function(e){if(e.expandable.expandedAll){b.collapseAllRows(e)}else{b.expandAllRows(e)}}};return b}]);a.directive("uiGridExpandable",["uiGridExpandableService","$templateCache",function(c,b){return{replace:true,priority:0,require:"^uiGrid",scope:false,compile:function(){return{pre:function(f,e,d,g){if(g.grid.options.enableExpandableRowHeader!==false){var h={name:"expandableButtons",displayName:"",exporterSuppressExport:true,enableColumnResizing:false,enableColumnMenu:false,width:g.grid.options.expandableRowHeaderWidth||40};h.cellTemplate=b.get("ui-grid/expandableRowHeader");h.headerCellTemplate=b.get("ui-grid/expandableTopRowHeader");g.grid.addRowHeaderColumn(h)}c.initializeGrid(g.grid)},post:function(f,e,d,g){}}}}}]);a.directive("uiGrid",["uiGridExpandableService","$templateCache",function(c,b){return{replace:true,priority:599,require:"^uiGrid",scope:false,compile:function(){return{pre:function(f,e,d,g){g.grid.api.core.on.renderingComplete(f,function(){if(f.row&&f.row.grid&&f.row.grid.options&&f.row.grid.options.enableExpandable){g.grid.parentRow=f.row}})},post:function(f,e,d,g){}}}}}]);a.directive("uiGridExpandableRow",["uiGridExpandableService","$timeout","$compile","uiGridConstants","gridUtil","$interval","$log",function(e,d,c,b,h,g,f){return{replace:false,priority:0,scope:false,compile:function(){return{pre:function(k,j,i,l){h.getTemplate(k.grid.options.expandableRowTemplate).then(function(n){if(k.grid.options.expandableRowScope){var m=k.grid.options.expandableRowScope;for(var o in m){if(m.hasOwnProperty(o)){k[o]=m[o]}}}var p=c(n)(k);j.append(p);k.row.expandedRendered=true})},post:function(k,j,i,l){k.$on("$destroy",function(){k.row.expandedRendered=false})}}}}}]);a.directive("uiGridRow",["$compile","gridUtil","$templateCache",function(c,d,b){return{priority:-200,scope:false,compile:function(f,e){return{pre:function(i,h,g,j){i.expandableRow={};i.expandableRow.shouldRenderExpand=function(){var k=i.colContainer.name==="body"&&i.grid.options.enableExpandable!==false&&i.row.isExpanded&&(!i.grid.isScrollingVertically||i.row.expandedRendered);return k};i.expandableRow.shouldRenderFiller=function(){var k=i.row.isExpanded&&(i.colContainer.name!=="body"||(i.grid.isScrollingVertically&&!i.row.expandedRendered));return k}},post:function(i,h,g,j){}}}}}]);a.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(c,d,b){return{priority:-200,scope:false,compile:function(g,e){var f=angular.element(g.children().children()[0]);var i=b.get("ui-grid/expandableScrollFiller");var h=b.get("ui-grid/expandableRow");f.append(h);f.append(i);return{pre:function(l,k,j,m){},post:function(l,k,j,m){}}}}}])})();(function(){var a=angular.module("ui.grid.exporter",["ui.grid"]);a.constant("uiGridExporterConstants",{featureName:"exporter",ALL:"all",VISIBLE:"visible",SELECTED:"selected",CSV_CONTENT:"CSV_CONTENT",BUTTON_LABEL:"BUTTON_LABEL",FILE_NAME:"FILE_NAME"});a.service("uiGridExporterService",["$q","uiGridExporterConstants","gridUtil","$compile","$interval","i18nService",function(d,f,h,e,g,c){var b={delay:100,initializeGrid:function(i){i.exporter={};this.defaultGridOptions(i.options);var j={events:{exporter:{}},methods:{exporter:{csvExport:function(k,l){b.csvExport(i,k,l)},pdfExport:function(k,l){b.pdfExport(i,k,l)}}}};i.api.registerEventsFromObject(j.events);i.api.registerMethodsFromObject(j.methods);if(i.api.core.addToGridMenu){b.addToMenu(i)}else{g(function(){if(i.api.core.addToGridMenu){b.addToMenu(i)}},this.delay,1)}},defaultGridOptions:function(i){i.exporterSuppressMenu=i.exporterSuppressMenu===true;i.exporterMenuLabel=i.exporterMenuLabel?i.exporterMenuLabel:"Export";i.exporterSuppressColumns=i.exporterSuppressColumns?i.exporterSuppressColumns:[];i.exporterCsvColumnSeparator=i.exporterCsvColumnSeparator?i.exporterCsvColumnSeparator:",";i.exporterCsvFilename=i.exporterCsvFilename?i.exporterCsvFilename:"download.csv";i.exporterPdfFilename=i.exporterPdfFilename?i.exporterPdfFilename:"download.pdf";i.exporterOlderExcelCompatibility=i.exporterOlderExcelCompatibility===true;i.exporterPdfDefaultStyle=i.exporterPdfDefaultStyle?i.exporterPdfDefaultStyle:{fontSize:11};i.exporterPdfTableStyle=i.exporterPdfTableStyle?i.exporterPdfTableStyle:{margin:[0,5,0,15]};i.exporterPdfTableHeaderStyle=i.exporterPdfTableHeaderStyle?i.exporterPdfTableHeaderStyle:{bold:true,fontSize:12,color:"black"};i.exporterPdfHeader=i.exporterPdfHeader?i.exporterPdfHeader:null;i.exporterPdfFooter=i.exporterPdfFooter?i.exporterPdfFooter:null;i.exporterPdfOrientation=i.exporterPdfOrientation?i.exporterPdfOrientation:"landscape";i.exporterPdfPageSize=i.exporterPdfPageSize?i.exporterPdfPageSize:"A4";i.exporterPdfMaxGridWidth=i.exporterPdfMaxGridWidth?i.exporterPdfMaxGridWidth:720;i.exporterMenuAllData=i.exporterMenuAllData!==undefined?i.exporterMenuAllData:true;i.exporterMenuCsv=i.exporterMenuCsv!==undefined?i.exporterMenuCsv:true;i.exporterMenuPdf=i.exporterMenuPdf!==undefined?i.exporterMenuPdf:true;i.exporterPdfCustomFormatter=(i.exporterPdfCustomFormatter&&typeof(i.exporterPdfCustomFormatter)==="function")?i.exporterPdfCustomFormatter:function(j){return j};i.exporterHeaderFilterUseName=i.exporterHeaderFilterUseName===true;i.exporterFieldCallback=i.exporterFieldCallback?i.exporterFieldCallback:function(k,m,j,l){return l};i.exporterAllDataFn=i.exporterAllDataFn?i.exporterAllDataFn:null;if(i.exporterAllDataFn==null&&i.exporterAllDataPromise){i.exporterAllDataFn=i.exporterAllDataPromise}},addToMenu:function(i){i.api.core.addToGridMenu(i,[{title:c.getSafeText("gridMenu.exporterAllAsCsv"),action:function(j){this.grid.api.exporter.csvExport(f.ALL,f.ALL)},shown:function(){return this.grid.options.exporterMenuCsv&&this.grid.options.exporterMenuAllData},order:200},{title:c.getSafeText("gridMenu.exporterVisibleAsCsv"),action:function(j){this.grid.api.exporter.csvExport(f.VISIBLE,f.VISIBLE)},shown:function(){return this.grid.options.exporterMenuCsv},order:201},{title:c.getSafeText("gridMenu.exporterSelectedAsCsv"),action:function(j){this.grid.api.exporter.csvExport(f.SELECTED,f.VISIBLE)},shown:function(){return this.grid.options.exporterMenuCsv&&(this.grid.api.selection&&this.grid.api.selection.getSelectedRows().length>0)},order:202},{title:c.getSafeText("gridMenu.exporterAllAsPdf"),action:function(j){this.grid.api.exporter.pdfExport(f.ALL,f.ALL)},shown:function(){return this.grid.options.exporterMenuPdf&&this.grid.options.exporterMenuAllData},order:203},{title:c.getSafeText("gridMenu.exporterVisibleAsPdf"),action:function(j){this.grid.api.exporter.pdfExport(f.VISIBLE,f.VISIBLE)},shown:function(){return this.grid.options.exporterMenuPdf},order:204},{title:c.getSafeText("gridMenu.exporterSelectedAsPdf"),action:function(j){this.grid.api.exporter.pdfExport(f.SELECTED,f.VISIBLE)},shown:function(){return this.grid.options.exporterMenuPdf&&(this.grid.api.selection&&this.grid.api.selection.getSelectedRows().length>0)},order:205}])},csvExport:function(l,i,k){var j=this;this.loadAllDataIfNeeded(l,i,k).then(function(){var o=j.getColumnHeaders(l,k);var m=j.getData(l,i,k);var n=j.formatAsCsv(o,m,l.options.exporterCsvColumnSeparator);j.downloadFile(l.options.exporterCsvFilename,n,l.options.exporterOlderExcelCompatibility)})},loadAllDataIfNeeded:function(l,i,k){if(i===f.ALL&&l.rows.length!==l.options.totalItems&&l.options.exporterAllDataFn){return l.options.exporterAllDataFn().then(function(){l.modifyRows(l.options.data)})}else{var j=d.defer();j.resolve();return j.promise}},getColumnHeaders:function(k,j){var l=[];var i;if(j===f.ALL){i=k.columns}else{i=k.renderContainers.body.visibleColumnCache.filter(function(m){return m.visible})}i.forEach(function(n,m){if(n.colDef.exporterSuppressExport!==true&&k.options.exporterSuppressColumns.indexOf(n.name)===-1){l.push({name:n.field,displayName:k.options.exporterHeaderFilter?(k.options.exporterHeaderFilterUseName?k.options.exporterHeaderFilter(n.name):k.options.exporterHeaderFilter(n.displayName)):n.displayName,width:n.drawnWidth?n.drawnWidth:n.width,align:n.colDef.type==="number"?"right":"left"})}});return l},getData:function(l,i,k){var n=[];var m;var j;switch(i){case f.ALL:m=l.rows;break;case f.VISIBLE:m=l.getVisibleRows();break;case f.SELECTED:if(l.api.selection){m=l.api.selection.getSelectedGridRows()}else{h.logError("selection feature must be enabled to allow selected rows to be exported")}break}if(k===f.ALL){j=l.columns}else{j=l.renderContainers.body.visibleColumnCache.filter(function(o){return o.visible})}m.forEach(function(q,o){if(q.exporterEnableExporting!==false){var p=[];j.forEach(function(s,r){if((s.visible||k===f.ALL)&&s.colDef.exporterSuppressExport!==true&&l.options.exporterSuppressColumns.indexOf(s.name)===-1){var t={value:l.options.exporterFieldCallback(l,q,s,l.getCellValue(q,s))};if(s.colDef.exporterPdfAlign){t.alignment=s.colDef.exporterPdfAlign}p.push(t)}});n.push(p)}});return n},formatAsCsv:function(m,k,l){var j=this;var n=m.map(function(o){return{value:o.displayName}});var i=j.formatRowAsCsv(this,l)(n)+"\n";i+=k.map(this.formatRowAsCsv(this,l)).join("\n");return i},formatRowAsCsv:function(i,j){return function(k){return k.map(i.formatFieldAsCsv).join(j)}},formatFieldAsCsv:function(i){if(i.value==null){return""}if(typeof(i.value)==="number"){return i.value}if(typeof(i.value)==="boolean"){return(i.value?"TRUE":"FALSE")}if(typeof(i.value)==="string"){return'"'+i.value.replace(/"/g,'""')+'"'}return JSON.stringify(i.value)},isIE:function(){var i=navigator.userAgent.match(/(?:MSIE |Trident\/.*; rv:)(\d+)/);return i?parseInt(i[1]):false},downloadFile:function(l,o,n){var j=document;var q=j.createElement("a");var p="application/octet-stream;charset=utf-8";var r;var m;m=this.isIE();if(m&&m<10){var k=j.createElement("iframe");document.body.appendChild(k);k.contentWindow.document.open("text/html","replace");k.contentWindow.document.write("sep=,\r\n"+o);k.contentWindow.document.close();k.contentWindow.focus();k.contentWindow.document.execCommand("SaveAs",true,l);document.body.removeChild(k);return true}if(navigator.msSaveBlob){return navigator.msSaveBlob(new Blob([n?"\uFEFF":"",o],{type:p}),l)}if("download" in q){var i=new Blob([n?"\uFEFF":"",o],{type:p});r=URL.createObjectURL(i);q.setAttribute("download",l)}else{r="data:"+p+","+encodeURIComponent(o);q.setAttribute("target","_blank")}q.href=r;q.setAttribute("style","display:none;");j.body.appendChild(q);setTimeout(function(){if(q.click){q.click()}else{if(document.createEvent){var s=document.createEvent("MouseEvents");s.initEvent("click",true,true);q.dispatchEvent(s)}}j.body.removeChild(q)},this.delay)},pdfExport:function(l,i,k){var j=this;this.loadAllDataIfNeeded(l,i,k).then(function(){var o=j.getColumnHeaders(l,k);var m=j.getData(l,i,k);var n=j.prepareAsPdf(l,o,m);if(j.isIE()){j.downloadPDF(l.options.exporterPdfFilename,n)}else{pdfMake.createPdf(n).open()}})},downloadPDF:function(l,n){var j=document;var p=j.createElement("a");var o="application/octet-stream;charset=utf-8";var r;var m;m=this.isIE();var q=pdfMake.createPdf(n);var i;q.getBuffer(function(s){i=new Blob([s])});if(m&&m<10){var k=j.createElement("iframe");document.body.appendChild(k);k.contentWindow.document.open("text/html","replace");k.contentWindow.document.write(i);k.contentWindow.document.close();k.contentWindow.focus();k.contentWindow.document.execCommand("SaveAs",true,l);document.body.removeChild(k);return true}if(navigator.msSaveBlob){return navigator.msSaveBlob(i,l)}},prepareAsPdf:function(l,p,k){var o=this.calculatePdfHeaderWidths(l,p);var j=p.map(function(q){return{text:q.displayName,style:"tableHeader"}});var i=k.map(this.formatRowAsPdf(this));var m=[j].concat(i);var n={pageOrientation:l.options.exporterPdfOrientation,pageSize:l.options.exporterPdfPageSize,content:[{style:"tableStyle",table:{headerRows:1,widths:o,body:m}}],styles:{tableStyle:l.options.exporterPdfTableStyle,tableHeader:l.options.exporterPdfTableHeaderStyle},defaultStyle:l.options.exporterPdfDefaultStyle};if(l.options.exporterPdfLayout){n.layout=l.options.exporterPdfLayout}if(l.options.exporterPdfHeader){n.header=l.options.exporterPdfHeader}if(l.options.exporterPdfFooter){n.footer=l.options.exporterPdfFooter}if(l.options.exporterPdfCustomFormatter){n=l.options.exporterPdfCustomFormatter(n)}return n},calculatePdfHeaderWidths:function(k,j){var i=0;j.forEach(function(n){if(typeof(n.width)==="number"){i+=n.width}});var l=0;j.forEach(function(o){if(o.width==="*"){l+=100}if(typeof(o.width)==="string"&&o.width.match(/(\d)*%/)){var n=parseInt(o.width.match(/(\d)*%/)[0]);o.width=i*n/100;l+=o.width}});var m=i+l;return j.map(function(n){return n.width==="*"?n.width:n.width*k.options.exporterPdfMaxGridWidth/m})},formatRowAsPdf:function(i){return function(j){return j.map(i.formatFieldAsPdfString)}},formatFieldAsPdfString:function(j){var i;if(j.value==null){i=""}else{if(typeof(j.value)==="number"){i=j.value.toString()}else{if(typeof(j.value)==="boolean"){i=(j.value?"TRUE":"FALSE")}else{if(typeof(j.value)==="string"){i=j.value.replace(/"/g,'""')}else{i=JSON.stringify(j.value).replace(/^"/,"").replace(/"$/,"")}}}}if(j.alignment&&typeof(j.alignment)==="string"){i={text:i,alignment:j.alignment}}return i}};return b}]);a.directive("uiGridExporter",["uiGridExporterConstants","uiGridExporterService","gridUtil","$compile",function(d,b,e,c){return{replace:true,priority:0,require:"^uiGrid",scope:false,link:function(h,g,f,i){b.initializeGrid(i.grid);i.grid.exporter.$scope=h}}}])})();(function(){var a=angular.module("ui.grid.grouping",["ui.grid","ui.grid.treeBase"]);a.constant("uiGridGroupingConstants",{featureName:"grouping",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}});a.service("uiGridGroupingService",["$q","uiGridGroupingConstants","gridUtil","rowSorter","GridRow","gridClassFactory","i18nService","uiGridConstants","uiGridTreeBaseService",function(h,d,k,b,c,j,e,i,g){var f={initializeGrid:function(m,l){g.initializeGrid(m,l);m.grouping={};m.grouping.groupHeaderCache={};f.defaultGridOptions(m.options);m.registerRowsProcessor(f.groupRows,400);m.registerColumnBuilder(f.groupingColumnBuilder);m.registerColumnsProcessor(f.groupingColumnProcessor,400);var n={events:{grouping:{}},methods:{grouping:{getGrouping:function(p){var o=f.getGrouping(m);o.grouping.forEach(function(q){q.colName=q.col.name;delete q.col});o.aggregations.forEach(function(q){q.colName=q.col.name;delete q.col});o.aggregations=o.aggregations.filter(function(q){return !q.aggregation.source||q.aggregation.source!=="grouping"});if(p){o.rowExpandedStates=f.getRowExpandedStates(m.grouping.groupingHeaderCache)}return o},setGrouping:function(o){f.setGrouping(m,o)},groupColumn:function(o){var p=m.getColumn(o);f.groupColumn(m,p)},ungroupColumn:function(o){var p=m.getColumn(o);f.ungroupColumn(m,p)},clearGrouping:function(){f.clearGrouping(m)},aggregateColumn:function(p,o,r){var q=m.getColumn(p);f.aggregateColumn(m,q,o,r)}}}};m.api.registerEventsFromObject(n.events);m.api.registerMethodsFromObject(n.methods);m.api.core.on.sortChanged(l,f.tidyPriorities)},defaultGridOptions:function(l){l.enableGrouping=l.enableGrouping!==false;l.groupingShowCounts=l.groupingShowCounts!==false;l.groupingNullLabel=typeof(l.groupingNullLabel)==="undefined"?"Null":l.groupingNullLabel;l.enableGroupHeaderSelection=l.enableGroupHeaderSelection===true},groupingColumnBuilder:function(o,m,q){if(o.enableGrouping===false){return}if(typeof(m.grouping)==="undefined"&&typeof(o.grouping)!=="undefined"){m.grouping=angular.copy(o.grouping);if(typeof(m.grouping.groupPriority)!=="undefined"&&m.grouping.groupPriority>-1){m.treeAggregationFn=g.nativeAggregations()[d.aggregation.COUNT].aggregationFn;m.treeAggregationFinalizerFn=f.groupedFinalizerFn}}else{if(typeof(m.grouping)==="undefined"){m.grouping={}}}if(typeof(m.grouping)!=="undefined"&&typeof(m.grouping.groupPriority)!=="undefined"&&m.grouping.groupPriority>=0){m.suppressRemoveSort=true}var r={name:"ui.grid.grouping.group",title:e.get().grouping.group,icon:"ui-grid-icon-indent-right",shown:function(){return typeof(this.context.col.grouping)==="undefined"||typeof(this.context.col.grouping.groupPriority)==="undefined"||this.context.col.grouping.groupPriority<0},action:function(){f.groupColumn(this.context.col.grid,this.context.col)}};var n={name:"ui.grid.grouping.ungroup",title:e.get().grouping.ungroup,icon:"ui-grid-icon-indent-left",shown:function(){return typeof(this.context.col.grouping)!=="undefined"&&typeof(this.context.col.grouping.groupPriority)!=="undefined"&&this.context.col.grouping.groupPriority>=0},action:function(){f.ungroupColumn(this.context.col.grid,this.context.col)}};var p={name:"ui.grid.grouping.aggregateRemove",title:e.get().grouping.aggregate_remove,shown:function(){return typeof(this.context.col.treeAggregationFn)!=="undefined"},action:function(){f.aggregateColumn(this.context.col.grid,this.context.col,null)}};var l=function(t,u){u=u||e.get().grouping["aggregate_"+t]||t;var s={name:"ui.grid.grouping.aggregate"+t,title:u,shown:function(){return typeof(this.context.col.treeAggregation)==="undefined"||typeof(this.context.col.treeAggregation.type)==="undefined"||this.context.col.treeAggregation.type!==t},action:function(){f.aggregateColumn(this.context.col.grid,this.context.col,t)}};if(!k.arrayContainsObjectWithProperty(m.menuItems,"name","ui.grid.grouping.aggregate"+t)){m.menuItems.push(s)}};if(m.colDef.groupingShowGroupingMenu!==false){if(!k.arrayContainsObjectWithProperty(m.menuItems,"name","ui.grid.grouping.group")){m.menuItems.push(r)}if(!k.arrayContainsObjectWithProperty(m.menuItems,"name","ui.grid.grouping.ungroup")){m.menuItems.push(n)}}if(m.colDef.groupingShowAggregationMenu!==false){angular.forEach(g.nativeAggregations(),function(s,t){l(t)});angular.forEach(q.treeCustomAggregations,function(s,t){l(t,s.menuTitle)});if(!k.arrayContainsObjectWithProperty(m.menuItems,"name","ui.grid.grouping.aggregateRemove")){m.menuItems.push(p)}}},groupingColumnProcessor:function(m,n){var l=this;m=f.moveGroupColumns(this,m,n);return m},groupedFinalizerFn:function(m){var l=this;if(typeof(m.groupVal)!=="undefined"){m.rendered=m.groupVal;if(l.grid.options.groupingShowCounts&&l.colDef.type!=="date"){m.rendered+=(" ("+m.value+")")}}else{m.rendered=null}},moveGroupColumns:function(m,l,n){if(m.options.moveGroupColumns===false){return}l.forEach(function(p,o){p.groupingPosition=o});l.sort(function(p,o){var q,r;if(typeof(p.grouping)==="undefined"||typeof(p.grouping.groupPriority)==="undefined"||p.grouping.groupPriority<0){q=null}else{q=p.grouping.groupPriority}if(typeof(o.grouping)==="undefined"||typeof(o.grouping.groupPriority)==="undefined"||o.grouping.groupPriority<0){r=null}else{r=o.grouping.groupPriority}if(q!==null&&r===null){return -1}if(r!==null&&q===null){return 1}if(q!==null&&r!==null){return q-r}return p.groupingPosition-o.groupingPosition});l.forEach(function(p,o){delete p.groupingPosition});return l},groupColumn:function(l,m){if(typeof(m.grouping)==="undefined"){m.grouping={}}var n=f.getGrouping(l);m.grouping.groupPriority=n.grouping.length;if(!m.sort){m.sort={direction:i.ASC}}else{if(typeof(m.sort.direction)==="undefined"||m.sort.direction===null){m.sort.direction=i.ASC}}f.tidyPriorities(l);m.treeAggregation={type:d.aggregation.COUNT,source:"grouping"};m.treeAggregationFn=g.nativeAggregations()[d.aggregation.COUNT].aggregationFn;m.treeAggregationFinalizerFn=f.groupedFinalizerFn;l.queueGridRefresh()},ungroupColumn:function(l,m){if(typeof(m.grouping)==="undefined"){return}delete m.grouping.groupPriority;delete m.treeAggregation;delete m.customTreeAggregationFinalizer;f.tidyPriorities(l);l.queueGridRefresh()},aggregateColumn:function(n,o,m){if(typeof(o.grouping)!=="undefined"&&typeof(o.grouping.groupPriority)!=="undefined"&&o.grouping.groupPriority>=0){f.ungroupColumn(n,o)}var l={};if(typeof(n.options.treeCustomAggregations[m])!=="undefined"){l=n.options.treeCustomAggregations[m]}else{if(typeof(g.nativeAggregations()[m])!=="undefined"){l=g.nativeAggregations()[m]}}o.treeAggregation={type:m,label:e.get().aggregation[l.label]||l.label};o.treeAggregationFn=l.aggregationFn;o.treeAggregationFinalizerFn=l.finalizerFn;n.queueGridRefresh()},setGrouping:function(m,l){if(typeof(l)==="undefined"){return}f.clearGrouping(m);if(l.grouping&&l.grouping.length&&l.grouping.length>0){l.grouping.forEach(function(o){var n=m.getColumn(o.colName);if(n){f.groupColumn(m,n)}})}if(l.aggregations&&l.aggregations.length){l.aggregations.forEach(function(o){var n=m.getColumn(o.colName);if(n){f.aggregateColumn(m,n,o.aggregation.type)}})}if(l.rowExpandedStates){f.applyRowExpandedStates(m.grouping.groupingHeaderCache,l.rowExpandedStates)}},clearGrouping:function(m){var l=f.getGrouping(m);if(l.grouping.length>0){l.grouping.forEach(function(n){if(!n.col){n.col=m.getColumn(n.colName)}f.ungroupColumn(m,n.col)})}if(l.aggregations.length>0){l.aggregations.forEach(function(n){if(!n.col){n.col=m.getColumn(n.colName)}f.aggregateColumn(m,n.col,null)})}},tidyPriorities:function(o){if((typeof(o)==="undefined"||typeof(o.grid)!=="undefined")&&typeof(this.grid)!=="undefined"){o=this.grid}var l=[];var n=[];o.columns.forEach(function(q,p){if(typeof(q.grouping)!=="undefined"&&typeof(q.grouping.groupPriority)!=="undefined"&&q.grouping.groupPriority>=0){l.push(q)}else{if(typeof(q.sort)!=="undefined"&&typeof(q.sort.priority)!=="undefined"&&q.sort.priority>=0){n.push(q)}}});l.sort(function(q,p){return q.grouping.groupPriority-p.grouping.groupPriority});l.forEach(function(q,p){q.grouping.groupPriority=p;q.suppressRemoveSort=true;if(typeof(q.sort)==="undefined"){q.sort={}}q.sort.priority=p});var m=l.length;n.sort(function(q,p){return q.sort.priority-p.sort.priority});n.forEach(function(q,p){q.sort.priority=m;q.suppressRemoveSort=q.colDef.suppressRemoveSort;m++})},groupRows:function(p){if(p.length===0){return p}var o=this;o.grouping.oldGroupingHeaderCache=o.grouping.groupingHeaderCache||{};o.grouping.groupingHeaderCache={};var m=f.initialiseProcessingState(o);var l=function(r,s){var t=o.getCellValue(q,r.col);if(!r.initialised||b.getSortFn(o,r.col,p)(t,r.currentValue)!==0){f.insertGroupHeader(o,p,n,m,s);n++}};for(var n=0;n<p.length;n++){var q=p[n];if(q.visible){m.forEach(l)}}delete o.grouping.oldGroupingHeaderCache;return p},initialiseProcessingState:function(n){var l=[];var m=f.getGrouping(n);m.grouping.forEach(function(o,p){l.push({fieldName:o.field,col:o.col,initialised:false,currentValue:null,currentRow:null})});return l},getGrouping:function(m){var l=[];var n=[];m.columns.forEach(function(p,o){if(p.grouping){if(typeof(p.grouping.groupPriority)!=="undefined"&&p.grouping.groupPriority>=0){l.push({field:p.field,col:p,groupPriority:p.grouping.groupPriority,grouping:p.grouping})}}if(p.treeAggregation&&p.treeAggregation.type){n.push({field:p.field,col:p,aggregation:p.treeAggregation})}});l.sort(function(p,o){return p.groupPriority-o.groupPriority});l.forEach(function(p,o){p.grouping.groupPriority=o;p.groupPriority=o;delete p.grouping});return{grouping:l,aggregations:n}},insertGroupHeader:function(l,q,u,v,n){var w=v[n].fieldName;var o=v[n].col;var m=l.getCellValue(q[u],o);var p=m;if(typeof(m)==="undefined"||m===null){p=l.options.groupingNullLabel}var s=l.grouping.oldGroupingHeaderCache;for(var r=0;r<n;r++){if(s&&s[v[r].currentValue]){s=s[v[r].currentValue].children}}var t;if(s&&s[m]){t=s[m].row;t.entity={}}else{t=new c({},null,l);j.rowTemplateAssigner.call(l,t)}t.entity["$$"+v[n].col.uid]={groupVal:p};t.treeLevel=n;t.groupHeader=true;t.internalRow=true;t.enableCellEdit=false;t.enableSelection=l.options.enableGroupHeaderSelection;v[n].initialised=true;v[n].currentValue=m;v[n].currentRow=t;f.finaliseProcessingState(v,n+1);q.splice(u,0,t);s=l.grouping.groupingHeaderCache;for(r=0;r<n;r++){s=s[v[r].currentValue].children}s[m]={row:t,children:{}}},finaliseProcessingState:function(l,n){for(var m=n;m<l.length;m++){l[m].initialised=false;l[m].currentRow=null;l[m].currentValue=null}},getRowExpandedStates:function(l){if(typeof(l)==="undefined"){return{}}var m={};angular.forEach(l,function(o,n){m[n]={state:o.row.treeNode.state};if(o.children){m[n].children=f.getRowExpandedStates(o.children)}else{m[n].children={}}});return m},applyRowExpandedStates:function(l,m){if(typeof(m)==="undefined"){return}angular.forEach(m,function(o,n){if(l[n]){l[n].row.treeNode.state=o.state;if(o.children&&l[n].children){f.applyRowExpandedStates(l[n].children,o.children)}}})}};return f}]);a.directive("uiGridGrouping",["uiGridGroupingConstants","uiGridGroupingService","$templateCache",function(d,c,b){return{replace:true,priority:0,require:"^uiGrid",scope:false,compile:function(){return{pre:function(g,f,e,h){if(h.grid.options.enableGrouping!==false){c.initializeGrid(h.grid,g)}},post:function(g,f,e,h){}}}}}])})();(function(){var a=angular.module("ui.grid.importer",["ui.grid"]);a.constant("uiGridImporterConstants",{featureName:"importer"});a.service("uiGridImporterService",["$q","uiGridConstants","uiGridImporterConstants","gridUtil","$compile","$interval","i18nService","$window",function(g,h,i,j,c,f,d,b){var e={initializeGrid:function(k,l){l.importer={$scope:k};this.defaultGridOptions(l.options);var m={events:{importer:{}},methods:{importer:{importFile:function(n){e.importThisFile(l,n)}}}};l.api.registerEventsFromObject(m.events);l.api.registerMethodsFromObject(m.methods);if(l.options.enableImporter&&l.options.importerShowMenu){if(l.api.core.addToGridMenu){e.addToMenu(l)}else{f(function(){if(l.api.core.addToGridMenu){e.addToMenu(l)}},100,1)}}},defaultGridOptions:function(k){if(k.enableImporter||k.enableImporter===undefined){if(!(b.hasOwnProperty("File")&&b.hasOwnProperty("FileReader")&&b.hasOwnProperty("FileList")&&b.hasOwnProperty("Blob"))){j.logError("The File APIs are not fully supported in this browser, grid importer cannot be used.");k.enableImporter=false}else{k.enableImporter=true}}else{k.enableImporter=false}k.importerProcessHeaders=k.importerProcessHeaders||e.processHeaders;k.importerHeaderFilter=k.importerHeaderFilter||function(l){return l};if(!k.importerErrorCallback||typeof(k.importerErrorCallback)!=="function"){delete k.importerErrorCallback}if(k.enableImporter===true&&!k.importerDataAddCallback){j.logError("You have not set an importerDataAddCallback, importer is disabled");k.enableImporter=false}k.importerShowMenu=k.importerShowMenu!==false;k.importerObjectCallback=k.importerObjectCallback||function(m,l){return l}},addToMenu:function(k){k.api.core.addToGridMenu(k,[{title:d.getSafeText("gridMenu.importerTitle"),order:150},{templateUrl:"ui-grid/importerMenuItemContainer",action:function(l){this.grid.api.importer.importAFile(k)},order:151}])},importThisFile:function(m,l){if(!l){j.logError("No file object provided to importThisFile, should be impossible, aborting");return}var k=new FileReader();switch(l.type){case"application/json":k.onload=e.importJsonClosure(m);break;default:k.onload=e.importCsvClosure(m);break}k.readAsText(l)},importJsonClosure:function(k){return function(o){var l=[];var m;var n=e.parseJson(k,o);if(n===null){return}n.forEach(function(q,p){m=e.newObject(k);angular.extend(m,q);m=k.options.importerObjectCallback(k,m);l.push(m)});e.addObjects(k,l)}},parseJson:function(l,n){var k;try{k=JSON.parse(n.target.result)}catch(m){e.alertError(l,"importer.invalidJson","File could not be processed, is it valid json? Content was: ",n.target.result);return}if(!Array.isArray(k)){e.alertError(l,"importer.jsonNotarray","Import failed, file is not an array, file was: ",n.target.result);return[]}else{return k}},importCsvClosure:function(k){return function(n){var m=e.parseCsv(n);if(!m||m.length<1){e.alertError(k,"importer.invalidCsv","File could not be processed, is it valid csv? Content was: ",n.target.result);return}var l=e.createCsvObjects(k,m);if(!l||l.length===0){e.alertError(k,"importer.noObjects","Objects were not able to be derived, content was: ",n.target.result);return}e.addObjects(k,l)}},parseCsv:function(l){var k=l.target.result;return CSV.parse(k)},createCsvObjects:function(n,o){var k=n.options.importerProcessHeaders(n,o.shift());if(!k||k.length===0){e.alertError(n,"importer.noHeaders","Column names could not be derived, content was: ",o);return[]}var l=[];var m;o.forEach(function(q,p){m=e.newObject(n);if(q!==null){q.forEach(function(s,r){if(k[r]!==null){m[k[r]]=s}})}m=n.options.importerObjectCallback(n,m);l.push(m)});return l},processHeaders:function(k,l){var m=[];if(!k.options.columnDefs||k.options.columnDefs.length===0){l.forEach(function(p,o){m.push(p.replace(/[^0-9a-zA-Z\-_]/g,"_"))});return m}else{var n=e.flattenColumnDefs(k,k.options.columnDefs);l.forEach(function(p,o){if(n[p]){m.push(n[p])}else{if(n[p.toLowerCase()]){m.push(n[p.toLowerCase()])}else{m.push(null)}}});return m}},flattenColumnDefs:function(l,m){var k={};m.forEach(function(n,o){if(n.name){k[n.name]=n.field||n.name;k[n.name.toLowerCase()]=n.field||n.name}if(n.field){k[n.field]=n.field||n.name;k[n.field.toLowerCase()]=n.field||n.name}if(n.displayName){k[n.displayName]=n.field||n.name;k[n.displayName.toLowerCase()]=n.field||n.name}if(n.displayName&&l.options.importerHeaderFilter){k[l.options.importerHeaderFilter(n.displayName)]=n.field||n.name;k[l.options.importerHeaderFilter(n.displayName).toLowerCase()]=n.field||n.name}});return k},addObjects:function(n,m,l){if(n.api.rowEdit){var k=n.registerDataChangeCallback(function(){n.api.rowEdit.setRowsDirty(m);k()},[h.dataChange.ROW]);n.importer.$scope.$on("$destroy",k)}n.importer.$scope.$apply(n.options.importerDataAddCallback(n,m))},newObject:function(k){if(typeof(k.options)!=="undefined"&&typeof(k.options.importerNewObject)!=="undefined"){return new k.options.importerNewObject()}else{return{}}},alertError:function(n,l,k,m){if(n.options.importerErrorCallback){n.options.importerErrorCallback(n,l,k,m)}else{b.alert(d.getSafeText(l));j.logError(k+m)}}};return e}]);a.directive("uiGridImporter",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(b,d,e,c){return{replace:true,priority:0,require:"^uiGrid",scope:false,link:function(h,g,f,i){d.initializeGrid(h,i.grid)}}}]);a.directive("uiGridImporterMenuItem",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(b,d,e,c){return{replace:true,priority:0,require:"^uiGrid",scope:false,templateUrl:"ui-grid/importerMenuItem",link:function(h,g,f,k){var j=function(n){var o=n.srcElement||n.target;if(o&&o.files&&o.files.length===1){var m=o.files[0];d.importThisFile(i,m);o.form.reset()}};var l=g[0].querySelectorAll(".ui-grid-importer-file-chooser");var i=k.grid;if(l.length!==1){e.logError("Found > 1 or < 1 file choosers within the menu item, error, cannot continue")}else{l[0].addEventListener("change",j,false)}}}}])})();(function(){var a=angular.module("ui.grid.infiniteScroll",["ui.grid"]);a.service("uiGridInfiniteScrollService",["gridUtil","$compile","$timeout","uiGridConstants","ScrollEvent","$q",function(h,f,e,c,g,d){var b={initializeGrid:function(j,i){b.defaultGridOptions(j.options);if(!j.options.enableInfiniteScroll){return}j.infiniteScroll={dataLoading:false};b.setScrollDirections(j,j.options.infiniteScrollUp,j.options.infiniteScrollDown);j.api.core.on.scrollEnd(i,b.handleScroll);var k={events:{infiniteScroll:{needLoadMoreData:function(l,m){},needLoadMoreDataTop:function(l,m){}}},methods:{infiniteScroll:{dataLoaded:function(m,l){b.setScrollDirections(j,m,l);var n=b.adjustScroll(j).then(function(){j.infiniteScroll.dataLoading=false});return n},resetScroll:function(m,l){b.setScrollDirections(j,m,l);return b.adjustInfiniteScrollPosition(j,0)},saveScrollPercentage:function(){j.infiniteScroll.prevScrolltopPercentage=j.renderContainers.body.prevScrolltopPercentage;j.infiniteScroll.previousVisibleRows=j.renderContainers.body.visibleRowCache.length},dataRemovedTop:function(m,l){b.dataRemovedTop(j,m,l)},dataRemovedBottom:function(m,l){b.dataRemovedBottom(j,m,l)},setScrollDirections:function(m,l){b.setScrollDirections(j,m,l)}}}};j.api.registerEventsFromObject(k.events);j.api.registerMethodsFromObject(k.methods)},defaultGridOptions:function(i){i.enableInfiniteScroll=i.enableInfiniteScroll!==false;i.infiniteScrollRowsFromEnd=i.infiniteScrollRowsFromEnd||20;i.infiniteScrollUp=i.infiniteScrollUp===true;i.infiniteScrollDown=i.infiniteScrollDown!==false},setScrollDirections:function(k,j,i){k.infiniteScroll.scrollUp=(j===true);k.suppressParentScrollUp=(j===true);k.infiniteScroll.scrollDown=(i!==false);k.suppressParentScrollDown=(i!==false)},handleScroll:function(j){if(j.grid.infiniteScroll&&j.grid.infiniteScroll.dataLoading||j.source==="ui.grid.adjustInfiniteScrollPosition"){return}if(j.y){var i;var k=j.grid.options.infiniteScrollRowsFromEnd/j.grid.renderContainers.body.visibleRowCache.length;if(j.grid.scrollDirection===c.scrollDirection.UP){i=j.y.percentage;if(i<=k){b.loadData(j.grid)}}else{if(j.grid.scrollDirection===c.scrollDirection.DOWN){i=1-j.y.percentage;if(i<=k){b.loadData(j.grid)}}}}},loadData:function(i){i.infiniteScroll.previousVisibleRows=i.renderContainers.body.visibleRowCache.length;i.infiniteScroll.direction=i.scrollDirection;delete i.infiniteScroll.prevScrolltopPercentage;if(i.scrollDirection===c.scrollDirection.UP&&i.infiniteScroll.scrollUp){i.infiniteScroll.dataLoading=true;i.api.infiniteScroll.raise.needLoadMoreDataTop()}else{if(i.scrollDirection===c.scrollDirection.DOWN&&i.infiniteScroll.scrollDown){i.infiniteScroll.dataLoading=true;i.api.infiniteScroll.raise.needLoadMoreData()}}},adjustScroll:function(i){var j=d.defer();e(function(){var o;if(i.infiniteScroll.direction===undefined){b.adjustInfiniteScrollPosition(i,0)}var n=i.renderContainers.body.visibleRowCache.length;var m,l;var k=i.getViewportHeight()/i.options.rowHeight/2;if(i.infiniteScroll.direction===c.scrollDirection.UP){m=i.infiniteScroll.prevScrolltopPercentage||0;l=m*i.infiniteScroll.previousVisibleRows;o=(n-i.infiniteScroll.previousVisibleRows+l+k)/n;b.adjustInfiniteScrollPosition(i,o);e(function(){j.resolve()})}if(i.infiniteScroll.direction===c.scrollDirection.DOWN){m=i.infiniteScroll.prevScrolltopPercentage||1;l=m*i.infiniteScroll.previousVisibleRows;o=(l-k)/n;b.adjustInfiniteScrollPosition(i,o);e(function(){j.resolve()})}},0);return j.promise},adjustInfiniteScrollPosition:function(k,i){var j=new g(k,null,null,"ui.grid.adjustInfiniteScrollPosition");if(i===0&&k.infiniteScroll.scrollUp){j.y={pixels:1}}else{j.y={percentage:i}}k.scrollContainers("",j)},dataRemovedTop:function(l,j,i){b.setScrollDirections(l,j,i);var o=l.renderContainers.body.visibleRowCache.length;var m=l.infiniteScroll.prevScrolltopPercentage*l.infiniteScroll.previousVisibleRows;var k=m-(l.infiniteScroll.previousVisibleRows-o);var n=k/o;return b.adjustInfiniteScrollPosition(l,n)},dataRemovedBottom:function(k,j,i){b.setScrollDirections(k,j,i);var n=k.renderContainers.body.visibleRowCache.length;var l=k.infiniteScroll.prevScrolltopPercentage*k.infiniteScroll.previousVisibleRows;var m=l/n;return b.adjustInfiniteScrollPosition(k,m)}};return b}]);a.directive("uiGridInfiniteScroll",["uiGridInfiniteScrollService",function(b){return{priority:-200,scope:false,require:"^uiGrid",compile:function(d,c,e){return{pre:function(g,f,i,h){b.initializeGrid(h.grid,g)},post:function(g,f,h){}}}}}])})();(function(){var a=angular.module("ui.grid.moveColumns",["ui.grid"]);a.service("uiGridMoveColumnService",["$q","$timeout","$log","ScrollEvent","uiGridConstants","gridUtil",function(d,e,f,g,c,h){var b={initializeGrid:function(j){var i=this;this.registerPublicApi(j);this.defaultGridOptions(j.options);j.registerColumnBuilder(i.movableColumnBuilder)},registerPublicApi:function(j){var i=this;var k={events:{colMovable:{columnPositionChanged:function(n,m,l){}}},methods:{colMovable:{moveColumn:function(q,p){var n=j.columns;if(!angular.isNumber(q)||!angular.isNumber(p)){h.logError("MoveColumn: Please provide valid values for originalPosition and finalPosition");return}var l=0;for(var m=0;m<n.length;m++){if((angular.isDefined(n[m].colDef.visible)&&n[m].colDef.visible===false)||n[m].isRowHeader===true){l++}}if(q>=(n.length-l)||p>=(n.length-l)){h.logError("MoveColumn: Invalid values for originalPosition, finalPosition");return}var o=function(s){var r=s;for(var t=0;t<=r;t++){if(angular.isDefined(n[t])&&((angular.isDefined(n[t].colDef.visible)&&n[t].colDef.visible===false)||n[t].isRowHeader===true)){r++}}return r};i.redrawColumnAtPosition(j,o(q),o(p))}}}};j.api.registerEventsFromObject(k.events);j.api.registerMethodsFromObject(k.methods)},defaultGridOptions:function(i){i.enableColumnMoving=i.enableColumnMoving!==false},movableColumnBuilder:function(k,i,l){var j=[];k.enableColumnMoving=k.enableColumnMoving===undefined?l.enableColumnMoving:k.enableColumnMoving;return d.all(j)},redrawColumnAtPosition:function(l,n,k){var j=l.columns;var i=j[n];if(i.colDef.enableColumnMoving){if(n>k){for(var o=n;o>k;o--){j[o]=j[o-1]}}else{if(k>n){for(var m=n;m<k;m++){j[m]=j[m+1]}}}j[k]=i;l.queueGridRefresh();e(function(){l.api.core.notifyDataChange(c.dataChange.COLUMN);l.api.colMovable.raise.columnPositionChanged(i.colDef,n,k)})}}};return b}]);a.directive("uiGridMoveColumns",["uiGridMoveColumnService",function(b){return{replace:true,priority:0,require:"^uiGrid",scope:false,compile:function(){return{pre:function(e,d,c,f){b.initializeGrid(f.grid)},post:function(e,d,c,f){}}}}}]);a.directive("uiGridHeaderCell",["$q","gridUtil","uiGridMoveColumnService","$document","$log","uiGridConstants","ScrollEvent",function(c,h,d,g,e,b,f){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(t,u,o,s){if(t.col.colDef.enableColumnMoving){var l=angular.element(u[0].querySelectorAll(".ui-grid-cell-contents"));var i;var r;var j;var p;var y=false;var q;var w;var B=false;var x=function(C){i=t.grid.element[0].getBoundingClientRect().left;if(t.grid.hasLeftContainer()){i+=t.grid.renderContainers.left.header[0].getBoundingClientRect().width}r=C.pageX;j=0;p=i+t.grid.getViewportWidth();if(C.type==="mousedown"){g.on("mousemove",z);g.on("mouseup",A)}else{if(C.type==="touchstart"){g.on("touchmove",z);g.on("touchend",A)}}};var z=function(D){var C=D.pageX-r;if(C===0){return}document.onselectstart=function(){return false};B=true;if(!y){m()}else{if(y){v(C);r=D.pageX}}};var A=function(H){document.onselectstart=null;if(q){q.remove();y=false}k();n();if(!B){return}var F=t.grid.columns;var G=0;for(var E=0;E<F.length;E++){if(F[E].colDef.name!==t.col.colDef.name){G++}else{break}}if(j<0){var D=0;for(var C=G-1;C>=0;C--){if(angular.isUndefined(F[C].colDef.visible)||F[C].colDef.visible===true){D+=F[C].drawnWidth||F[C].width||F[C].colDef.width;if(D>Math.abs(j)){d.redrawColumnAtPosition(t.grid,G,C+1);break}}}if(D<Math.abs(j)){d.redrawColumnAtPosition(t.grid,G,0)}}else{if(j>0){var J=0;for(var I=G+1;I<F.length;I++){if(angular.isUndefined(F[I].colDef.visible)||F[I].colDef.visible===true){J+=F[I].drawnWidth||F[I].width||F[I].colDef.width;if(J>j){d.redrawColumnAtPosition(t.grid,G,I-1);break}}}if(J<j){d.redrawColumnAtPosition(t.grid,G,F.length-1)}}}};var n=function(){l.on("touchstart",x);l.on("mousedown",x)};var k=function(){l.off("touchstart",x);l.off("mousedown",x);g.off("mousemove",z);g.off("touchmove",z);g.off("mouseup",A);g.off("touchend",A)};n();var m=function(){y=true;q=u.clone();u.parent().append(q);q.addClass("movingColumn");var C={};var D;if(h.detectBrowser()==="safari"){D=u[0].offsetLeft+u[0].offsetWidth-u[0].getBoundingClientRect().width}else{D=u[0].getBoundingClientRect().left}C.left=(D-i)+"px";var F=t.grid.element[0].getBoundingClientRect().right;var E=u[0].getBoundingClientRect().right;if(E>F){w=t.col.drawnWidth+(F-E);C.width=w+"px"}q.css(C)};var v=function(I){var E=t.grid.columns;var D=0;for(var F=0;F<E.length;F++){if(angular.isUndefined(E[F].colDef.visible)||E[F].colDef.visible===true){D+=E[F].drawnWidth||E[F].width||E[F].colDef.width}}var C=q[0].getBoundingClientRect().left-1;var H=q[0].getBoundingClientRect().right;var L;L=C-i+I;L=L<p?L:p;if((C>=i||I>0)&&(H<=p||I<0)){q.css({visibility:"visible",left:L+"px"})}else{if(D>Math.ceil(s.grid.gridWidth)){I*=8;var G=new f(t.col.grid,null,null,"uiGridHeaderCell.moveElement");G.x={pixels:I};G.grid.scrollContainers("",G)}}var J=0;for(var K=0;K<E.length;K++){if(angular.isUndefined(E[K].colDef.visible)||E[K].colDef.visible===true){if(E[K].colDef.name!==t.col.colDef.name){J+=E[K].drawnWidth||E[K].width||E[K].colDef.width}else{break}}}if(t.newScrollLeft===undefined){j+=I}else{j=t.newScrollLeft+L-J}if(w<t.col.drawnWidth){w+=Math.abs(I);q.css({width:w+"px"})}}}}}}}}])})();(function(){var a=angular.module("ui.grid.pagination",["ng","ui.grid"]);a.service("uiGridPaginationService",["gridUtil",function(c){var b={initializeGrid:function(d){b.defaultGridOptions(d.options);var f={events:{pagination:{paginationChanged:function(h,g){}}},methods:{pagination:{getPage:function(){return d.options.enablePagination?d.options.paginationCurrentPage:null},getTotalPages:function(){if(!d.options.enablePagination){return null}return(d.options.totalItems===0)?1:Math.ceil(d.options.totalItems/d.options.paginationPageSize)},nextPage:function(){if(!d.options.enablePagination){return}if(d.options.totalItems>0){d.options.paginationCurrentPage=Math.min(d.options.paginationCurrentPage+1,f.methods.pagination.getTotalPages())}else{d.options.paginationCurrentPage++}},previousPage:function(){if(!d.options.enablePagination){return}d.options.paginationCurrentPage=Math.max(d.options.paginationCurrentPage-1,1)},seek:function(g){if(!d.options.enablePagination){return}if(!angular.isNumber(g)||g<1){throw"Invalid page number: "+g}d.options.paginationCurrentPage=Math.min(g,f.methods.pagination.getTotalPages())}}}};d.api.registerEventsFromObject(f.events);d.api.registerMethodsFromObject(f.methods);var e=function(h){if(d.options.useExternalPagination||!d.options.enablePagination){return h}var g=parseInt(d.options.paginationPageSize,10);var i=parseInt(d.options.paginationCurrentPage,10);var k=h.filter(function(l){return l.visible});d.options.totalItems=k.length;var j=(i-1)*g;if(j>k.length){i=d.options.paginationCurrentPage=1;j=(i-1)*g}return k.slice(j,j+g)};d.registerRowsProcessor(e,900)},defaultGridOptions:function(d){d.enablePagination=d.enablePagination!==false;d.enablePaginationControls=d.enablePaginationControls!==false;d.useExternalPagination=d.useExternalPagination===true;if(c.isNullOrUndefined(d.totalItems)){d.totalItems=0}if(c.isNullOrUndefined(d.paginationPageSizes)){d.paginationPageSizes=[250,500,1000]}if(c.isNullOrUndefined(d.paginationPageSize)){if(d.paginationPageSizes.length>0){d.paginationPageSize=d.paginationPageSizes[0]}else{d.paginationPageSize=0}}if(c.isNullOrUndefined(d.paginationCurrentPage)){d.paginationCurrentPage=1}if(c.isNullOrUndefined(d.paginationTemplate)){d.paginationTemplate="ui-grid/pagination"}},onPaginationChanged:function(e,f,d){e.api.pagination.raise.paginationChanged(f,d);if(!e.options.useExternalPagination){e.queueGridRefresh()}}};return b}]);a.directive("uiGridPagination",["gridUtil","uiGridPaginationService",function(c,b){return{priority:-200,scope:false,require:"uiGrid",link:{pre:function(e,d,g,f){b.initializeGrid(f.grid);c.getTemplate(f.grid.options.paginationTemplate).then(function(i){var h=angular.element(i);d.append(h);f.innerCompile(h)})}}}}]);a.directive("uiGridPager",["uiGridPaginationService","uiGridConstants","gridUtil","i18nService",function(d,c,e,b){return{priority:-200,scope:true,require:"^uiGrid",link:function(m,g,i,j){m.paginationApi=j.grid.api.pagination;m.sizesLabel=b.getSafeText("pagination.sizes");m.totalItemsLabel=b.getSafeText("pagination.totalItems");var n=j.grid.options;j.grid.renderContainers.body.registerViewportAdjuster(function(o){o.height=o.height-e.elementHeight(g);return o});var f=j.grid.registerDataChangeCallback(function(o){if(!o.options.useExternalPagination){o.options.totalItems=o.rows.length}},[c.dataChange.ROW]);m.$on("$destroy",f);var h=function(){m.showingLow=((n.paginationCurrentPage-1)*n.paginationPageSize)+1;m.showingHigh=Math.min(n.paginationCurrentPage*n.paginationPageSize,n.totalItems)};var k=m.$watch("grid.options.totalItems + grid.options.paginationPageSize",h);var l=m.$watch("grid.options.paginationCurrentPage + grid.options.paginationPageSize",function(p,o){if(p===o){return}if(!angular.isNumber(n.paginationCurrentPage)||n.paginationCurrentPage<1){n.paginationCurrentPage=1;return}if(n.totalItems>0&&n.paginationCurrentPage>m.paginationApi.getTotalPages()){n.paginationCurrentPage=m.paginationApi.getTotalPages();return}h();d.onPaginationChanged(m.grid,n.paginationCurrentPage,n.paginationPageSize)});m.$on("$destroy",function(){k();l()});m.cantPageForward=function(){if(n.totalItems>0){return n.paginationCurrentPage>=m.paginationApi.getTotalPages()}else{return n.data.length<1}};m.cantPageToLast=function(){if(n.totalItems>0){return m.cantPageForward()}else{return true}};m.cantPageBackward=function(){return n.paginationCurrentPage<=1}}}}])})();(function(){var a=angular.module("ui.grid.pinning",["ui.grid"]);a.constant("uiGridPinningConstants",{container:{LEFT:"left",RIGHT:"right",NONE:""}});a.service("uiGridPinningService",["gridUtil","GridRenderContainer","i18nService","uiGridPinningConstants",function(f,e,c,d){var b={initializeGrid:function(g){b.defaultGridOptions(g.options);g.registerColumnBuilder(b.pinningColumnBuilder);var h={events:{pinning:{columnPinned:function(j,i){}}},methods:{pinning:{pinColumn:function(j,i){b.pinColumn(g,j,i)}}}};g.api.registerEventsFromObject(h.events);g.api.registerMethodsFromObject(h.methods)},defaultGridOptions:function(g){g.enablePinning=g.enablePinning!==false},pinningColumnBuilder:function(j,i,k){j.enablePinning=j.enablePinning===undefined?k.enablePinning:j.enablePinning;if(j.pinnedLeft){i.renderContainer="left";i.grid.createLeftContainer()}else{if(j.pinnedRight){i.renderContainer="right";i.grid.createRightContainer()}}if(!j.enablePinning){return}var l={name:"ui.grid.pinning.pinLeft",title:c.get().pinning.pinLeft,icon:"ui-grid-icon-left-open",shown:function(){return typeof(this.context.col.renderContainer)==="undefined"||!this.context.col.renderContainer||this.context.col.renderContainer!=="left"},action:function(){b.pinColumn(this.context.col.grid,this.context.col,d.container.LEFT)}};var h={name:"ui.grid.pinning.pinRight",title:c.get().pinning.pinRight,icon:"ui-grid-icon-right-open",shown:function(){return typeof(this.context.col.renderContainer)==="undefined"||!this.context.col.renderContainer||this.context.col.renderContainer!=="right"},action:function(){b.pinColumn(this.context.col.grid,this.context.col,d.container.RIGHT)}};var g={name:"ui.grid.pinning.unpin",title:c.get().pinning.unpin,icon:"ui-grid-icon-cancel",shown:function(){return typeof(this.context.col.renderContainer)!=="undefined"&&this.context.col.renderContainer!==null&&this.context.col.renderContainer!=="body"},action:function(){b.pinColumn(this.context.col.grid,this.context.col,d.container.UNPIN)}};if(!f.arrayContainsObjectWithProperty(i.menuItems,"name","ui.grid.pinning.pinLeft")){i.menuItems.push(l)}if(!f.arrayContainsObjectWithProperty(i.menuItems,"name","ui.grid.pinning.pinRight")){i.menuItems.push(h)}if(!f.arrayContainsObjectWithProperty(i.menuItems,"name","ui.grid.pinning.unpin")){i.menuItems.push(g)}},pinColumn:function(i,h,g){if(g===d.container.NONE){h.renderContainer=null}else{h.renderContainer=g;if(g===d.container.LEFT){i.createLeftContainer()}else{if(g===d.container.RIGHT){i.createRightContainer()}}}i.refresh().then(function(){i.api.pinning.raise.columnPinned(h.colDef,g)})}};return b}]);a.directive("uiGridPinning",["gridUtil","uiGridPinningService",function(c,b){return{require:"uiGrid",scope:false,compile:function(){return{pre:function(f,e,d,g){b.initializeGrid(g.grid)},post:function(f,e,d,g){}}}}}])})();(function(){var a=angular.module("ui.grid.resizeColumns",["ui.grid"]);a.service("uiGridResizeColumnsService",["gridUtil","$q","$timeout",function(e,c,d){var b={defaultGridOptions:function(f){f.enableColumnResizing=f.enableColumnResizing!==false;if(f.enableColumnResize===false){f.enableColumnResizing=false}},colResizerColumnBuilder:function(h,f,i){var g=[];h.enableColumnResizing=h.enableColumnResizing===undefined?i.enableColumnResizing:h.enableColumnResizing;if(h.enableColumnResize===false){h.enableColumnResizing=false}return c.all(g)},registerPublicApi:function(f){var g={events:{colResizable:{columnSizeChanged:function(h,i){}}}};f.api.registerEventsFromObject(g.events)},fireColumnSizeChanged:function(f,g,h){d(function(){if(f.api.colResizable){f.api.colResizable.raise.columnSizeChanged(g,h)}else{e.logError("The resizeable api is not registered, this may indicate that you've included the module but not added the 'ui-grid-resize-columns' directive to your grid definition.  Cannot raise any events.")}})},findTargetCol:function(h,f,j){var i=h.getRenderContainer();if(f==="left"){var g=i.visibleColumnCache.indexOf(h);return i.visibleColumnCache[g-1*j]}else{return h}}};return b}]);a.directive("uiGridResizeColumns",["gridUtil","uiGridResizeColumnsService",function(c,b){return{replace:true,priority:0,require:"^uiGrid",scope:false,compile:function(){return{pre:function(f,e,d,g){b.defaultGridOptions(g.grid.options);g.grid.registerColumnBuilder(b.colResizerColumnBuilder);b.registerPublicApi(g.grid)},post:function(f,e,d,g){}}}}}]);a.directive("uiGridHeaderCell",["gridUtil","$templateCache","$compile","$q","uiGridResizeColumnsService","uiGridConstants","$timeout",function(h,c,g,d,f,b,e){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(r,m,q,o){var i=o.grid;if(i.options.enableColumnResizing){var k=c.get("ui-grid/columnResizer");var p=1;if(i.isRTL()){r.position="left";p=-1}var l=function(){var t=m[0].getElementsByClassName("ui-grid-column-resizer");for(var v=0;v<t.length;v++){angular.element(t[v]).remove()}var w=f.findTargetCol(r.col,"left",p);var u=r.col.getRenderContainer();if(w&&u.visibleColumnCache.indexOf(r.col)!==0&&w.colDef.enableColumnResizing!==false){var s=angular.element(k).clone();s.attr("position","left");m.prepend(s);g(s)(r)}if(r.col.colDef.enableColumnResizing!==false){var x=angular.element(k).clone();x.attr("position","right");m.append(x);g(x)(r)}};l();var n=function(){e(l)};var j=i.registerDataChangeCallback(n,[b.dataChange.COLUMN]);r.$on("$destroy",j)}}}}}}]);a.directive("uiGridColumnResizer",["$document","gridUtil","uiGridConstants","uiGridResizeColumnsService",function(f,e,b,d){var c=angular.element('<div class="ui-grid-resize-overlay"></div>');var g={priority:0,scope:{col:"=",position:"@",renderIndex:"="},require:"?^uiGrid",link:function(w,i,t,l){var j=0,q=0,k=0,o=1;if(l.grid.isRTL()){w.position="left";o=-1}if(w.position==="left"){i.addClass("left")}else{if(w.position==="right"){i.addClass("right")}}function p(x){l.grid.buildColumns().then(function(){l.grid.refreshCanvas(true).then(function(){l.grid.queueGridRefresh()})})}function v(x,y){var z=y;if(x.minWidth&&z<x.minWidth){z=x.minWidth}else{if(x.maxWidth&&z>x.maxWidth){z=x.maxWidth}}return z}function s(A,y){if(A.originalEvent){A=A.originalEvent}A.preventDefault();q=(A.targetTouches?A.targetTouches[0]:A).clientX-k;if(q<0){q=0}else{if(q>l.grid.gridWidth){q=l.grid.gridWidth}}var x=d.findTargetCol(w.col,w.position,o);if(x.colDef.enableColumnResizing===false){return}if(!l.grid.element.hasClass("column-resizing")){l.grid.element.addClass("column-resizing")}var B=q-j;var z=parseInt(x.drawnWidth+B*o,10);q=q+(v(x,z)-z)*o;c.css({left:q+"px"});l.fireEvent(b.events.ITEM_DRAGGING)}function n(A,y){if(A.originalEvent){A=A.originalEvent}A.preventDefault();l.grid.element.removeClass("column-resizing");c.remove();q=(A.changedTouches?A.changedTouches[0]:A).clientX-k;var B=q-j;if(B===0){u();m();return}var x=d.findTargetCol(w.col,w.position,o);if(x.colDef.enableColumnResizing===false){return}var z=parseInt(x.drawnWidth+B*o,10);x.width=v(x,z);p(B);d.fireColumnSizeChanged(l.grid,x.colDef,B);u();m()}var h=function(y,x){if(y.originalEvent){y=y.originalEvent}y.stopPropagation();k=l.grid.element[0].getBoundingClientRect().left;j=(y.targetTouches?y.targetTouches[0]:y).clientX-k;l.grid.element.append(c);c.css({left:j});if(y.type==="touchstart"){f.on("touchend",n);f.on("touchmove",s);i.off("mousedown",h)}else{f.on("mouseup",n);f.on("mousemove",s);i.off("touchstart",h)}};var m=function(){i.on("mousedown",h);i.on("touchstart",h)};var u=function(){f.off("mouseup",n);f.off("touchend",n);f.off("mousemove",s);f.off("touchmove",s);i.off("mousedown",h);i.off("touchstart",h)};m();var r=function(C,A){C.stopPropagation();var z=d.findTargetCol(w.col,w.position,o);if(z.colDef.enableColumnResizing===false){return}var B=0;var D=0;var x=e.closestElm(i,".ui-grid-render-container");var y=x.querySelectorAll("."+b.COL_CLASS_PREFIX+z.uid+" .ui-grid-cell-contents");Array.prototype.forEach.call(y,function(E){var F;if(angular.element(E).parent().hasClass("ui-grid-header-cell")){F=angular.element(E).parent()[0].querySelectorAll(".ui-grid-column-menu-button")}e.fakeElement(E,{},function(H){var J=angular.element(H);J.attr("style","float: left");var I=e.elementWidth(J);if(F){var G=e.elementWidth(F);I=I+G}if(I>B){B=I;D=B-I}})});z.width=v(z,B);p(D);d.fireColumnSizeChanged(l.grid,z.colDef,D)};i.on("dblclick",r);i.on("$destroy",function(){i.off("dblclick",r);u()})}};return g}])})();(function(){var a=angular.module("ui.grid.rowEdit",["ui.grid","ui.grid.edit","ui.grid.cellNav"]);a.constant("uiGridRowEditConstants",{});a.service("uiGridRowEditService",["$interval","$q","uiGridConstants","uiGridRowEditConstants","gridUtil",function(g,e,c,d,f){var b={initializeGrid:function(i,h){h.rowEdit={};var j={events:{rowEdit:{saveRow:function(k){}}},methods:{rowEdit:{setSavePromise:function(k,l){b.setSavePromise(h,k,l)},getDirtyRows:function(){return h.rowEdit.dirtyRows?h.rowEdit.dirtyRows:[]},getErrorRows:function(){return h.rowEdit.errorRows?h.rowEdit.errorRows:[]},flushDirtyRows:function(){return b.flushDirtyRows(h)},setRowsDirty:function(k){b.setRowsDirty(h,k)},setRowsClean:function(k){b.setRowsClean(h,k)}}}};h.api.registerEventsFromObject(j.events);h.api.registerMethodsFromObject(j.methods);h.api.core.on.renderingComplete(i,function(k){h.api.edit.on.afterCellEdit(i,b.endEditCell);h.api.edit.on.beginCellEdit(i,b.beginEditCell);h.api.edit.on.cancelCellEdit(i,b.cancelEditCell);if(h.api.cellNav){h.api.cellNav.on.navigate(i,b.navigate)}})},defaultGridOptions:function(h){},saveRow:function(i,j){var h=this;return function(){j.isSaving=true;if(j.rowEditSavePromise){return j.rowEditSavePromise}var k=i.api.rowEdit.raise.saveRow(j.entity);if(j.rowEditSavePromise){j.rowEditSavePromise.then(h.processSuccessPromise(i,j),h.processErrorPromise(i,j))}else{f.logError("A promise was not returned when saveRow event was raised, either nobody is listening to event, or event handler did not return a promise")}return k}},setSavePromise:function(h,i,k){var j=h.getRow(i);j.rowEditSavePromise=k},processSuccessPromise:function(i,j){var h=this;return function(){delete j.isSaving;delete j.isDirty;delete j.isError;delete j.rowEditSaveTimer;delete j.rowEditSavePromise;h.removeRow(i.rowEdit.errorRows,j);h.removeRow(i.rowEdit.dirtyRows,j)}},processErrorPromise:function(h,i){return function(){delete i.isSaving;delete i.rowEditSaveTimer;delete i.rowEditSavePromise;i.isError=true;if(!h.rowEdit.errorRows){h.rowEdit.errorRows=[]}if(!b.isRowPresent(h.rowEdit.errorRows,i)){h.rowEdit.errorRows.push(i)}}},removeRow:function(i,h){if(typeof(i)==="undefined"||i===null){return}i.forEach(function(k,j){if(k.uid===h.uid){i.splice(j,1)}})},isRowPresent:function(i,h){var j=false;i.forEach(function(l,k){if(l.uid===h.uid){j=true}});return j},flushDirtyRows:function(i){var h=[];i.rowEdit.dirtyRows.forEach(function(j){b.saveRow(i,j)();h.push(j.rowEditSavePromise)});return e.all(h)},endEditCell:function(l,j,k,h){var i=this.grid;var m=i.getRow(l);if(!m){f.logError("Unable to find rowEntity in grid data, dirty flag cannot be set");return}if(k!==h||m.isDirty){if(!i.rowEdit.dirtyRows){i.rowEdit.dirtyRows=[]}if(!m.isDirty){m.isDirty=true;i.rowEdit.dirtyRows.push(m)}delete m.isError;b.considerSetTimer(i,m)}},beginEditCell:function(j,i){var h=this.grid;var k=h.getRow(j);if(!k){f.logError("Unable to find rowEntity in grid data, timer cannot be cancelled");return}b.cancelTimer(h,k)},cancelEditCell:function(j,i){var h=this.grid;var k=h.getRow(j);if(!k){f.logError("Unable to find rowEntity in grid data, timer cannot be set");return}b.considerSetTimer(h,k)},navigate:function(j,i){var h=this.grid;if(j.row.rowEditSaveTimer){b.cancelTimer(h,j.row)}if(i&&i.row&&i.row!==j.row){b.considerSetTimer(h,i.row)}},considerSetTimer:function(i,j){b.cancelTimer(i,j);if(j.isDirty&&!j.isSaving){if(i.options.rowEditWaitInterval!==-1){var h=i.options.rowEditWaitInterval?i.options.rowEditWaitInterval:2000;j.rowEditSaveTimer=g(b.saveRow(i,j),h,1)}}},cancelTimer:function(h,i){if(i.rowEditSaveTimer&&!i.isSaving){g.cancel(i.rowEditSaveTimer);delete i.rowEditSaveTimer}},setRowsDirty:function(i,h){var j;h.forEach(function(l,k){j=i.getRow(l);if(j){if(!i.rowEdit.dirtyRows){i.rowEdit.dirtyRows=[]}if(!j.isDirty){j.isDirty=true;i.rowEdit.dirtyRows.push(j)}delete j.isError;b.considerSetTimer(i,j)}else{f.logError("requested row not found in rowEdit.setRowsDirty, row was: "+l)}})},setRowsClean:function(i,h){var j;h.forEach(function(l,k){j=i.getRow(l);if(j){delete j.isDirty;b.removeRow(i.rowEdit.dirtyRows,j);b.cancelTimer(i,j);delete j.isError;b.removeRow(i.rowEdit.errorRows,j)}else{f.logError("requested row not found in rowEdit.setRowsClean, row was: "+l)}})}};return b}]);a.directive("uiGridRowEdit",["gridUtil","uiGridRowEditService","uiGridEditConstants",function(d,b,c){return{replace:true,priority:0,require:"^uiGrid",scope:false,compile:function(){return{pre:function(g,f,e,h){b.initializeGrid(g,h.grid)},post:function(g,f,e,h){}}}}}]);a.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(c,b,e,d){return{priority:-200,scope:false,compile:function(h,f){var g=angular.element(h.children().children()[0]);var i=g.attr("ng-class");var j="";if(i){j=i.slice(0,-1)+", 'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}"}else{j="{'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}"}g.attr("ng-class",j);return{pre:function(m,l,k,n){},post:function(m,l,k,n){}}}}}])})();(function(){var a=angular.module("ui.grid.saveState",["ui.grid","ui.grid.selection","ui.grid.cellNav","ui.grid.grouping","ui.grid.pinning","ui.grid.treeView"]);a.constant("uiGridSaveStateConstants",{featureName:"saveState"});a.service("uiGridSaveStateService",["$q","uiGridSaveStateConstants","gridUtil","$compile","$interval","uiGridConstants",function(d,f,h,e,g,c){var b={initializeGrid:function(i){i.saveState={};this.defaultGridOptions(i.options);var j={events:{saveState:{}},methods:{saveState:{save:function(){return b.save(i)},restore:function(k,l){b.restore(i,k,l)}}}};i.api.registerEventsFromObject(j.events);i.api.registerMethodsFromObject(j.methods)},defaultGridOptions:function(i){i.saveWidths=i.saveWidths!==false;i.saveOrder=i.saveOrder!==false;i.saveScroll=i.saveScroll===true;i.saveFocus=i.saveScroll!==true&&i.saveFocus!==false;i.saveVisible=i.saveVisible!==false;i.saveSort=i.saveSort!==false;i.saveFilter=i.saveFilter!==false;i.saveSelection=i.saveSelection!==false;i.saveGrouping=i.saveGrouping!==false;i.saveGroupingExpandedStates=i.saveGroupingExpandedStates===true;i.savePinning=i.savePinning!==false;i.saveTreeView=i.saveTreeView!==false},save:function(i){var j={};j.columns=b.saveColumns(i);j.scrollFocus=b.saveScrollFocus(i);j.selection=b.saveSelection(i);j.grouping=b.saveGrouping(i);j.treeView=b.saveTreeView(i);return j},restore:function(j,i,k){if(k.columns){b.restoreColumns(j,k.columns)}if(k.scrollFocus){b.restoreScrollFocus(j,i,k.scrollFocus)}if(k.selection){b.restoreSelection(j,k.selection)}if(k.grouping){b.restoreGrouping(j,k.grouping)}if(k.treeView){b.restoreTreeView(j,k.treeView)}j.refresh()},saveColumns:function(j){var i=[];j.getOnlyDataColumns().forEach(function(l){var k={};k.name=l.name;if(j.options.saveVisible){k.visible=l.visible}if(j.options.saveWidths){k.width=l.width}if(j.options.saveSort){k.sort=angular.copy(l.sort)}if(j.options.saveFilter){k.filters=[];l.filters.forEach(function(m){var n={};angular.forEach(m,function(p,o){if(o!=="condition"&&o!=="$$hashKey"&&o!=="placeholder"){n[o]=p}});k.filters.push(n)})}if(!!j.api.pinning&&j.options.savePinning){k.pinned=l.renderContainer?l.renderContainer:""}i.push(k)});return i},saveScrollFocus:function(i){if(!i.api.cellNav){return{}}var k={};if(i.options.saveFocus){k.focus=true;var j=i.api.cellNav.getFocusedCell();if(j!==null){if(j.col!==null){k.colName=j.col.colDef.name}if(j.row!==null){k.rowVal=b.getRowVal(i,j.row)}}}if(i.options.saveScroll||i.options.saveFocus&&!k.colName&&!k.rowVal){k.focus=false;if(i.renderContainers.body.prevRowScrollIndex){k.rowVal=b.getRowVal(i,i.renderContainers.body.visibleRowCache[i.renderContainers.body.prevRowScrollIndex])}if(i.renderContainers.body.prevColScrollIndex){k.colName=i.renderContainers.body.visibleColumnCache[i.renderContainers.body.prevColScrollIndex].name}}return k},saveSelection:function(i){if(!i.api.selection||!i.options.saveSelection){return[]}var j=i.api.selection.getSelectedGridRows().map(function(k){return b.getRowVal(i,k)});return j},saveGrouping:function(i){if(!i.api.grouping||!i.options.saveGrouping){return{}}return i.api.grouping.getGrouping(i.options.saveGroupingExpandedStates)},saveTreeView:function(i){if(!i.api.treeView||!i.options.saveTreeView){return{}}return i.api.treeView.getTreeView()},getRowVal:function(j,k){if(!k){return null}var i={};if(j.options.saveRowIdentity){i.identity=true;i.row=j.options.saveRowIdentity(k.entity)}else{i.identity=false;i.row=j.renderContainers.body.visibleRowCache.indexOf(k)}return i},restoreColumns:function(i,j){j.forEach(function(o,l){var n=i.getColumn(o.name);if(n&&!i.isRowHeaderColumn(n)){if(i.options.saveVisible&&(n.visible!==o.visible||n.colDef.visible!==o.visible)){n.visible=o.visible;n.colDef.visible=o.visible;i.api.core.raise.columnVisibilityChanged(n)}if(i.options.saveWidths){n.width=o.width}if(i.options.saveSort&&!angular.equals(n.sort,o.sort)&&!(n.sort===undefined&&angular.isEmpty(o.sort))){n.sort=angular.copy(o.sort);i.api.core.raise.sortChanged()}if(i.options.saveFilter&&!angular.equals(n.filters,o.filters)){o.filters.forEach(function(q,p){angular.extend(n.filters[p],q);if(typeof(q.term)==="undefined"||q.term===null){delete n.filters[p].term}});i.api.core.raise.filterChanged()}if(!!i.api.pinning&&i.options.savePinning&&n.renderContainer!==o.pinned){i.api.pinning.pinColumn(n,o.pinned)}var k=i.getOnlyDataColumns().indexOf(n);if(k!==-1){if(i.options.saveOrder&&k!==l){var m=i.columns.splice(k+i.rowHeaderColumns.length,1)[0];i.columns.splice(l+i.rowHeaderColumns.length,0,m)}}}})},restoreScrollFocus:function(m,l,k){if(!m.api.cellNav){return}var n,o;if(k.colName){var j=m.options.columnDefs.filter(function(p){return p.name===k.colName});if(j.length>0){n=j[0]}}if(k.rowVal&&k.rowVal.row){if(k.rowVal.identity){o=b.findRowByIdentity(m,k.rowVal)}else{o=m.renderContainers.body.visibleRowCache[k.rowVal.row]}}var i=o&&o.entity?o.entity:null;if(n||i){if(k.focus){m.api.cellNav.scrollToFocus(i,n)}else{m.scrollTo(i,n)}}},restoreSelection:function(j,i){if(!j.api.selection){return}j.api.selection.clearSelectedRows();i.forEach(function(k){if(k.identity){var l=b.findRowByIdentity(j,k);if(l){j.api.selection.selectRow(l.entity)}}else{j.api.selection.selectRowByVisibleIndex(k.row)}})},restoreGrouping:function(i,j){if(!i.api.grouping||typeof(j)==="undefined"||j===null||angular.equals(j,{})){return}i.api.grouping.setGrouping(j)},restoreTreeView:function(j,i){if(!j.api.treeView||typeof(i)==="undefined"||i===null||angular.equals(i,{})){return}j.api.treeView.setTreeView(i)},findRowByIdentity:function(j,i){if(!j.options.saveRowIdentity){return null}var k=j.rows.filter(function(l){if(j.options.saveRowIdentity(l.entity)===i.row){return true}else{return false}});if(k.length>0){return k[0]}else{return null}}};return b}]);a.directive("uiGridSaveState",["uiGridSaveStateConstants","uiGridSaveStateService","gridUtil","$compile",function(d,c,e,b){return{replace:true,priority:0,require:"^uiGrid",scope:false,link:function(h,g,f,i){c.initializeGrid(i.grid)}}}])})();(function(){var a=angular.module("ui.grid.selection",["ui.grid"]);a.constant("uiGridSelectionConstants",{featureName:"selection",selectionRowHeaderColName:"selectionRowHeaderCol"});angular.module("ui.grid").config(["$provide",function(b){b.decorator("GridRow",["$delegate",function(c){c.prototype.setSelected=function(d){this.isSelected=d;if(d){this.grid.selection.selectedCount++}else{this.grid.selection.selectedCount--}};return c}])}]);a.service("uiGridSelectionService",["$q","$templateCache","uiGridSelectionConstants","gridUtil",function(d,c,f,e){var b={initializeGrid:function(g){g.selection={};g.selection.lastSelectedRow=null;g.selection.selectAll=false;g.selection.selectedCount=0;b.defaultGridOptions(g.options);var h={events:{selection:{rowSelectionChanged:function(j,k,i){},rowSelectionChangedBatch:function(j,k,i){}}},methods:{selection:{toggleRowSelection:function(j,i){var k=g.getRow(j);if(k!==null){b.toggleRowSelection(g,k,i,g.options.multiSelect,g.options.noUnselect)}},selectRow:function(j,i){var k=g.getRow(j);if(k!==null&&!k.isSelected){b.toggleRowSelection(g,k,i,g.options.multiSelect,g.options.noUnselect)}},selectRowByVisibleIndex:function(k,i){var j=g.renderContainers.body.visibleRowCache[k];if(j!==null&&typeof(j)!=="undefined"&&!j.isSelected){b.toggleRowSelection(g,j,i,g.options.multiSelect,g.options.noUnselect)}},unSelectRow:function(j,i){var k=g.getRow(j);if(k!==null&&k.isSelected){b.toggleRowSelection(g,k,i,g.options.multiSelect,g.options.noUnselect)}},selectAllRows:function(i){if(g.options.multiSelect===false){return}var j=[];g.rows.forEach(function(k){if(!k.isSelected&&k.enableSelection!==false){k.setSelected(true);b.decideRaiseSelectionEvent(g,k,j,i)}});b.decideRaiseSelectionBatchEvent(g,j,i);g.selection.selectAll=true},selectAllVisibleRows:function(i){if(g.options.multiSelect===false){return}var j=[];g.rows.forEach(function(k){if(k.visible){if(!k.isSelected&&k.enableSelection!==false){k.setSelected(true);b.decideRaiseSelectionEvent(g,k,j,i)}}else{if(k.isSelected){k.setSelected(false);b.decideRaiseSelectionEvent(g,k,j,i)}}});b.decideRaiseSelectionBatchEvent(g,j,i);g.selection.selectAll=true},clearSelectedRows:function(i){b.clearSelectedRows(g,i)},getSelectedRows:function(){return b.getSelectedRows(g).map(function(i){return i.entity})},getSelectedGridRows:function(){return b.getSelectedRows(g)},setMultiSelect:function(i){g.options.multiSelect=i},setModifierKeysToMultiSelect:function(i){g.options.modifierKeysToMultiSelect=i},getSelectAllState:function(){return g.selection.selectAll}}}};g.api.registerEventsFromObject(h.events);g.api.registerMethodsFromObject(h.methods)},defaultGridOptions:function(g){g.enableRowSelection=g.enableRowSelection!==false;g.multiSelect=g.multiSelect!==false;g.noUnselect=g.noUnselect===true;g.modifierKeysToMultiSelect=g.modifierKeysToMultiSelect===true;g.enableRowHeaderSelection=g.enableRowHeaderSelection!==false;if(typeof(g.enableFullRowSelection)==="undefined"){g.enableFullRowSelection=!g.enableRowHeaderSelection}g.enableSelectAll=g.enableSelectAll!==false;g.enableSelectionBatchEvent=g.enableSelectionBatchEvent!==false;g.selectionRowHeaderWidth=angular.isDefined(g.selectionRowHeaderWidth)?g.selectionRowHeaderWidth:30;g.enableFooterTotalSelected=g.enableFooterTotalSelected!==false;g.isRowSelectable=angular.isDefined(g.isRowSelectable)?g.isRowSelectable:angular.noop},toggleRowSelection:function(h,m,g,l,j){var i=m.isSelected;if(m.enableSelection===false&&!i){return}if(!l&&!i){b.clearSelectedRows(h,g)}else{if(!l&&i){var k=b.getSelectedRows(h);if(k.length>1){i=false;b.clearSelectedRows(h,g)}}}if(i&&j){}else{m.setSelected(!i);if(m.isSelected===true){h.selection.lastSelectedRow=m}else{h.selection.selectAll=false}h.api.selection.raise.rowSelectionChanged(m,g)}},shiftSelect:function(g,q,p,j){if(!j){return}var k=b.getSelectedRows(g);var h=k.length>0?g.renderContainers.body.visibleRowCache.indexOf(g.selection.lastSelectedRow):0;var r=g.renderContainers.body.visibleRowCache.indexOf(q);if(h>r){var n=h;h=r;r=n}var o=[];for(var m=h;m<=r;m++){var l=g.renderContainers.body.visibleRowCache[m];if(l){if(!l.isSelected&&l.enableSelection!==false){l.setSelected(true);g.selection.lastSelectedRow=l;b.decideRaiseSelectionEvent(g,l,o,p)}}}b.decideRaiseSelectionBatchEvent(g,o,p)},getSelectedRows:function(g){return g.rows.filter(function(h){return h.isSelected})},clearSelectedRows:function(i,g){var h=[];b.getSelectedRows(i).forEach(function(j){if(j.isSelected){j.setSelected(false);b.decideRaiseSelectionEvent(i,j,h,g)}});b.decideRaiseSelectionBatchEvent(i,h,g);i.selection.selectAll=false},decideRaiseSelectionEvent:function(i,j,h,g){if(!i.options.enableSelectionBatchEvent){i.api.selection.raise.rowSelectionChanged(j,g)}else{h.push(j)}},decideRaiseSelectionBatchEvent:function(i,h,g){if(h.length>0){i.api.selection.raise.rowSelectionChangedBatch(h,g)}}};return b}]);a.directive("uiGridSelection",["uiGridSelectionConstants","uiGridSelectionService","$templateCache","uiGridConstants",function(e,d,c,b){return{replace:true,priority:0,require:"^uiGrid",scope:false,compile:function(){return{pre:function(m,h,l,i){d.initializeGrid(i.grid);if(i.grid.options.enableRowHeaderSelection){var k={name:e.selectionRowHeaderColName,displayName:"",width:i.grid.options.selectionRowHeaderWidth,minWidth:10,cellTemplate:"ui-grid/selectionRowHeader",headerCellTemplate:"ui-grid/selectionHeaderCell",enableColumnResizing:false,enableColumnMenu:false,exporterSuppressExport:true,allowCellFocus:true};i.grid.addRowHeaderColumn(k)}var j=false;var n=function(o){o.forEach(function(p){p.enableSelection=i.grid.options.isRowSelectable(p)});return o};var g=function(){if(i.grid.options.isRowSelectable!==angular.noop&&j!==true){i.grid.registerRowsProcessor(n,500);j=true}};g();var f=i.grid.registerDataChangeCallback(g,[b.dataChange.OPTIONS]);m.$on("$destroy",f)},post:function(h,g,f,i){}}}}}]);a.directive("uiGridSelectionRowHeaderButtons",["$templateCache","uiGridSelectionService","gridUtil",function(b,c,d){return{replace:true,restrict:"E",template:b.get("ui-grid/selectionRowHeaderButtons"),scope:true,require:"^uiGrid",link:function(i,f,e,j){var h=j.grid;i.selectButtonClick=k;if(d.detectBrowser()==="ie"){f.on("mousedown",g)}function k(m,l){l.stopPropagation();if(l.shiftKey){c.shiftSelect(h,m,l,h.options.multiSelect)}else{if(l.ctrlKey||l.metaKey){c.toggleRowSelection(h,m,l,h.options.multiSelect,h.options.noUnselect)}else{c.toggleRowSelection(h,m,l,(h.options.multiSelect&&!h.options.modifierKeysToMultiSelect),h.options.noUnselect)}}}function g(l){if(l.ctrlKey||l.shiftKey){l.target.onselectstart=function(){return false};window.setTimeout(function(){l.target.onselectstart=null},0)}}}}}]);a.directive("uiGridSelectionSelectAllButtons",["$templateCache","uiGridSelectionService",function(b,c){return{replace:true,restrict:"E",template:b.get("ui-grid/selectionSelectAllButtons"),scope:false,link:function(g,e,d,h){var f=g.col.grid;g.headerButtonClick=function(j,i){if(f.selection.selectAll){c.clearSelectedRows(f,i);if(f.options.noUnselect){f.api.selection.selectRowByVisibleIndex(0,i)}f.selection.selectAll=false}else{if(f.options.multiSelect){f.api.selection.selectAllVisibleRows(i);f.selection.selectAll=true}}}}}}]);a.directive("uiGridViewport",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService",function(d,b,g,f,e,c){return{priority:-200,scope:false,compile:function(j,h){var i=angular.element(j.children().children()[0]);var k=i.attr("ng-class");var l="";if(k){l=k.slice(0,-1)+",'ui-grid-row-selected': row.isSelected}"}else{l="{'ui-grid-row-selected': row.isSelected}"}i.attr("ng-class",l);return{pre:function(o,n,m,p){},post:function(o,n,m,p){}}}}}]);a.directive("uiGridCell",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService","$timeout",function(e,b,h,g,f,c,d){return{priority:-200,restrict:"A",require:"?^uiGrid",scope:false,link:function(t,n,r,q){var p=0;var l=300;if(q.grid.api.cellNav){q.grid.api.cellNav.on.viewPortKeyDown(t,function(u,v){if(v===null||v.row!==t.row||v.col!==t.col){return}if(u.keyCode===32&&t.col.colDef.name==="selectionRowHeaderCol"){c.toggleRowSelection(t.grid,t.row,u,(t.grid.options.multiSelect&&!t.grid.options.modifierKeysToMultiSelect),t.grid.options.noUnselect);t.$apply()}})}var k=function(u){n.off("touchend",s);if(u.shiftKey){c.shiftSelect(t.grid,t.row,u,t.grid.options.multiSelect)}else{if(u.ctrlKey||u.metaKey){c.toggleRowSelection(t.grid,t.row,u,t.grid.options.multiSelect,t.grid.options.noUnselect)}else{c.toggleRowSelection(t.grid,t.row,u,(t.grid.options.multiSelect&&!t.grid.options.modifierKeysToMultiSelect),t.grid.options.noUnselect)}}t.$apply();d(function(){n.on("touchend",s)},l)};var m=function(u){p=(new Date()).getTime();n.off("click",k)};var s=function(u){var w=(new Date()).getTime();var v=w-p;if(v<l){k(u)}d(function(){n.on("click",k)},l)};function o(){if(t.grid.options.enableRowSelection&&t.grid.options.enableFullRowSelection){n.addClass("ui-grid-disable-selection");n.on("touchstart",m);n.on("touchend",s);n.on("click",k);t.registered=true}}function j(){if(t.registered){n.removeClass("ui-grid-disable-selection");n.off("touchstart",m);n.off("touchend",s);n.off("click",k);t.registered=false}}o();var i=t.grid.registerDataChangeCallback(function(){if(t.grid.options.enableRowSelection&&t.grid.options.enableFullRowSelection&&!t.registered){o()}else{if((!t.grid.options.enableRowSelection||!t.grid.options.enableFullRowSelection)&&t.registered){j()}}},[b.dataChange.OPTIONS]);n.on("$destroy",i)}}}]);a.directive("uiGridGridFooter",["$compile","uiGridConstants","gridUtil",function(c,b,d){return{restrict:"EA",replace:true,priority:-1000,require:"^uiGrid",scope:true,compile:function(f,e){return{pre:function(i,h,g,j){if(!j.grid.options.showGridFooter){return}d.getTemplate("ui-grid/gridFooterSelectedItems").then(function(m){var l=angular.element(m);var k=c(l)(i);angular.element(h[0].getElementsByClassName("ui-grid-grid-footer")[0]).append(k)})},post:function(i,h,g,j){}}}}}])})();(function(){var a=angular.module("ui.grid.treeBase",["ui.grid"]);a.constant("uiGridTreeBaseConstants",{featureName:"treeBase",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}});a.service("uiGridTreeBaseService",["$q","uiGridTreeBaseConstants","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants","rowSorter",function(g,b,j,d,i,e,h,c){var f={initializeGrid:function(l,k){l.treeBase={};l.treeBase.numberLevels=0;l.treeBase.expandAll=false;l.treeBase.tree={};f.defaultGridOptions(l.options);l.registerRowsProcessor(f.treeRows,410);l.registerColumnBuilder(f.treeBaseColumnBuilder);f.createRowHeader(l);var m={events:{treeBase:{rowExpanded:{},rowCollapsed:{}}},methods:{treeBase:{expandAllRows:function(){f.expandAllRows(l)},collapseAllRows:function(){f.collapseAllRows(l)},toggleRowTreeState:function(n){f.toggleRowTreeState(l,n)},expandRow:function(n){f.expandRow(l,n)},expandRowChildren:function(n){f.expandRowChildren(l,n)},collapseRow:function(n){f.collapseRow(l,n)},collapseRowChildren:function(n){f.collapseRowChildren(l,n)},getTreeExpandedState:function(){return{expandedState:f.getTreeState(l)}},setTreeState:function(n){f.setTreeState(l,n)},getRowChildren:function(n){return n.treeNode.children.map(function(o){return o.row})}}}};l.api.registerEventsFromObject(m.events);l.api.registerMethodsFromObject(m.methods)},defaultGridOptions:function(k){k.treeRowHeaderBaseWidth=k.treeRowHeaderBaseWidth||30;k.treeIndent=k.treeIndent||10;k.showTreeRowHeader=k.showTreeRowHeader!==false;k.showTreeExpandNoChildren=k.showTreeExpandNoChildren!==false;k.treeRowHeaderAlwaysVisible=k.treeRowHeaderAlwaysVisible!==false;k.treeCustomAggregations=k.treeCustomAggregations||{}},treeBaseColumnBuilder:function(l,k,m){if(typeof(l.customTreeAggregationFn)!=="undefined"){k.treeAggregationFn=l.customTreeAggregationFn}if(typeof(l.treeAggregationType)!=="undefined"){k.treeAggregation={type:l.treeAggregationType};if(typeof(m.treeCustomAggregations[l.treeAggregationType])!=="undefined"){k.treeAggregationFn=m.treeCustomAggregations[l.treeAggregationType].aggregationFn;k.treeAggregationFinalizerFn=m.treeCustomAggregations[l.treeAggregationType].finalizerFn;k.treeAggregation.label=m.treeCustomAggregations[l.treeAggregationType].label}else{if(typeof(f.nativeAggregations()[l.treeAggregationType])!=="undefined"){k.treeAggregationFn=f.nativeAggregations()[l.treeAggregationType].aggregationFn;k.treeAggregation.label=f.nativeAggregations()[l.treeAggregationType].label}}}if(typeof(l.treeAggregationLabel)!=="undefined"){if(typeof(k.treeAggregation)==="undefined"){k.treeAggregation={}}k.treeAggregation.label=l.treeAggregationLabel}k.treeAggregationUpdateEntity=l.treeAggregationUpdateEntity!==false;if(typeof(k.customTreeAggregationFinalizerFn)==="undefined"){k.customTreeAggregationFinalizerFn=l.customTreeAggregationFinalizerFn}},createRowHeader:function(k){var l={name:b.rowHeaderColName,displayName:"",width:k.options.treeRowHeaderBaseWidth,minWidth:10,cellTemplate:"ui-grid/treeBaseRowHeader",headerCellTemplate:"ui-grid/treeBaseHeaderCell",enableColumnResizing:false,enableColumnMenu:false,exporterSuppressExport:true,allowCellFocus:true};l.visible=k.options.treeRowHeaderAlwaysVisible;k.addRowHeaderColumn(l)},expandAllRows:function(k){k.treeBase.tree.forEach(function(l){f.setAllNodes(k,l,b.EXPANDED)});k.treeBase.expandAll=true;k.queueGridRefresh()},collapseAllRows:function(k){k.treeBase.tree.forEach(function(l){f.setAllNodes(k,l,b.COLLAPSED)});k.treeBase.expandAll=false;k.queueGridRefresh()},setAllNodes:function(k,m,l){if(typeof(m.state)!=="undefined"&&m.state!==l){m.state=l;if(l===b.EXPANDED){k.api.treeBase.raise.rowExpanded(m.row)}else{k.api.treeBase.raise.rowCollapsed(m.row)}}if(m.children){m.children.forEach(function(n){f.setAllNodes(k,n,l)})}},toggleRowTreeState:function(k,l){if(typeof(l.treeLevel)==="undefined"||l.treeLevel===null||l.treeLevel<0){return}if(l.treeNode.state===b.EXPANDED){f.collapseRow(k,l)}else{f.expandRow(k,l)}k.queueGridRefresh()},expandRow:function(k,l){if(typeof(l.treeLevel)==="undefined"||l.treeLevel===null||l.treeLevel<0){return}if(l.treeNode.state!==b.EXPANDED){l.treeNode.state=b.EXPANDED;k.api.treeBase.raise.rowExpanded(l);k.treeBase.expandAll=f.allExpanded(k.treeBase.tree);k.queueGridRefresh()}},expandRowChildren:function(k,l){if(typeof(l.treeLevel)==="undefined"||l.treeLevel===null||l.treeLevel<0){return}f.setAllNodes(k,l.treeNode,b.EXPANDED);k.treeBase.expandAll=f.allExpanded(k.treeBase.tree);k.queueGridRefresh()},collapseRow:function(k,l){if(typeof(l.treeLevel)==="undefined"||l.treeLevel===null||l.treeLevel<0){return}if(l.treeNode.state!==b.COLLAPSED){l.treeNode.state=b.COLLAPSED;k.treeBase.expandAll=false;k.api.treeBase.raise.rowCollapsed(l);k.queueGridRefresh()}},collapseRowChildren:function(k,l){if(typeof(l.treeLevel)==="undefined"||l.treeLevel===null||l.treeLevel<0){return}f.setAllNodes(k,l.treeNode,b.COLLAPSED);k.treeBase.expandAll=false;k.queueGridRefresh()},allExpanded:function(k){var l=true;k.forEach(function(m){if(!f.allExpandedInternal(m)){l=false}});return l},allExpandedInternal:function(k){if(k.children&&k.children.length>0){if(k.state===b.COLLAPSED){return false}var l=true;k.children.forEach(function(m){if(!f.allExpandedInternal(m)){l=false}});return l}else{return true}},treeRows:function(m){if(m.length===0){return m}var l=this;var o=0;var n=b.EXPANDED;var k=[];l.treeBase.tree=f.createTree(l,m);f.updateRowHeaderWidth(l);f.sortTree(l);f.fixFilter(l);return f.renderTree(l.treeBase.tree)},updateRowHeaderWidth:function(k){var l=k.getColumn(b.rowHeaderColName);var m=k.options.treeRowHeaderBaseWidth+k.options.treeIndent*Math.max(k.treeBase.numberLevels-1,0);if(l&&m!==l.width){l.width=m;k.queueRefresh()}var n=true;if(k.options.showTreeRowHeader===false){n=false}if(k.options.treeRowHeaderAlwaysVisible===false&&k.treeBase.numberLevels<=0){n=false}if(l.visible!==n){l.visible=n;l.colDef.visible=n;k.queueGridRefresh()}},renderTree:function(k){var l=[];k.forEach(function(m){if(m.row.visible){l.push(m.row)}if(m.state===b.EXPANDED&&m.children&&m.children.length>0){l=l.concat(f.renderTree(m.children))}});return l},createTree:function(o,n){var r=-1;var m=[];var p;o.treeBase.tree=[];o.treeBase.numberLevels=0;var l=f.getAggregations(o);var q=function(t){if(typeof(t.entity.$$treeLevel)!=="undefined"&&t.treeLevel!==t.entity.$$treeLevel){t.treeLevel=t.entity.$$treeLevel}if(t.treeLevel<=r){while(t.treeLevel<=r){var s=m.pop();f.finaliseAggregations(s);r--}if(m.length>0){p=f.setCurrentState(m)}else{p=b.EXPANDED}}if((typeof(t.treeLevel)==="undefined"||t.treeLevel===null||t.treeLevel<0)&&t.visible){f.aggregate(o,t,m)}f.addOrUseNode(o,t,m,l);if(typeof(t.treeLevel)!=="undefined"&&t.treeLevel!==null&&t.treeLevel>=0){m.push(t);r++;p=f.setCurrentState(m)}if(o.treeBase.numberLevels<t.treeLevel+1){o.treeBase.numberLevels=t.treeLevel+1}};n.forEach(q);while(m.length>0){var k=m.pop();f.finaliseAggregations(k)}return o.treeBase.tree},addOrUseNode:function(n,p,l,k){var o=[];k.forEach(function(q){o.push(f.buildAggregationObject(q.col))});var m={state:b.COLLAPSED,row:p,parentRow:null,aggregations:o,children:[]};if(p.treeNode){m.state=p.treeNode.state}if(l.length>0){m.parentRow=l[l.length-1]}p.treeNode=m;if(l.length===0){n.treeBase.tree.push(m)}else{l[l.length-1].treeNode.children.push(m)}},setCurrentState:function(k){var l=b.EXPANDED;k.forEach(function(m){if(m.treeNode.state===b.COLLAPSED){l=b.COLLAPSED}});return l},sortTree:function(k){k.columns.forEach(function(l){if(l.sort&&l.sort.ignoreSort){delete l.sort.ignoreSort}});k.treeBase.tree=f.sortInternal(k,k.treeBase.tree)},sortInternal:function(k,n){var m=n.map(function(o){return o.row});m=c.sort(k,m,k.columns);var l=m.map(function(o){return o.treeNode});l.forEach(function(o){if(o.state===b.EXPANDED&&o.children&&o.children.length>0){o.children=f.sortInternal(k,o.children)}});return l},fixFilter:function(l){var k;l.treeBase.tree.forEach(function(m){if(m.children&&m.children.length>0){k=m.row.visible;f.fixFilterInternal(m.children,k)}})},fixFilterInternal:function(k,l){k.forEach(function(m){if(m.row.visible&&!l){f.setParentsVisible(m);l=true}if(m.children&&m.children.length>0){if(f.fixFilterInternal(m.children,(l&&m.row.visible))){l=true}}});return l},setParentsVisible:function(k){while(k.parentRow){k.parentRow.visible=true;k=k.parentRow.treeNode}},buildAggregationObject:function(k){var l={col:k};if(k.treeAggregation&&k.treeAggregation.type){l.type=k.treeAggregation.type}if(k.treeAggregation&&k.treeAggregation.label){l.label=k.treeAggregation.label}return l},getAggregations:function(k){var l=[];k.columns.forEach(function(m){if(typeof(m.treeAggregationFn)!=="undefined"){l.push(f.buildAggregationObject(m))}});return l},aggregate:function(l,m,k){if(k.length===0){return}k.forEach(function(n){if(n.treeNode.aggregations){n.treeNode.aggregations.forEach(function(p){var o=l.getCellValue(m,p.col);var q=Number(o);p.col.treeAggregationFn(p,o,q,m)})}})},nativeAggregations:function(){var k={count:{label:e.get().aggregation.count,menuTitle:e.get().grouping.aggregate_count,aggregationFn:function(m,l,n){if(typeof(m.value)==="undefined"){m.value=1}else{m.value++}}},sum:{label:e.get().aggregation.sum,menuTitle:e.get().grouping.aggregate_sum,aggregationFn:function(m,l,n){if(!isNaN(n)){if(typeof(m.value)==="undefined"){m.value=n}else{m.value+=n}}}},min:{label:e.get().aggregation.min,menuTitle:e.get().grouping.aggregate_min,aggregationFn:function(m,l,n){if(typeof(m.value)==="undefined"){m.value=l}else{if(typeof(l)!=="undefined"&&l!==null&&(l<m.value||m.value===null)){m.value=l}}}},max:{label:e.get().aggregation.max,menuTitle:e.get().grouping.aggregate_max,aggregationFn:function(m,l,n){if(typeof(m.value)==="undefined"){m.value=l}else{if(typeof(l)!=="undefined"&&l!==null&&(l>m.value||m.value===null)){m.value=l}}}},avg:{label:e.get().aggregation.avg,menuTitle:e.get().grouping.aggregate_avg,aggregationFn:function(m,l,n){if(typeof(m.count)==="undefined"){m.count=1}else{m.count++}if(isNaN(n)){return}if(typeof(m.value)==="undefined"||typeof(m.sum)==="undefined"){m.value=n;m.sum=n}else{m.sum+=n;m.value=m.sum/m.count}}}};return k},finaliseAggregations:function(k){if(typeof(k.treeNode.aggregations)==="undefined"){return}k.treeNode.aggregations.forEach(function(m){if(m.col.treeAggregationUpdateEntity&&typeof(k.entity["$$"+m.col.uid])!=="undefined"){angular.extend(m,k.entity["$$"+m.col.uid])}if(typeof(m.col.treeAggregationFinalizerFn)==="function"){m.col.treeAggregationFinalizerFn(m)}if(typeof(m.col.customTreeAggregationFinalizerFn)==="function"){m.col.customTreeAggregationFinalizerFn(m)}if(typeof(m.rendered)==="undefined"){m.rendered=m.label?m.label+m.value:m.value}if(m.col.treeAggregationUpdateEntity){var l={};angular.forEach(m,function(o,n){if(m.hasOwnProperty(n)&&n!=="col"){l[n]=o}});k.entity["$$"+m.col.uid]=l}})}};return f}]);a.directive("uiGridTreeBaseRowHeaderButtons",["$templateCache","uiGridTreeBaseService",function(b,c){return{replace:true,restrict:"E",template:b.get("ui-grid/treeBaseRowHeaderButtons"),scope:true,require:"^uiGrid",link:function(g,e,d,h){var f=h.grid;g.treeButtonClick=function(j,i){c.toggleRowTreeState(f,j,i)}}}}]);a.directive("uiGridTreeBaseExpandAllButtons",["$templateCache","uiGridTreeBaseService",function(b,c){return{replace:true,restrict:"E",template:b.get("ui-grid/treeBaseExpandAllButtons"),scope:false,link:function(g,e,d,h){var f=g.col.grid;g.headerButtonClick=function(j,i){if(f.treeBase.expandAll){c.collapseAllRows(f,i)}else{c.expandAllRows(f,i)}}}}}]);a.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(c,b,e,d){return{priority:-200,scope:false,compile:function(h,f){var g=angular.element(h.children().children()[0]);var i=g.attr("ng-class");var j="";if(i){j=i.slice(0,-1)+",'ui-grid-tree-header-row': row.treeLevel > -1}"}else{j="{'ui-grid-tree-header-row': row.treeLevel > -1}"}g.attr("ng-class",j);return{pre:function(m,l,k,n){},post:function(m,l,k,n){}}}}}])})();(function(){var a=angular.module("ui.grid.treeView",["ui.grid","ui.grid.treeBase"]);a.constant("uiGridTreeViewConstants",{featureName:"treeView",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}});a.service("uiGridTreeViewService",["$q","uiGridTreeViewConstants","uiGridTreeBaseConstants","uiGridTreeBaseService","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants",function(h,c,b,g,k,d,j,e,i){var f={initializeGrid:function(m,l){g.initializeGrid(m,l);m.treeView={};m.registerRowsProcessor(f.adjustSorting,60);var n={events:{treeView:{}},methods:{treeView:{}}};m.api.registerEventsFromObject(n.events);m.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(l){l.enableTreeView=l.enableTreeView!==false},adjustSorting:function(m){var l=this;l.columns.forEach(function(n){if(n.sort){n.sort.ignoreSort=true}});return m}};return f}]);a.directive("uiGridTreeView",["uiGridTreeViewConstants","uiGridTreeViewService","$templateCache",function(c,d,b){return{replace:true,priority:0,require:"^uiGrid",scope:false,compile:function(){return{pre:function(g,f,e,h){if(h.grid.options.enableTreeView!==false){d.initializeGrid(h.grid,g)}},post:function(g,f,e,h){}}}}}])})();angular.module("ui.grid").run(["$templateCache",function(a){a.put("ui-grid/ui-grid-filter",'<div class="ui-grid-filter-container" ng-repeat="colFilter in col.filters" ng-class="{\'ui-grid-filter-cancel-button-hidden\' : colFilter.disableCancelFilterButton === true }"><div ng-if="colFilter.type !== \'select\'"><input type="text" class="ui-grid-filter-input" ng-model="colFilter.term" ng-attr-placeholder="{{colFilter.placeholder || \'\'}}"><div class="ui-grid-filter-button" ng-click="colFilter.term = null" ng-if="!colFilter.disableCancelFilterButton"><i class="ui-grid-icon-cancel" ng-show="colFilter.term !== undefined && colFilter.term !== null && colFilter.term !== \'\'">&nbsp;</i></div></div><div ng-if="colFilter.type === \'select\'"><select class="ui-grid-filter-select" ng-model="colFilter.term" ng-attr-placeholder="{{colFilter.placeholder || \'\'}}" ng-options="option.value as option.label for option in colFilter.selectOptions"><option value=""></option></select><div class="ui-grid-filter-button-select" ng-click="colFilter.term = null" ng-if="!colFilter.disableCancelFilterButton"><i class="ui-grid-icon-cancel" ng-show="colFilter.term !== undefined && colFilter.term != null">&nbsp;</i></div></div></div>');a.put("ui-grid/ui-grid-footer",'<div class="ui-grid-footer-panel ui-grid-footer-aggregates-row"><div class="ui-grid-footer ui-grid-footer-viewport"><div class="ui-grid-footer-canvas"><div class="ui-grid-footer-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div class="ui-grid-footer-cell-row"><div ng-repeat="col in colContainer.renderedColumns track by col.uid" ui-grid-footer-cell col="col" render-index="$index" class="ui-grid-footer-cell ui-grid-clearfix"></div></div></div></div></div></div>');a.put("ui-grid/ui-grid-grid-footer",'<div class="ui-grid-footer-info ui-grid-grid-footer"><span>{{\'search.totalItems\' | t}} {{grid.rows.length}}</span> <span ng-if="grid.renderContainers.body.visibleRowCache.length !== grid.rows.length" class="ngLabel">({{"search.showingItems" | t}} {{grid.renderContainers.body.visibleRowCache.length}})</span></div>');a.put("ui-grid/ui-grid-group-panel",'<div class="ui-grid-group-panel"><div ui-t="groupPanel.description" class="description" ng-show="groupings.length == 0"></div><ul ng-show="groupings.length > 0" class="ngGroupList"><li class="ngGroupItem" ng-repeat="group in configGroups"><span class="ngGroupElement"><span class="ngGroupName">{{group.displayName}} <span ng-click="removeGroup($index)" class="ngRemoveGroup">x</span></span> <span ng-hide="$last" class="ngGroupArrow"></span></span></li></ul></div>');a.put("ui-grid/ui-grid-header",'<div class="ui-grid-header"><div class="ui-grid-top-panel"><div class="ui-grid-header-viewport"><div class="ui-grid-header-canvas"><div class="ui-grid-header-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div class="ui-grid-header-cell-row"><div class="ui-grid-header-cell ui-grid-clearfix" ng-repeat="col in colContainer.renderedColumns track by col.uid" ui-grid-header-cell col="col" render-index="$index"></div></div></div></div></div></div></div>');a.put("ui-grid/ui-grid-menu-button",'<div class="ui-grid-menu-button" ng-click="toggleMenu()"><div class="ui-grid-icon-container"><i class="ui-grid-icon-menu">&nbsp;</i></div><div ui-grid-menu menu-items="menuItems"></div></div>');a.put("ui-grid/ui-grid-no-header",'<div class="ui-grid-top-panel"></div>');a.put("ui-grid/ui-grid-row",'<div ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.uid" class="ui-grid-cell" ng-class="{ \'ui-grid-row-header-cell\': col.isRowHeader }" ui-grid-cell></div>');a.put("ui-grid/ui-grid",'<div ui-i18n="en" class="ui-grid"><!-- TODO (c0bra): add "scoped" attr here, eventually? --><style ui-grid-style>.grid{{ grid.id }} {\n      /* Styles for the grid */\n    }\n\n    .grid{{ grid.id }} .ui-grid-row, .grid{{ grid.id }} .ui-grid-cell, .grid{{ grid.id }} .ui-grid-cell .ui-grid-vertical-bar {\n      height: {{ grid.options.rowHeight }}px;\n    }\n\n    .grid{{ grid.id }} .ui-grid-row:last-child .ui-grid-cell {\n      border-bottom-width: {{ ((grid.getTotalRowHeight() < grid.getViewportHeight()) && \'1\') || \'0\' }}px;\n    }\n\n    {{ grid.verticalScrollbarStyles }}\n    {{ grid.horizontalScrollbarStyles }}\n\n    /*\n    .ui-grid[dir=rtl] .ui-grid-viewport {\n      padding-left: {{ grid.verticalScrollbarWidth }}px;\n    }\n    */\n\n    {{ grid.customStyles }}</style><div class="ui-grid-contents-wrapper"><div ui-grid-menu-button ng-if="grid.options.enableGridMenu"></div><div ng-if="grid.hasLeftContainer()" style="width: 0" ui-grid-pinned-container="\'left\'"></div><div ui-grid-render-container container-id="\'body\'" col-container-name="\'body\'" row-container-name="\'body\'" bind-scroll-horizontal="true" bind-scroll-vertical="true" enable-horizontal-scrollbar="grid.options.enableHorizontalScrollbar" enable-vertical-scrollbar="grid.options.enableVerticalScrollbar"></div><div ng-if="grid.hasRightContainer()" style="width: 0" ui-grid-pinned-container="\'right\'"></div><div ui-grid-grid-footer ng-if="grid.options.showGridFooter"></div><div ui-grid-column-menu ng-if="grid.options.enableColumnMenus"></div><div ng-transclude></div></div></div>');a.put("ui-grid/uiGridCell",'<div class="ui-grid-cell-contents" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>');a.put("ui-grid/uiGridColumnMenu",'<div class="ui-grid-column-menu"><div ui-grid-menu menu-items="menuItems"><!-- <div class="ui-grid-column-menu">\n    <div class="inner" ng-show="menuShown">\n      <ul>\n        <div ng-show="grid.options.enableSorting">\n          <li ng-click="sortColumn($event, asc)" ng-class="{ \'selected\' : col.sort.direction == asc }"><i class="ui-grid-icon-sort-alt-up"></i> Sort Ascending</li>\n          <li ng-click="sortColumn($event, desc)" ng-class="{ \'selected\' : col.sort.direction == desc }"><i class="ui-grid-icon-sort-alt-down"></i> Sort Descending</li>\n          <li ng-show="col.sort.direction" ng-click="unsortColumn()"><i class="ui-grid-icon-cancel"></i> Remove Sort</li>\n        </div>\n      </ul>\n    </div>\n  </div> --></div></div>');a.put("ui-grid/uiGridFooterCell",'<div class="ui-grid-cell-contents" col-index="renderIndex"><div>{{ col.getAggregationText() + ( col.getAggregationValue() CUSTOM_FILTERS ) }}</div></div>');a.put("ui-grid/uiGridHeaderCell",'<div ng-class="{ \'sortable\': sortable }"><!-- <div class="ui-grid-vertical-bar">&nbsp;</div> --><div class="ui-grid-cell-contents" col-index="renderIndex" title="TOOLTIP"><span>{{ col.displayName CUSTOM_FILTERS }}</span> <span ui-grid-visible="col.sort.direction" ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }">&nbsp;</span></div><div class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-class="{\'ui-grid-column-menu-button-last-col\': isLastCol}"><i class="ui-grid-icon-angle-down">&nbsp;</i></div><div ui-grid-filter></div></div>');a.put("ui-grid/uiGridMenu",'<div class="ui-grid-menu" ng-if="shown"><div class="ui-grid-menu-mid" ng-show="shownMid"><div class="ui-grid-menu-inner"><ul class="ui-grid-menu-items"><li ng-repeat="item in menuItems" ui-grid-menu-item action="item.action" name="item.title" active="item.active" icon="item.icon" shown="item.shown" context="item.context" template-url="item.templateUrl" leave-open="item.leaveOpen"></li></ul></div></div></div>');a.put("ui-grid/uiGridMenuItem",'<li class="ui-grid-menu-item" ng-click="itemAction($event, title)" ng-show="itemShown()" ng-class="{ \'ui-grid-menu-item-active\' : active() }"><i ng-class="icon"></i> {{ name }}</li>');a.put("ui-grid/uiGridRenderContainer","<div class=\"ui-grid-render-container\" ng-style=\"{ 'margin-left': colContainer.getMargin('left') + 'px', 'margin-right': colContainer.getMargin('right') + 'px' }\"><div ui-grid-header></div><div ui-grid-viewport></div><div ui-grid-footer ng-if=\"grid.options.showColumnFooter\"></div></div>");a.put("ui-grid/uiGridViewport",'<div class="ui-grid-viewport" ng-style="colContainer.getViewportStyle()"><div class="ui-grid-canvas"><div ng-repeat="(rowRenderIndex, row) in rowContainer.renderedRows track by $index" class="ui-grid-row" ng-style="Viewport.rowStyle(rowRenderIndex)"><div ui-grid-row="row" row-render-index="rowRenderIndex"></div></div></div></div>');a.put("ui-grid/cellEditor",'<div><form name="inputForm"><input type="INPUT_TYPE" ng-class="\'colt\' + col.uid" ui-grid-editor ng-model="MODEL_COL_FIELD"></form></div>');a.put("ui-grid/dropdownEditor",'<div><form name="inputForm"><select ng-class="\'colt\' + col.uid" ui-grid-edit-dropdown ng-model="MODEL_COL_FIELD" ng-options="field[editDropdownIdLabel] as field[editDropdownValueLabel] CUSTOM_FILTERS for field in editDropdownOptionsArray"></select></form></div>');a.put("ui-grid/fileChooserEditor",'<div><form name="inputForm"><input ng-class="\'colt\' + col.uid" ui-grid-edit-file-chooser type="file" id="files" name="files[]" ng-model="MODEL_COL_FIELD"></form></div>');a.put("ui-grid/expandableRow",'<div ui-grid-expandable-row ng-if="expandableRow.shouldRenderExpand()" class="expandableRow" style="float:left; margin-top: 1px; margin-bottom: 1px" ng-style="{width: (grid.renderContainers.body.getCanvasWidth()) + \'px\'\n     , height: grid.options.expandableRowHeight + \'px\'}"></div>');a.put("ui-grid/expandableRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-class="{ \'ui-grid-icon-plus-squared\' : !row.isExpanded, \'ui-grid-icon-minus-squared\' : row.isExpanded }" ng-click="grid.api.expandable.toggleRowExpansion(row.entity)"></i></div></div>');a.put("ui-grid/expandableScrollFiller","<div ng-if=\"expandableRow.shouldRenderFiller()\" ng-class=\"{scrollFiller:true, scrollFillerClass:(colContainer.name === 'body')}\" ng-style=\"{ width: (grid.getViewportWidth()) + 'px',\n              height: grid.options.expandableRowHeight + 2 + 'px', 'margin-left': grid.options.rowHeader.rowHeaderWidth + 'px' }\"><i class=\"ui-grid-icon-spin5 ui-grid-animate-spin\" ng-style=\"{ 'margin-top': ( grid.options.expandableRowHeight/2 - 5) + 'px',\n            'margin-left' : ((grid.getViewportWidth() - grid.options.rowHeader.rowHeaderWidth)/2 - 5) + 'px' }\"></i></div>");a.put("ui-grid/expandableTopRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-class="{ \'ui-grid-icon-plus-squared\' : !grid.expandable.expandedAll, \'ui-grid-icon-minus-squared\' : grid.expandable.expandedAll }" ng-click="grid.api.expandable.toggleAllRows()"></i></div></div>');a.put("ui-grid/csvLink",'<span class="ui-grid-exporter-csv-link-span"><a href="data:text/csv;charset=UTF-8,CSV_CONTENT" download="FILE_NAME">LINK_LABEL</a></span>');a.put("ui-grid/importerMenuItem",'<li class="ui-grid-menu-item"><form><input class="ui-grid-importer-file-chooser" type="file" id="files" name="files[]"></form></li>');a.put("ui-grid/importerMenuItemContainer","<div ui-grid-importer-menu-item></div>");a.put("ui-grid/pagination",'<div class="ui-grid-pager-panel" ui-grid-pager ng-show="grid.options.enablePaginationControls"><div class="ui-grid-pager-container"><div class="ui-grid-pager-control"><button type="button" ng-click="paginationApi.seek(1)" ng-disabled="cantPageBackward()"><div class="first-triangle"><div class="first-bar"></div></div></button> <button type="button" ng-click="paginationApi.previousPage()" ng-disabled="cantPageBackward()"><div class="first-triangle prev-triangle"></div></button> <input type="number" ng-model="grid.options.paginationCurrentPage" min="1" max="{{ paginationApi.getTotalPages() }}" required> <span class="ui-grid-pager-max-pages-number" ng-show="paginationApi.getTotalPages() > 0">/ {{ paginationApi.getTotalPages() }}</span> <button type="button" ng-click="paginationApi.nextPage()" ng-disabled="cantPageForward()"><div class="last-triangle next-triangle"></div></button> <button type="button" ng-click="paginationApi.seek(paginationApi.getTotalPages())" ng-disabled="cantPageToLast()"><div class="last-triangle"><div class="last-bar"></div></div></button></div><div class="ui-grid-pager-row-count-picker"><select ng-model="grid.options.paginationPageSize" ng-options="o as o for o in grid.options.paginationPageSizes"></select><span class="ui-grid-pager-row-count-label">&nbsp;{{sizesLabel}}</span></div></div><div class="ui-grid-pager-count-container"><div class="ui-grid-pager-count"><span ng-show="grid.options.totalItems > 0">{{showingLow}} - {{showingHigh}} of {{grid.options.totalItems}} {{totalItemsLabel}}</span></div></div></div>');a.put("ui-grid/columnResizer",'<div ui-grid-column-resizer ng-if="grid.options.enableColumnResizing" class="ui-grid-column-resizer" col="col" position="right" render-index="renderIndex" unselectable="on"></div>');a.put("ui-grid/gridFooterSelectedItems",'<span ng-if="grid.selection.selectedCount !== 0 && grid.options.enableFooterTotalSelected">({{"search.selectedItems" | t}} {{grid.selection.selectedCount}})</span>');a.put("ui-grid/selectionHeaderCell",'<div><!-- <div class="ui-grid-vertical-bar">&nbsp;</div> --><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-selection-select-all-buttons ng-if="grid.options.enableSelectAll"></ui-grid-selection-select-all-buttons></div></div>');a.put("ui-grid/selectionRowHeader",'<div class="ui-grid-disable-selection"><div class="ui-grid-cell-contents"><ui-grid-selection-row-header-buttons></ui-grid-selection-row-header-buttons></div></div>');a.put("ui-grid/selectionRowHeaderButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-row-selected\': row.isSelected}" ng-click="selectButtonClick(row, $event)">&nbsp;</div>');a.put("ui-grid/selectionSelectAllButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-all-selected\': grid.selection.selectAll}" ng-click="headerButtonClick($event)"></div>');a.put("ui-grid/treeBaseExpandAllButtons",'<div class="ui-grid-tree-base-row-header-buttons" ng-class="{\'ui-grid-icon-minus-squared\': grid.treeBase.numberLevels > 0 && grid.treeBase.expandAll, \'ui-grid-icon-plus-squared\': grid.treeBase.numberLevels > 0 && !grid.treeBase.expandAll}" ng-click="headerButtonClick($event)"></div>');a.put("ui-grid/treeBaseHeaderCell",'<div><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-tree-base-expand-all-buttons></ui-grid-tree-base-expand-all-buttons></div></div>');a.put("ui-grid/treeBaseRowHeader",'<div class="ui-grid-cell-contents"><ui-grid-tree-base-row-header-buttons></ui-grid-tree-base-row-header-buttons></div>');a.put("ui-grid/treeBaseRowHeaderButtons","<div class=\"ui-grid-tree-base-row-header-buttons\" ng-class=\"{'ui-grid-tree-base-header': row.treeLevel > -1 }\" ng-click=\"treeButtonClick(row, $event)\"><i ng-class=\"{'ui-grid-icon-minus-squared': ( ( grid.options.showTreeExpandNoChildren && row.treeLevel > -1 ) || ( row.treeNode.children && row.treeNode.children.length > 0 ) ) && row.treeNode.state === 'expanded', 'ui-grid-icon-plus-squared': ( ( grid.options.showTreeExpandNoChildren && row.treeLevel > -1 ) || ( row.treeNode.children && row.treeNode.children.length > 0 ) ) && row.treeNode.state === 'collapsed'}\" ng-style=\"{'padding-left': grid.options.treeIndent * row.treeLevel + 'px'}\"></i> &nbsp;</div>")}]);